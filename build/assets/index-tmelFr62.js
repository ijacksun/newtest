function tT(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function jx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nf={exports:{}},Ol={},kf={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function nT(){if(yv)return Ke;yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.iterator;function T(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,b={};function R(H,re,_e){this.props=H,this.context=re,this.refs=b,this.updater=_e||C}R.prototype.isReactComponent={},R.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=R.prototype;function F(H,re,_e){this.props=H,this.context=re,this.refs=b,this.updater=_e||C}var U=F.prototype=new O;U.constructor=F,M(U,R.prototype),U.isPureReactComponent=!0;var $=Array.isArray,J=Object.prototype.hasOwnProperty,G={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function E(H,re,_e){var ve,Pe={},Me=null,z=null;if(re!=null)for(ve in re.ref!==void 0&&(z=re.ref),re.key!==void 0&&(Me=""+re.key),re)J.call(re,ve)&&!N.hasOwnProperty(ve)&&(Pe[ve]=re[ve]);var Z=arguments.length-2;if(Z===1)Pe.children=_e;else if(1<Z){for(var ne=Array(Z),se=0;se<Z;se++)ne[se]=arguments[se+2];Pe.children=ne}if(H&&H.defaultProps)for(ve in Z=H.defaultProps,Z)Pe[ve]===void 0&&(Pe[ve]=Z[ve]);return{$$typeof:n,type:H,key:Me,ref:z,props:Pe,_owner:G.current}}function k(H,re){return{$$typeof:n,type:H.type,key:re,ref:H.ref,props:H.props,_owner:H._owner}}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function j(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(_e){return re[_e]})}var L=/\/+/g;function P(H,re){return typeof H=="object"&&H!==null&&H.key!=null?j(""+H.key):re.toString(36)}function ge(H,re,_e,ve,Pe){var Me=typeof H;(Me==="undefined"||Me==="boolean")&&(H=null);var z=!1;if(H===null)z=!0;else switch(Me){case"string":case"number":z=!0;break;case"object":switch(H.$$typeof){case n:case e:z=!0}}if(z)return z=H,Pe=Pe(z),H=ve===""?"."+P(z,0):ve,$(Pe)?(_e="",H!=null&&(_e=H.replace(L,"$&/")+"/"),ge(Pe,re,_e,"",function(se){return se})):Pe!=null&&(D(Pe)&&(Pe=k(Pe,_e+(!Pe.key||z&&z.key===Pe.key?"":(""+Pe.key).replace(L,"$&/")+"/")+H)),re.push(Pe)),1;if(z=0,ve=ve===""?".":ve+":",$(H))for(var Z=0;Z<H.length;Z++){Me=H[Z];var ne=ve+P(Me,Z);z+=ge(Me,re,_e,ne,Pe)}else if(ne=T(H),typeof ne=="function")for(H=ne.call(H),Z=0;!(Me=H.next()).done;)Me=Me.value,ne=ve+P(Me,Z++),z+=ge(Me,re,_e,ne,Pe);else if(Me==="object")throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return z}function De(H,re,_e){if(H==null)return H;var ve=[],Pe=0;return ge(H,ve,"","",function(Me){return re.call(_e,Me,Pe++)}),ve}function we(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(_e){(H._status===0||H._status===-1)&&(H._status=1,H._result=_e)},function(_e){(H._status===0||H._status===-1)&&(H._status=2,H._result=_e)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var xe={current:null},q={transition:null},he={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:q,ReactCurrentOwner:G};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:De,forEach:function(H,re,_e){De(H,function(){re.apply(this,arguments)},_e)},count:function(H){var re=0;return De(H,function(){re++}),re},toArray:function(H){return De(H,function(re){return re})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ke.Component=R,Ke.Fragment=t,Ke.Profiler=o,Ke.PureComponent=F,Ke.StrictMode=s,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ke.act=fe,Ke.cloneElement=function(H,re,_e){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ve=M({},H.props),Pe=H.key,Me=H.ref,z=H._owner;if(re!=null){if(re.ref!==void 0&&(Me=re.ref,z=G.current),re.key!==void 0&&(Pe=""+re.key),H.type&&H.type.defaultProps)var Z=H.type.defaultProps;for(ne in re)J.call(re,ne)&&!N.hasOwnProperty(ne)&&(ve[ne]=re[ne]===void 0&&Z!==void 0?Z[ne]:re[ne])}var ne=arguments.length-2;if(ne===1)ve.children=_e;else if(1<ne){Z=Array(ne);for(var se=0;se<ne;se++)Z[se]=arguments[se+2];ve.children=Z}return{$$typeof:n,type:H.type,key:Pe,ref:Me,props:ve,_owner:z}},Ke.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Ke.createElement=E,Ke.createFactory=function(H){var re=E.bind(null,H);return re.type=H,re},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(H){return{$$typeof:f,render:H}},Ke.isValidElement=D,Ke.lazy=function(H){return{$$typeof:x,_payload:{_status:-1,_result:H},_init:we}},Ke.memo=function(H,re){return{$$typeof:g,type:H,compare:re===void 0?null:re}},Ke.startTransition=function(H){var re=q.transition;q.transition={};try{H()}finally{q.transition=re}},Ke.unstable_act=fe,Ke.useCallback=function(H,re){return xe.current.useCallback(H,re)},Ke.useContext=function(H){return xe.current.useContext(H)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(H){return xe.current.useDeferredValue(H)},Ke.useEffect=function(H,re){return xe.current.useEffect(H,re)},Ke.useId=function(){return xe.current.useId()},Ke.useImperativeHandle=function(H,re,_e){return xe.current.useImperativeHandle(H,re,_e)},Ke.useInsertionEffect=function(H,re){return xe.current.useInsertionEffect(H,re)},Ke.useLayoutEffect=function(H,re){return xe.current.useLayoutEffect(H,re)},Ke.useMemo=function(H,re){return xe.current.useMemo(H,re)},Ke.useReducer=function(H,re,_e){return xe.current.useReducer(H,re,_e)},Ke.useRef=function(H){return xe.current.useRef(H)},Ke.useState=function(H){return xe.current.useState(H)},Ke.useSyncExternalStore=function(H,re,_e){return xe.current.useSyncExternalStore(H,re,_e)},Ke.useTransition=function(){return xe.current.useTransition()},Ke.version="18.3.1",Ke}var vv;function Jp(){return vv||(vv=1,kf.exports=nT()),kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function rT(){if(xv)return Ol;xv=1;var n=Jp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var x,_={},T=null,C=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)s.call(p,x)&&!a.hasOwnProperty(x)&&(_[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)_[x]===void 0&&(_[x]=p[x]);return{$$typeof:e,type:f,key:T,ref:C,props:_,_owner:o.current}}return Ol.Fragment=t,Ol.jsx=c,Ol.jsxs=c,Ol}var wv;function sT(){return wv||(wv=1,Nf.exports=rT()),Nf.exports}var h=sT(),Iu={},Af={exports:{}},Tn={},Rf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function iT(){return _v||(_v=1,(function(n){function e(q,he){var fe=q.length;q.push(he);e:for(;0<fe;){var H=fe-1>>>1,re=q[H];if(0<o(re,he))q[H]=he,q[fe]=re,fe=H;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var he=q[0],fe=q.pop();if(fe!==he){q[0]=fe;e:for(var H=0,re=q.length,_e=re>>>1;H<_e;){var ve=2*(H+1)-1,Pe=q[ve],Me=ve+1,z=q[Me];if(0>o(Pe,fe))Me<re&&0>o(z,Pe)?(q[H]=z,q[Me]=fe,H=Me):(q[H]=Pe,q[ve]=fe,H=ve);else if(Me<re&&0>o(z,fe))q[H]=z,q[Me]=fe,H=Me;else break e}}return he}function o(q,he){var fe=q.sortIndex-he.sortIndex;return fe!==0?fe:q.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],g=[],x=1,_=null,T=3,C=!1,M=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(q){for(var he=t(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=q)s(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(g)}}function $(q){if(b=!1,U(q),!M)if(t(p)!==null)M=!0,we(J);else{var he=t(g);he!==null&&xe($,he.startTime-q)}}function J(q,he){M=!1,b&&(b=!1,O(E),E=-1),C=!0;var fe=T;try{for(U(he),_=t(p);_!==null&&(!(_.expirationTime>he)||q&&!j());){var H=_.callback;if(typeof H=="function"){_.callback=null,T=_.priorityLevel;var re=H(_.expirationTime<=he);he=n.unstable_now(),typeof re=="function"?_.callback=re:_===t(p)&&s(p),U(he)}else s(p);_=t(p)}if(_!==null)var _e=!0;else{var ve=t(g);ve!==null&&xe($,ve.startTime-he),_e=!1}return _e}finally{_=null,T=fe,C=!1}}var G=!1,N=null,E=-1,k=5,D=-1;function j(){return!(n.unstable_now()-D<k)}function L(){if(N!==null){var q=n.unstable_now();D=q;var he=!0;try{he=N(!0,q)}finally{he?P():(G=!1,N=null)}}else G=!1}var P;if(typeof F=="function")P=function(){F(L)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,De=ge.port2;ge.port1.onmessage=L,P=function(){De.postMessage(null)}}else P=function(){R(L,0)};function we(q){N=q,G||(G=!0,P())}function xe(q,he){E=R(function(){q(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){M||C||(M=!0,we(J))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(q){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var fe=T;T=he;try{return q()}finally{T=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,he){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var fe=T;T=q;try{return he()}finally{T=fe}},n.unstable_scheduleCallback=function(q,he,fe){var H=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?H+fe:H):fe=H,q){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=fe+re,q={id:x++,callback:he,priorityLevel:q,startTime:fe,expirationTime:re,sortIndex:-1},fe>H?(q.sortIndex=fe,e(g,q),t(p)===null&&q===t(g)&&(b?(O(E),E=-1):b=!0,xe($,fe-H))):(q.sortIndex=re,e(p,q),M||C||(M=!0,we(J))),q},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(q){var he=T;return function(){var fe=T;T=he;try{return q.apply(this,arguments)}finally{T=fe}}}})(Pf)),Pf}var Ev;function oT(){return Ev||(Ev=1,Rf.exports=iT()),Rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function aT(){if(Sv)return Tn;Sv=1;var n=Jp(),e=oT();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},_={};function T(r){return p.call(_,r)?!0:p.call(x,r)?!1:g.test(r)?_[r]=!0:(x[r]=!0,!1)}function C(r,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,i,l,d){if(i===null||typeof i>"u"||C(r,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(r,i,l,d,m,y,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=S}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];R[i]=new b(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(O,F);R[i]=new b(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(O,F);R[i]=new b(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(O,F);R[i]=new b(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function U(r,i,l,d){var m=R.hasOwnProperty(i)?R[i]:null;(m!==null?m.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,l,m,d)&&(l=null),d||m===null?T(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(i=m.attributeName,d=m.attributeNamespace,l===null?r.removeAttribute(i):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?r.setAttributeNS(d,i,l):r.setAttribute(i,l))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),G=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),q=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var fe=Object.assign,H;function re(r){if(H===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);H=i&&i[1]||""}return`
`+H+r}var _e=!1;function ve(r,i){if(!r||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var d=ee}Reflect.construct(r,[],i)}else{try{i.call()}catch(ee){d=ee}r.call(i.prototype)}else{try{throw Error()}catch(ee){d=ee}r()}}catch(ee){if(ee&&d&&typeof ee.stack=="string"){for(var m=ee.stack.split(`
`),y=d.stack.split(`
`),S=m.length-1,V=y.length-1;1<=S&&0<=V&&m[S]!==y[V];)V--;for(;1<=S&&0<=V;S--,V--)if(m[S]!==y[V]){if(S!==1||V!==1)do if(S--,V--,0>V||m[S]!==y[V]){var B=`
`+m[S].replace(" at new "," at ");return r.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",r.displayName)),B}while(1<=S&&0<=V);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?re(r):""}function Pe(r){switch(r.tag){case 5:return re(r.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return r=ve(r.type,!1),r;case 11:return r=ve(r.type.render,!1),r;case 1:return r=ve(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case G:return"Portal";case k:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case ge:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case L:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case De:return i=r.displayName||null,i!==null?i:Me(r.type)||"Memo";case we:i=r._payload,r=r._init;try{return Me(r(i))}catch{}}return null}function z(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(i);case 8:return i===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Z(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ne(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function se(r){var i=ne(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ue(r){r._valueTracker||(r._valueTracker=se(r))}function Oe(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=ne(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function Qe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nt(r,i){var l=i.checked;return fe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function mn(r,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Z(i.value!=null?i.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function dn(r,i){i=i.checked,i!=null&&U(r,"checked",i,!1)}function Nn(r,i){dn(r,i);var l=Z(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Et(r,i.type,l):i.hasOwnProperty("defaultValue")&&Et(r,i.type,Z(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Os(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Et(r,i,l){(i!=="number"||Qe(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ht=Array.isArray;function qt(r,i,l,d){if(r=r.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=i.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Z(l),i=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}i!==null||r[m].disabled||(i=r[m])}i!==null&&(i.selected=!0)}}function ko(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function xr(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(ht(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Z(l)}}function Oi(r,i){var l=Z(i.value),d=Z(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function wr(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Mi(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ms(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Mi(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,Vi=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(i,l,d,m)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function is(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},os=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(r){os.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),nr[i]=nr[r]})});function Er(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||nr.hasOwnProperty(r)&&nr[r]?(""+i).trim():i+"px"}function Vs(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Er(l,i[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,m):r[l]=m}}var Li=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gn(r,i){if(i){if(Li[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ls(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=null;function Fs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $n=null,Hn=null,ct=null;function Us(r){if(r=wl(r)){if(typeof $n!="function")throw Error(t(280));var i=r.stateNode;i&&(i=zc(i),$n(r.stateNode,r.type,i))}}function Tr(r){Hn?ct?ct.push(r):ct=[r]:Hn=r}function br(){if(Hn){var r=Hn,i=ct;if(ct=Hn=null,Us(r),i)for(r=0;r<i.length;r++)Us(i[r])}}function Ao(r,i){return r(i)}function Fi(){}var Wn=!1;function Ro(r,i,l){if(Wn)return r(i,l);Wn=!0;try{return Ao(r,i,l)}finally{Wn=!1,(Hn!==null||ct!==null)&&(Fi(),br())}}function as(r,i){var l=r.stateNode;if(l===null)return null;var d=zc(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Ir=!1;if(f)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Ir=!1}function Po(r,i,l,d,m,y,S,V,B){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(l,ee)}catch(le){this.onError(le)}}var rr=!1,qn=null,zs=!1,yn=null,Do={onError:function(r){rr=!0,qn=r}};function jo(r,i,l,d,m,y,S,V,B){rr=!1,qn=null,Po.apply(Do,arguments)}function Ui(r,i,l,d,m,y,S,V,B){if(jo.apply(this,arguments),rr){if(rr){var ee=qn;rr=!1,qn=null}else throw Error(t(198));zs||(zs=!0,yn=ee)}}function vn(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function ls(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Oo(r){if(vn(r)!==r)throw Error(t(188))}function Mo(r){var i=r.alternate;if(!i){if(i=vn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var l=r,d=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Oo(m),r;if(y===d)return Oo(m),i;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var S=!1,V=m.child;V;){if(V===l){S=!0,l=m,d=y;break}if(V===d){S=!0,d=m,l=y;break}V=V.sibling}if(!S){for(V=y.child;V;){if(V===l){S=!0,l=y,d=m;break}if(V===d){S=!0,d=y,l=m;break}V=V.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:i}function Vo(r){return r=Mo(r),r!==null?cs(r):null}function cs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=cs(r);if(i!==null)return i;r=r.sibling}return null}var Y=e.unstable_scheduleCallback,ce=e.unstable_cancelCallback,me=e.unstable_shouldYield,Ae=e.unstable_requestPaint,Se=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,Ut=e.unstable_UserBlockingPriority,zt=e.unstable_NormalPriority,zi=e.unstable_LowPriority,Bs=e.unstable_IdlePriority,Bi=null,kn=null;function Tc(r){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Bi,r,void 0,(r.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:$i,Nr=Math.log,Gn=Math.LN2;function $i(r){return r>>>=0,r===0?32:31-(Nr(r)/Gn|0)|0}var kr=64,$s=4194304;function it(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function us(r,i){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,y=r.pingedLanes,S=l&268435455;if(S!==0){var V=S&~m;V!==0?d=it(V):(y&=S,y!==0&&(d=it(y)))}else S=l&~m,S!==0?d=it(S):y!==0&&(d=it(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&m)===0&&(m=d&-d,y=i&-i,m>=y||m===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)l=31-An(i),m=1<<l,d|=r[l],i&=~m;return d}function Hi(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wi(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes;0<y;){var S=31-An(y),V=1<<S,B=m[S];B===-1?((V&l)===0||(V&d)!==0)&&(m[S]=Hi(V,i)):B<=i&&(r.expiredLanes|=V),y&=~V}}function Za(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function el(){var r=kr;return kr<<=1,(kr&4194240)===0&&(kr=64),r}function tl(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function qi(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-An(i),r[i]=l}function ih(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-An(l),y=1<<m;i[m]=0,d[m]=-1,r[m]=-1,l&=~y}}function nl(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-An(l),m=1<<d;m&i|r[d]&i&&(r[d]|=i),l&=~m}}var Ze=0;function Ar(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var rl,Lo,sl,il,ol,Rr=!1,Fo=[],Pr=null,Dr=null,Gt=null,Gi=new Map,ds=new Map,Rn=[],bc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hs(r,i){switch(r){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Gi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(i.pointerId)}}function sr(r,i,l,d,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},i!==null&&(i=wl(i),i!==null&&Lo(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),r)}function Ic(r,i,l,d,m){switch(i){case"focusin":return Pr=sr(Pr,r,i,l,d,m),!0;case"dragenter":return Dr=sr(Dr,r,i,l,d,m),!0;case"mouseover":return Gt=sr(Gt,r,i,l,d,m),!0;case"pointerover":var y=m.pointerId;return Gi.set(y,sr(Gi.get(y)||null,r,i,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,ds.set(y,sr(ds.get(y)||null,r,i,l,d,m)),!0}return!1}function Uo(r){var i=Xi(r.target);if(i!==null){var l=vn(i);if(l!==null){if(i=l.tag,i===13){if(i=ls(l),i!==null){r.blockedOn=i,ol(r.priority,function(){sl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lt(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=zo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Sr=d,l.target.dispatchEvent(d),Sr=null}else return i=wl(l),i!==null&&Lo(i),r.blockedOn=l,!1;i.shift()}return!0}function Cc(r,i,l){lt(r)&&l.delete(i)}function oh(){Rr=!1,Pr!==null&&lt(Pr)&&(Pr=null),Dr!==null&&lt(Dr)&&(Dr=null),Gt!==null&&lt(Gt)&&(Gt=null),Gi.forEach(Cc),ds.forEach(Cc)}function Ws(r,i){r.blockedOn===i&&(r.blockedOn=null,Rr||(Rr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oh)))}function qs(r){function i(m){return Ws(m,r)}if(0<Fo.length){Ws(Fo[0],r);for(var l=1;l<Fo.length;l++){var d=Fo[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Pr!==null&&Ws(Pr,r),Dr!==null&&Ws(Dr,r),Gt!==null&&Ws(Gt,r),Gi.forEach(i),ds.forEach(i),l=0;l<Rn.length;l++)d=Rn[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Rn.length&&(l=Rn[0],l.blockedOn===null);)Uo(l),l.blockedOn===null&&Rn.shift()}var hs=$.ReactCurrentBatchConfig,fs=!0;function jr(r,i,l,d){var m=Ze,y=hs.transition;hs.transition=null;try{Ze=1,al(r,i,l,d)}finally{Ze=m,hs.transition=y}}function Nc(r,i,l,d){var m=Ze,y=hs.transition;hs.transition=null;try{Ze=4,al(r,i,l,d)}finally{Ze=m,hs.transition=y}}function al(r,i,l,d){if(fs){var m=zo(r,i,l,d);if(m===null)yh(r,i,d,Or,l),Hs(r,d);else if(Ic(m,r,i,l,d))d.stopPropagation();else if(Hs(r,d),i&4&&-1<bc.indexOf(r)){for(;m!==null;){var y=wl(m);if(y!==null&&rl(y),y=zo(r,i,l,d),y===null&&yh(r,i,d,Or,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else yh(r,i,d,null,l)}}var Or=null;function zo(r,i,l,d){if(Or=null,r=Fs(d),r=Xi(r),r!==null)if(i=vn(r),i===null)r=null;else if(l=i.tag,l===13){if(r=ls(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Or=r,null}function Bo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case tt:return 1;case Ut:return 4;case zt:case zi:return 16;case Bs:return 536870912;default:return 16}default:return 16}}var Pn=null,$o=null,ps=null;function kc(){if(ps)return ps;var r,i=$o,l=i.length,d,m="value"in Pn?Pn.value:Pn.textContent,y=m.length;for(r=0;r<l&&i[r]===m[r];r++);var S=l-r;for(d=1;d<=S&&i[l-d]===m[y-d];d++);return ps=m.slice(r,1<d?1-d:void 0)}function Ki(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Mr(){return!0}function ll(){return!1}function en(r){function i(l,d,m,y,S){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(l=r[V],this[V]=l?l(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Mr:ll,this.isPropagationStopped=ll,this}return fe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),i}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=en(Vr),Gs=fe({},Vr,{view:0,detail:0}),Ho=en(Gs),Wo,qo,Dn,Yi=fe({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:He,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Dn&&(Dn&&r.type==="mousemove"?(Wo=r.screenX-Dn.screenX,qo=r.screenY-Dn.screenY):qo=Wo=0,Dn=r),Wo)},movementY:function(r){return"movementY"in r?r.movementY:qo}}),cl=en(Yi),Ac=fe({},Yi,{dataTransfer:0}),Rc=en(Ac),Go=fe({},Gs,{relatedTarget:0}),Kt=en(Go),Pc=fe({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=en(Pc),Ks=fe({},Vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=en(Ks),v=fe({},Vr,{data:0}),w=en(v),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ye(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=te[r])?!!i[r]:!1}function He(){return ye}var Tt=fe({},Gs,{key:function(r){if(r.key){var i=A[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ki(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Q[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:He,charCode:function(r){return r.type==="keypress"?Ki(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ki(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),at=en(Tt),kt=fe({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jn=en(kt),ms=fe({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:He}),Lr=en(ms),Fr=fe({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=en(Fr),ul=fe({},Yi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Q1=en(ul),Y1=[9,13,27,32],ah=f&&"CompositionEvent"in window,dl=null;f&&"documentMode"in document&&(dl=document.documentMode);var X1=f&&"TextEvent"in window&&!dl,cg=f&&(!ah||dl&&8<dl&&11>=dl),ug=" ",dg=!1;function hg(r,i){switch(r){case"keyup":return Y1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qo=!1;function J1(r,i){switch(r){case"compositionend":return fg(i);case"keypress":return i.which!==32?null:(dg=!0,ug);case"textInput":return r=i.data,r===ug&&dg?null:r;default:return null}}function Z1(r,i){if(Qo)return r==="compositionend"||!ah&&hg(r,i)?(r=kc(),ps=$o=Pn=null,Qo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return cg&&i.locale!=="ko"?null:i.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!eS[r.type]:i==="textarea"}function mg(r,i,l,d){Tr(d),i=Lc(i,"onChange"),0<i.length&&(l=new Qi("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var hl=null,fl=null;function tS(r){Dg(r,0)}function jc(r){var i=ea(r);if(Oe(i))return r}function nS(r,i){if(r==="change")return i}var gg=!1;if(f){var lh;if(f){var ch="oninput"in document;if(!ch){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),ch=typeof yg.oninput=="function"}lh=ch}else lh=!1;gg=lh&&(!document.documentMode||9<document.documentMode)}function vg(){hl&&(hl.detachEvent("onpropertychange",xg),fl=hl=null)}function xg(r){if(r.propertyName==="value"&&jc(fl)){var i=[];mg(i,fl,r,Fs(r)),Ro(tS,i)}}function rS(r,i,l){r==="focusin"?(vg(),hl=i,fl=l,hl.attachEvent("onpropertychange",xg)):r==="focusout"&&vg()}function sS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jc(fl)}function iS(r,i){if(r==="click")return jc(i)}function oS(r,i){if(r==="input"||r==="change")return jc(i)}function aS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ir=typeof Object.is=="function"?Object.is:aS;function pl(r,i){if(ir(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!p.call(i,m)||!ir(r[m],i[m]))return!1}return!0}function wg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _g(r,i){var l=wg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wg(l)}}function Eg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Eg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Sg(){for(var r=window,i=Qe();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Qe(r.document)}return i}function uh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function lS(r){var i=Sg(),l=r.focusedElem,d=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Eg(l.ownerDocument.documentElement,l)){if(d!==null&&uh(l)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!r.extend&&y>d&&(m=d,d=y,y=m),m=_g(l,y);var S=_g(l,d);m&&S&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var cS=f&&"documentMode"in document&&11>=document.documentMode,Yo=null,dh=null,ml=null,hh=!1;function Tg(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hh||Yo==null||Yo!==Qe(d)||(d=Yo,"selectionStart"in d&&uh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ml&&pl(ml,d)||(ml=d,d=Lc(dh,"onSelect"),0<d.length&&(i=new Qi("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=Yo)))}function Oc(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Xo={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},fh={},bg={};f&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Mc(r){if(fh[r])return fh[r];if(!Xo[r])return r;var i=Xo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in bg)return fh[r]=i[l];return r}var Ig=Mc("animationend"),Cg=Mc("animationiteration"),Ng=Mc("animationstart"),kg=Mc("transitionend"),Ag=new Map,Rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(r,i){Ag.set(r,i),a(i,[r])}for(var ph=0;ph<Rg.length;ph++){var mh=Rg[ph],uS=mh.toLowerCase(),dS=mh[0].toUpperCase()+mh.slice(1);Qs(uS,"on"+dS)}Qs(Ig,"onAnimationEnd"),Qs(Cg,"onAnimationIteration"),Qs(Ng,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(kg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Pg(r,i,l){var d=r.type||"unknown-event";r.currentTarget=l,Ui(d,i,void 0,r),r.currentTarget=null}function Dg(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var S=d.length-1;0<=S;S--){var V=d[S],B=V.instance,ee=V.currentTarget;if(V=V.listener,B!==y&&m.isPropagationStopped())break e;Pg(m,V,ee),y=B}else for(S=0;S<d.length;S++){if(V=d[S],B=V.instance,ee=V.currentTarget,V=V.listener,B!==y&&m.isPropagationStopped())break e;Pg(m,V,ee),y=B}}}if(zs)throw r=yn,zs=!1,yn=null,r}function ft(r,i){var l=i[Sh];l===void 0&&(l=i[Sh]=new Set);var d=r+"__bubble";l.has(d)||(jg(i,r,2,!1),l.add(d))}function gh(r,i,l){var d=0;i&&(d|=4),jg(l,r,d,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function yl(r){if(!r[Vc]){r[Vc]=!0,s.forEach(function(l){l!=="selectionchange"&&(hS.has(l)||gh(l,!1,r),gh(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,gh("selectionchange",!1,i))}}function jg(r,i,l,d){switch(Bo(i)){case 1:var m=jr;break;case 4:m=Nc;break;default:m=al}l=m.bind(null,i,l,r),m=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(i,l,{capture:!0,passive:m}):r.addEventListener(i,l,!0):m!==void 0?r.addEventListener(i,l,{passive:m}):r.addEventListener(i,l,!1)}function yh(r,i,l,d,m){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var V=d.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;S=S.return}for(;V!==null;){if(S=Xi(V),S===null)return;if(B=S.tag,B===5||B===6){d=y=S;continue e}V=V.parentNode}}d=d.return}Ro(function(){var ee=y,le=Fs(l),de=[];e:{var oe=Ag.get(r);if(oe!==void 0){var Ee=Qi,Ie=r;switch(r){case"keypress":if(Ki(l)===0)break e;case"keydown":case"keyup":Ee=at;break;case"focusin":Ie="focus",Ee=Kt;break;case"focusout":Ie="blur",Ee=Kt;break;case"beforeblur":case"afterblur":Ee=Kt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Lr;break;case Ig:case Cg:case Ng:Ee=Dc;break;case kg:Ee=Ko;break;case"scroll":Ee=Ho;break;case"wheel":Ee=Q1;break;case"copy":case"cut":case"paste":Ee=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=jn}var ke=(i&4)!==0,bt=!ke&&r==="scroll",K=ke?oe!==null?oe+"Capture":null:oe;ke=[];for(var W=ee,X;W!==null;){X=W;var pe=X.stateNode;if(X.tag===5&&pe!==null&&(X=pe,K!==null&&(pe=as(W,K),pe!=null&&ke.push(vl(W,pe,X)))),bt)break;W=W.return}0<ke.length&&(oe=new Ee(oe,Ie,null,l,le),de.push({event:oe,listeners:ke}))}}if((i&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",Ee=r==="mouseout"||r==="pointerout",oe&&l!==Sr&&(Ie=l.relatedTarget||l.fromElement)&&(Xi(Ie)||Ie[gs]))break e;if((Ee||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,Ee?(Ie=l.relatedTarget||l.toElement,Ee=ee,Ie=Ie?Xi(Ie):null,Ie!==null&&(bt=vn(Ie),Ie!==bt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ee=null,Ie=ee),Ee!==Ie)){if(ke=cl,pe="onMouseLeave",K="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(ke=jn,pe="onPointerLeave",K="onPointerEnter",W="pointer"),bt=Ee==null?oe:ea(Ee),X=Ie==null?oe:ea(Ie),oe=new ke(pe,W+"leave",Ee,l,le),oe.target=bt,oe.relatedTarget=X,pe=null,Xi(le)===ee&&(ke=new ke(K,W+"enter",Ie,l,le),ke.target=X,ke.relatedTarget=bt,pe=ke),bt=pe,Ee&&Ie)t:{for(ke=Ee,K=Ie,W=0,X=ke;X;X=Jo(X))W++;for(X=0,pe=K;pe;pe=Jo(pe))X++;for(;0<W-X;)ke=Jo(ke),W--;for(;0<X-W;)K=Jo(K),X--;for(;W--;){if(ke===K||K!==null&&ke===K.alternate)break t;ke=Jo(ke),K=Jo(K)}ke=null}else ke=null;Ee!==null&&Og(de,oe,Ee,ke,!1),Ie!==null&&bt!==null&&Og(de,bt,Ie,ke,!0)}}e:{if(oe=ee?ea(ee):window,Ee=oe.nodeName&&oe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&oe.type==="file")var Re=nS;else if(pg(oe))if(gg)Re=oS;else{Re=sS;var Ve=rS}else(Ee=oe.nodeName)&&Ee.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Re=iS);if(Re&&(Re=Re(r,ee))){mg(de,Re,l,le);break e}Ve&&Ve(r,oe,ee),r==="focusout"&&(Ve=oe._wrapperState)&&Ve.controlled&&oe.type==="number"&&Et(oe,"number",oe.value)}switch(Ve=ee?ea(ee):window,r){case"focusin":(pg(Ve)||Ve.contentEditable==="true")&&(Yo=Ve,dh=ee,ml=null);break;case"focusout":ml=dh=Yo=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Tg(de,l,le);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":Tg(de,l,le)}var Le;if(ah)e:{switch(r){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Qo?hg(r,l)&&(ze="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(cg&&l.locale!=="ko"&&(Qo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Qo&&(Le=kc()):(Pn=le,$o="value"in Pn?Pn.value:Pn.textContent,Qo=!0)),Ve=Lc(ee,ze),0<Ve.length&&(ze=new w(ze,r,null,l,le),de.push({event:ze,listeners:Ve}),Le?ze.data=Le:(Le=fg(l),Le!==null&&(ze.data=Le)))),(Le=X1?J1(r,l):Z1(r,l))&&(ee=Lc(ee,"onBeforeInput"),0<ee.length&&(le=new w("onBeforeInput","beforeinput",null,l,le),de.push({event:le,listeners:ee}),le.data=Le))}Dg(de,i)})}function vl(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Lc(r,i){for(var l=i+"Capture",d=[];r!==null;){var m=r,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=as(r,l),y!=null&&d.unshift(vl(r,y,m)),y=as(r,i),y!=null&&d.push(vl(r,y,m))),r=r.return}return d}function Jo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Og(r,i,l,d,m){for(var y=i._reactName,S=[];l!==null&&l!==d;){var V=l,B=V.alternate,ee=V.stateNode;if(B!==null&&B===d)break;V.tag===5&&ee!==null&&(V=ee,m?(B=as(l,y),B!=null&&S.unshift(vl(l,B,V))):m||(B=as(l,y),B!=null&&S.push(vl(l,B,V)))),l=l.return}S.length!==0&&r.push({event:i,listeners:S})}var fS=/\r\n?/g,pS=/\u0000|\uFFFD/g;function Mg(r){return(typeof r=="string"?r:""+r).replace(fS,`
`).replace(pS,"")}function Fc(r,i,l){if(i=Mg(i),Mg(r)!==i&&l)throw Error(t(425))}function Uc(){}var vh=null,xh=null;function wh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,Vg=typeof Promise=="function"?Promise:void 0,gS=typeof queueMicrotask=="function"?queueMicrotask:typeof Vg<"u"?function(r){return Vg.resolve(null).then(r).catch(yS)}:_h;function yS(r){setTimeout(function(){throw r})}function Eh(r,i){var l=i,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){r.removeChild(m),qs(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);qs(i)}function Ys(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Lg(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Zo,xl="__reactProps$"+Zo,gs="__reactContainer$"+Zo,Sh="__reactEvents$"+Zo,vS="__reactListeners$"+Zo,xS="__reactHandles$"+Zo;function Xi(r){var i=r[Ur];if(i)return i;for(var l=r.parentNode;l;){if(i=l[gs]||l[Ur]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Lg(r);r!==null;){if(l=r[Ur])return l;r=Lg(r)}return i}r=l,l=r.parentNode}return null}function wl(r){return r=r[Ur]||r[gs],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ea(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function zc(r){return r[xl]||null}var Th=[],ta=-1;function Xs(r){return{current:r}}function pt(r){0>ta||(r.current=Th[ta],Th[ta]=null,ta--)}function ut(r,i){ta++,Th[ta]=r.current,r.current=i}var Js={},tn=Xs(Js),xn=Xs(!1),Ji=Js;function na(r,i){var l=r.type.contextTypes;if(!l)return Js;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=m),m}function wn(r){return r=r.childContextTypes,r!=null}function Bc(){pt(xn),pt(tn)}function Fg(r,i,l){if(tn.current!==Js)throw Error(t(168));ut(tn,i),ut(xn,l)}function Ug(r,i,l){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(t(108,z(r)||"Unknown",m));return fe({},l,d)}function $c(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Js,Ji=tn.current,ut(tn,r),ut(xn,xn.current),!0}function zg(r,i,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Ug(r,i,Ji),d.__reactInternalMemoizedMergedChildContext=r,pt(xn),pt(tn),ut(tn,r)):pt(xn),ut(xn,l)}var ys=null,Hc=!1,bh=!1;function Bg(r){ys===null?ys=[r]:ys.push(r)}function wS(r){Hc=!0,Bg(r)}function Zs(){if(!bh&&ys!==null){bh=!0;var r=0,i=Ze;try{var l=ys;for(Ze=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}ys=null,Hc=!1}catch(m){throw ys!==null&&(ys=ys.slice(r+1)),Y(tt,Zs),m}finally{Ze=i,bh=!1}}return null}var ra=[],sa=0,Wc=null,qc=0,Kn=[],Qn=0,Zi=null,vs=1,xs="";function eo(r,i){ra[sa++]=qc,ra[sa++]=Wc,Wc=r,qc=i}function $g(r,i,l){Kn[Qn++]=vs,Kn[Qn++]=xs,Kn[Qn++]=Zi,Zi=r;var d=vs;r=xs;var m=32-An(d)-1;d&=~(1<<m),l+=1;var y=32-An(i)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,vs=1<<32-An(i)+m|l<<m|d,xs=y+r}else vs=1<<y|l<<m|d,xs=r}function Ih(r){r.return!==null&&(eo(r,1),$g(r,1,0))}function Ch(r){for(;r===Wc;)Wc=ra[--sa],ra[sa]=null,qc=ra[--sa],ra[sa]=null;for(;r===Zi;)Zi=Kn[--Qn],Kn[Qn]=null,xs=Kn[--Qn],Kn[Qn]=null,vs=Kn[--Qn],Kn[Qn]=null}var On=null,Mn=null,yt=!1,or=null;function Hg(r,i){var l=Zn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Wg(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,On=r,Mn=Ys(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,On=r,Mn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Zi!==null?{id:vs,overflow:xs}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Zn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,On=r,Mn=null,!0):!1;default:return!1}}function Nh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function kh(r){if(yt){var i=Mn;if(i){var l=i;if(!Wg(r,i)){if(Nh(r))throw Error(t(418));i=Ys(l.nextSibling);var d=On;i&&Wg(r,i)?Hg(d,l):(r.flags=r.flags&-4097|2,yt=!1,On=r)}}else{if(Nh(r))throw Error(t(418));r.flags=r.flags&-4097|2,yt=!1,On=r}}}function qg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;On=r}function Gc(r){if(r!==On)return!1;if(!yt)return qg(r),yt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!wh(r.type,r.memoizedProps)),i&&(i=Mn)){if(Nh(r))throw Gg(),Error(t(418));for(;i;)Hg(r,i),i=Ys(i.nextSibling)}if(qg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Mn=Ys(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Mn=null}}else Mn=On?Ys(r.stateNode.nextSibling):null;return!0}function Gg(){for(var r=Mn;r;)r=Ys(r.nextSibling)}function ia(){Mn=On=null,yt=!1}function Ah(r){or===null?or=[r]:or.push(r)}var _S=$.ReactCurrentBatchConfig;function _l(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var m=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(S){var V=m.refs;S===null?delete V[y]:V[y]=S},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Kc(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Kg(r){var i=r._init;return i(r._payload)}function Qg(r){function i(K,W){if(r){var X=K.deletions;X===null?(K.deletions=[W],K.flags|=16):X.push(W)}}function l(K,W){if(!r)return null;for(;W!==null;)i(K,W),W=W.sibling;return null}function d(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function m(K,W){return K=ai(K,W),K.index=0,K.sibling=null,K}function y(K,W,X){return K.index=X,r?(X=K.alternate,X!==null?(X=X.index,X<W?(K.flags|=2,W):X):(K.flags|=2,W)):(K.flags|=1048576,W)}function S(K){return r&&K.alternate===null&&(K.flags|=2),K}function V(K,W,X,pe){return W===null||W.tag!==6?(W=Ef(X,K.mode,pe),W.return=K,W):(W=m(W,X),W.return=K,W)}function B(K,W,X,pe){var Re=X.type;return Re===N?le(K,W,X.props.children,pe,X.key):W!==null&&(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===we&&Kg(Re)===W.type)?(pe=m(W,X.props),pe.ref=_l(K,W,X),pe.return=K,pe):(pe=vu(X.type,X.key,X.props,null,K.mode,pe),pe.ref=_l(K,W,X),pe.return=K,pe)}function ee(K,W,X,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=Sf(X,K.mode,pe),W.return=K,W):(W=m(W,X.children||[]),W.return=K,W)}function le(K,W,X,pe,Re){return W===null||W.tag!==7?(W=lo(X,K.mode,pe,Re),W.return=K,W):(W=m(W,X),W.return=K,W)}function de(K,W,X){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Ef(""+W,K.mode,X),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case J:return X=vu(W.type,W.key,W.props,null,K.mode,X),X.ref=_l(K,null,W),X.return=K,X;case G:return W=Sf(W,K.mode,X),W.return=K,W;case we:var pe=W._init;return de(K,pe(W._payload),X)}if(ht(W)||he(W))return W=lo(W,K.mode,X,null),W.return=K,W;Kc(K,W)}return null}function oe(K,W,X,pe){var Re=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Re!==null?null:V(K,W,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case J:return X.key===Re?B(K,W,X,pe):null;case G:return X.key===Re?ee(K,W,X,pe):null;case we:return Re=X._init,oe(K,W,Re(X._payload),pe)}if(ht(X)||he(X))return Re!==null?null:le(K,W,X,pe,null);Kc(K,X)}return null}function Ee(K,W,X,pe,Re){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return K=K.get(X)||null,V(W,K,""+pe,Re);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case J:return K=K.get(pe.key===null?X:pe.key)||null,B(W,K,pe,Re);case G:return K=K.get(pe.key===null?X:pe.key)||null,ee(W,K,pe,Re);case we:var Ve=pe._init;return Ee(K,W,X,Ve(pe._payload),Re)}if(ht(pe)||he(pe))return K=K.get(X)||null,le(W,K,pe,Re,null);Kc(W,pe)}return null}function Ie(K,W,X,pe){for(var Re=null,Ve=null,Le=W,ze=W=0,Ht=null;Le!==null&&ze<X.length;ze++){Le.index>ze?(Ht=Le,Le=null):Ht=Le.sibling;var rt=oe(K,Le,X[ze],pe);if(rt===null){Le===null&&(Le=Ht);break}r&&Le&&rt.alternate===null&&i(K,Le),W=y(rt,W,ze),Ve===null?Re=rt:Ve.sibling=rt,Ve=rt,Le=Ht}if(ze===X.length)return l(K,Le),yt&&eo(K,ze),Re;if(Le===null){for(;ze<X.length;ze++)Le=de(K,X[ze],pe),Le!==null&&(W=y(Le,W,ze),Ve===null?Re=Le:Ve.sibling=Le,Ve=Le);return yt&&eo(K,ze),Re}for(Le=d(K,Le);ze<X.length;ze++)Ht=Ee(Le,K,ze,X[ze],pe),Ht!==null&&(r&&Ht.alternate!==null&&Le.delete(Ht.key===null?ze:Ht.key),W=y(Ht,W,ze),Ve===null?Re=Ht:Ve.sibling=Ht,Ve=Ht);return r&&Le.forEach(function(li){return i(K,li)}),yt&&eo(K,ze),Re}function ke(K,W,X,pe){var Re=he(X);if(typeof Re!="function")throw Error(t(150));if(X=Re.call(X),X==null)throw Error(t(151));for(var Ve=Re=null,Le=W,ze=W=0,Ht=null,rt=X.next();Le!==null&&!rt.done;ze++,rt=X.next()){Le.index>ze?(Ht=Le,Le=null):Ht=Le.sibling;var li=oe(K,Le,rt.value,pe);if(li===null){Le===null&&(Le=Ht);break}r&&Le&&li.alternate===null&&i(K,Le),W=y(li,W,ze),Ve===null?Re=li:Ve.sibling=li,Ve=li,Le=Ht}if(rt.done)return l(K,Le),yt&&eo(K,ze),Re;if(Le===null){for(;!rt.done;ze++,rt=X.next())rt=de(K,rt.value,pe),rt!==null&&(W=y(rt,W,ze),Ve===null?Re=rt:Ve.sibling=rt,Ve=rt);return yt&&eo(K,ze),Re}for(Le=d(K,Le);!rt.done;ze++,rt=X.next())rt=Ee(Le,K,ze,rt.value,pe),rt!==null&&(r&&rt.alternate!==null&&Le.delete(rt.key===null?ze:rt.key),W=y(rt,W,ze),Ve===null?Re=rt:Ve.sibling=rt,Ve=rt);return r&&Le.forEach(function(eT){return i(K,eT)}),yt&&eo(K,ze),Re}function bt(K,W,X,pe){if(typeof X=="object"&&X!==null&&X.type===N&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case J:e:{for(var Re=X.key,Ve=W;Ve!==null;){if(Ve.key===Re){if(Re=X.type,Re===N){if(Ve.tag===7){l(K,Ve.sibling),W=m(Ve,X.props.children),W.return=K,K=W;break e}}else if(Ve.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===we&&Kg(Re)===Ve.type){l(K,Ve.sibling),W=m(Ve,X.props),W.ref=_l(K,Ve,X),W.return=K,K=W;break e}l(K,Ve);break}else i(K,Ve);Ve=Ve.sibling}X.type===N?(W=lo(X.props.children,K.mode,pe,X.key),W.return=K,K=W):(pe=vu(X.type,X.key,X.props,null,K.mode,pe),pe.ref=_l(K,W,X),pe.return=K,K=pe)}return S(K);case G:e:{for(Ve=X.key;W!==null;){if(W.key===Ve)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){l(K,W.sibling),W=m(W,X.children||[]),W.return=K,K=W;break e}else{l(K,W);break}else i(K,W);W=W.sibling}W=Sf(X,K.mode,pe),W.return=K,K=W}return S(K);case we:return Ve=X._init,bt(K,W,Ve(X._payload),pe)}if(ht(X))return Ie(K,W,X,pe);if(he(X))return ke(K,W,X,pe);Kc(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,W!==null&&W.tag===6?(l(K,W.sibling),W=m(W,X),W.return=K,K=W):(l(K,W),W=Ef(X,K.mode,pe),W.return=K,K=W),S(K)):l(K,W)}return bt}var oa=Qg(!0),Yg=Qg(!1),Qc=Xs(null),Yc=null,aa=null,Rh=null;function Ph(){Rh=aa=Yc=null}function Dh(r){var i=Qc.current;pt(Qc),r._currentValue=i}function jh(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function la(r,i){Yc=r,Rh=aa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(_n=!0),r.firstContext=null)}function Yn(r){var i=r._currentValue;if(Rh!==r)if(r={context:r,memoizedValue:i,next:null},aa===null){if(Yc===null)throw Error(t(308));aa=r,Yc.dependencies={lanes:0,firstContext:r}}else aa=aa.next=r;return i}var to=null;function Oh(r){to===null?to=[r]:to.push(r)}function Xg(r,i,l,d){var m=i.interleaved;return m===null?(l.next=l,Oh(i)):(l.next=m.next,m.next=l),i.interleaved=l,ws(r,d)}function ws(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ei=!1;function Mh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function _s(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ti(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(nt&2)!==0){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,ws(r,l)}return m=d.interleaved,m===null?(i.next=i,Oh(d)):(i.next=m.next,m.next=i),d.interleaved=i,ws(r,l)}function Xc(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,nl(r,l)}}function Zg(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Jc(r,i,l,d){var m=r.updateQueue;ei=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var B=V,ee=B.next;B.next=null,S===null?y=ee:S.next=ee,S=B;var le=r.alternate;le!==null&&(le=le.updateQueue,V=le.lastBaseUpdate,V!==S&&(V===null?le.firstBaseUpdate=ee:V.next=ee,le.lastBaseUpdate=B))}if(y!==null){var de=m.baseState;S=0,le=ee=B=null,V=y;do{var oe=V.lane,Ee=V.eventTime;if((d&oe)===oe){le!==null&&(le=le.next={eventTime:Ee,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ie=r,ke=V;switch(oe=i,Ee=l,ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){de=Ie.call(Ee,de,oe);break e}de=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,oe=typeof Ie=="function"?Ie.call(Ee,de,oe):Ie,oe==null)break e;de=fe({},de,oe);break e;case 2:ei=!0}}V.callback!==null&&V.lane!==0&&(r.flags|=64,oe=m.effects,oe===null?m.effects=[V]:oe.push(V))}else Ee={eventTime:Ee,lane:oe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},le===null?(ee=le=Ee,B=de):le=le.next=Ee,S|=oe;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;oe=V,V=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(le===null&&(B=de),m.baseState=B,m.firstBaseUpdate=ee,m.lastBaseUpdate=le,i=m.shared.interleaved,i!==null){m=i;do S|=m.lane,m=m.next;while(m!==i)}else y===null&&(m.shared.lanes=0);so|=S,r.lanes=S,r.memoizedState=de}}function ey(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var El={},zr=Xs(El),Sl=Xs(El),Tl=Xs(El);function no(r){if(r===El)throw Error(t(174));return r}function Vh(r,i){switch(ut(Tl,i),ut(Sl,r),ut(zr,El),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ms(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ms(i,r)}pt(zr),ut(zr,i)}function ca(){pt(zr),pt(Sl),pt(Tl)}function ty(r){no(Tl.current);var i=no(zr.current),l=Ms(i,r.type);i!==l&&(ut(Sl,r),ut(zr,l))}function Lh(r){Sl.current===r&&(pt(zr),pt(Sl))}var vt=Xs(0);function Zc(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fh=[];function Uh(){for(var r=0;r<Fh.length;r++)Fh[r]._workInProgressVersionPrimary=null;Fh.length=0}var eu=$.ReactCurrentDispatcher,zh=$.ReactCurrentBatchConfig,ro=0,xt=null,Dt=null,Bt=null,tu=!1,bl=!1,Il=0,ES=0;function nn(){throw Error(t(321))}function Bh(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!ir(r[l],i[l]))return!1;return!0}function $h(r,i,l,d,m,y){if(ro=y,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,eu.current=r===null||r.memoizedState===null?IS:CS,r=l(d,m),bl){y=0;do{if(bl=!1,Il=0,25<=y)throw Error(t(301));y+=1,Bt=Dt=null,i.updateQueue=null,eu.current=NS,r=l(d,m)}while(bl)}if(eu.current=su,i=Dt!==null&&Dt.next!==null,ro=0,Bt=Dt=xt=null,tu=!1,i)throw Error(t(300));return r}function Hh(){var r=Il!==0;return Il=0,r}function Br(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?xt.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Xn(){if(Dt===null){var r=xt.alternate;r=r!==null?r.memoizedState:null}else r=Dt.next;var i=Bt===null?xt.memoizedState:Bt.next;if(i!==null)Bt=i,Dt=r;else{if(r===null)throw Error(t(310));Dt=r,r={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Bt===null?xt.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function Cl(r,i){return typeof i=="function"?i(r):i}function Wh(r){var i=Xn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Dt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var V=S=null,B=null,ee=y;do{var le=ee.lane;if((ro&le)===le)B!==null&&(B=B.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),d=ee.hasEagerState?ee.eagerState:r(d,ee.action);else{var de={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};B===null?(V=B=de,S=d):B=B.next=de,xt.lanes|=le,so|=le}ee=ee.next}while(ee!==null&&ee!==y);B===null?S=d:B.next=V,ir(d,i.memoizedState)||(_n=!0),i.memoizedState=d,i.baseState=S,i.baseQueue=B,l.lastRenderedState=d}if(r=l.interleaved,r!==null){m=r;do y=m.lane,xt.lanes|=y,so|=y,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function qh(r){var i=Xn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=r(y,S.action),S=S.next;while(S!==m);ir(y,i.memoizedState)||(_n=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function ny(){}function ry(r,i){var l=xt,d=Xn(),m=i(),y=!ir(d.memoizedState,m);if(y&&(d.memoizedState=m,_n=!0),d=d.queue,Gh(oy.bind(null,l,d,r),[r]),d.getSnapshot!==i||y||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Nl(9,iy.bind(null,l,d,m,i),void 0,null),$t===null)throw Error(t(349));(ro&30)!==0||sy(l,i,m)}return m}function sy(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=xt.updateQueue,i===null?(i={lastEffect:null,stores:null},xt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function iy(r,i,l,d){i.value=l,i.getSnapshot=d,ay(i)&&ly(r)}function oy(r,i,l){return l(function(){ay(i)&&ly(r)})}function ay(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!ir(r,l)}catch{return!0}}function ly(r){var i=ws(r,1);i!==null&&ur(i,r,1,-1)}function cy(r){var i=Br();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:r},i.queue=r,r=r.dispatch=bS.bind(null,xt,r),[i.memoizedState,r]}function Nl(r,i,l,d){return r={tag:r,create:i,destroy:l,deps:d,next:null},i=xt.updateQueue,i===null?(i={lastEffect:null,stores:null},xt.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r)),r}function uy(){return Xn().memoizedState}function nu(r,i,l,d){var m=Br();xt.flags|=r,m.memoizedState=Nl(1|i,l,void 0,d===void 0?null:d)}function ru(r,i,l,d){var m=Xn();d=d===void 0?null:d;var y=void 0;if(Dt!==null){var S=Dt.memoizedState;if(y=S.destroy,d!==null&&Bh(d,S.deps)){m.memoizedState=Nl(i,l,y,d);return}}xt.flags|=r,m.memoizedState=Nl(1|i,l,y,d)}function dy(r,i){return nu(8390656,8,r,i)}function Gh(r,i){return ru(2048,8,r,i)}function hy(r,i){return ru(4,2,r,i)}function fy(r,i){return ru(4,4,r,i)}function py(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function my(r,i,l){return l=l!=null?l.concat([r]):null,ru(4,4,py.bind(null,i,r),l)}function Kh(){}function gy(r,i){var l=Xn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Bh(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function yy(r,i){var l=Xn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Bh(i,d[1])?d[0]:(r=r(),l.memoizedState=[r,i],r)}function vy(r,i,l){return(ro&21)===0?(r.baseState&&(r.baseState=!1,_n=!0),r.memoizedState=l):(ir(l,i)||(l=el(),xt.lanes|=l,so|=l,r.baseState=!0),i)}function SS(r,i){var l=Ze;Ze=l!==0&&4>l?l:4,r(!0);var d=zh.transition;zh.transition={};try{r(!1),i()}finally{Ze=l,zh.transition=d}}function xy(){return Xn().memoizedState}function TS(r,i,l){var d=ii(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wy(r))_y(i,l);else if(l=Xg(r,i,l,d),l!==null){var m=fn();ur(l,r,d,m),Ey(l,i,d)}}function bS(r,i,l){var d=ii(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wy(r))_y(i,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var S=i.lastRenderedState,V=y(S,l);if(m.hasEagerState=!0,m.eagerState=V,ir(V,S)){var B=i.interleaved;B===null?(m.next=m,Oh(i)):(m.next=B.next,B.next=m),i.interleaved=m;return}}catch{}finally{}l=Xg(r,i,m,d),l!==null&&(m=fn(),ur(l,r,d,m),Ey(l,i,d))}}function wy(r){var i=r.alternate;return r===xt||i!==null&&i===xt}function _y(r,i){bl=tu=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Ey(r,i,l){if((l&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,nl(r,l)}}var su={readContext:Yn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},IS={readContext:Yn,useCallback:function(r,i){return Br().memoizedState=[r,i===void 0?null:i],r},useContext:Yn,useEffect:dy,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,nu(4194308,4,py.bind(null,i,r),l)},useLayoutEffect:function(r,i){return nu(4194308,4,r,i)},useInsertionEffect:function(r,i){return nu(4,2,r,i)},useMemo:function(r,i){var l=Br();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var d=Br();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=TS.bind(null,xt,r),[d.memoizedState,r]},useRef:function(r){var i=Br();return r={current:r},i.memoizedState=r},useState:cy,useDebugValue:Kh,useDeferredValue:function(r){return Br().memoizedState=r},useTransition:function(){var r=cy(!1),i=r[0];return r=SS.bind(null,r[1]),Br().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var d=xt,m=Br();if(yt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),$t===null)throw Error(t(349));(ro&30)!==0||sy(d,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,dy(oy.bind(null,d,y,r),[r]),d.flags|=2048,Nl(9,iy.bind(null,d,y,l,i),void 0,null),l},useId:function(){var r=Br(),i=$t.identifierPrefix;if(yt){var l=xs,d=vs;l=(d&~(1<<32-An(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Il++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=ES++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},CS={readContext:Yn,useCallback:gy,useContext:Yn,useEffect:Gh,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:yy,useReducer:Wh,useRef:uy,useState:function(){return Wh(Cl)},useDebugValue:Kh,useDeferredValue:function(r){var i=Xn();return vy(i,Dt.memoizedState,r)},useTransition:function(){var r=Wh(Cl)[0],i=Xn().memoizedState;return[r,i]},useMutableSource:ny,useSyncExternalStore:ry,useId:xy,unstable_isNewReconciler:!1},NS={readContext:Yn,useCallback:gy,useContext:Yn,useEffect:Gh,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:yy,useReducer:qh,useRef:uy,useState:function(){return qh(Cl)},useDebugValue:Kh,useDeferredValue:function(r){var i=Xn();return Dt===null?i.memoizedState=r:vy(i,Dt.memoizedState,r)},useTransition:function(){var r=qh(Cl)[0],i=Xn().memoizedState;return[r,i]},useMutableSource:ny,useSyncExternalStore:ry,useId:xy,unstable_isNewReconciler:!1};function ar(r,i){if(r&&r.defaultProps){i=fe({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Qh(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:fe({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var iu={isMounted:function(r){return(r=r._reactInternals)?vn(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var d=fn(),m=ii(r),y=_s(d,m);y.payload=i,l!=null&&(y.callback=l),i=ti(r,y,m),i!==null&&(ur(i,r,m,d),Xc(i,r,m))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=fn(),m=ii(r),y=_s(d,m);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=ti(r,y,m),i!==null&&(ur(i,r,m,d),Xc(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=fn(),d=ii(r),m=_s(l,d);m.tag=2,i!=null&&(m.callback=i),i=ti(r,m,d),i!==null&&(ur(i,r,d,l),Xc(i,r,d))}};function Sy(r,i,l,d,m,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,S):i.prototype&&i.prototype.isPureReactComponent?!pl(l,d)||!pl(m,y):!0}function Ty(r,i,l){var d=!1,m=Js,y=i.contextType;return typeof y=="object"&&y!==null?y=Yn(y):(m=wn(i)?Ji:tn.current,d=i.contextTypes,y=(d=d!=null)?na(r,m):Js),i=new i(l,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=iu,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=y),i}function by(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&iu.enqueueReplaceState(i,i.state,null)}function Yh(r,i,l,d){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},Mh(r);var y=i.contextType;typeof y=="object"&&y!==null?m.context=Yn(y):(y=wn(i)?Ji:tn.current,m.context=na(r,y)),m.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Qh(r,i,y,l),m.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&iu.enqueueReplaceState(m,m.state,null),Jc(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function ua(r,i){try{var l="",d=i;do l+=Pe(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:m,digest:null}}function Xh(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Jh(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var kS=typeof WeakMap=="function"?WeakMap:Map;function Iy(r,i,l){l=_s(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){hu||(hu=!0,pf=d),Jh(r,i)},l}function Cy(r,i,l){l=_s(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;l.payload=function(){return d(m)},l.callback=function(){Jh(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Jh(r,i),typeof d!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),l}function Ny(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new kS;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(l)||(m.add(l),r=$S.bind(null,r,i,l),i.then(r,r))}function ky(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Ay(r,i,l,d,m){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=_s(-1,1),i.tag=2,ti(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=m,r)}var AS=$.ReactCurrentOwner,_n=!1;function hn(r,i,l,d){i.child=r===null?Yg(i,null,l,d):oa(i,r.child,l,d)}function Ry(r,i,l,d,m){l=l.render;var y=i.ref;return la(i,m),d=$h(r,i,l,d,y,m),l=Hh(),r!==null&&!_n?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~m,Es(r,i,m)):(yt&&l&&Ih(i),i.flags|=1,hn(r,i,d,m),i.child)}function Py(r,i,l,d,m){if(r===null){var y=l.type;return typeof y=="function"&&!_f(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Dy(r,i,y,d,m)):(r=vu(l.type,null,d,i,i.mode,m),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&m)===0){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:pl,l(S,d)&&r.ref===i.ref)return Es(r,i,m)}return i.flags|=1,r=ai(y,d),r.ref=i.ref,r.return=i,i.child=r}function Dy(r,i,l,d,m){if(r!==null){var y=r.memoizedProps;if(pl(y,d)&&r.ref===i.ref)if(_n=!1,i.pendingProps=d=y,(r.lanes&m)!==0)(r.flags&131072)!==0&&(_n=!0);else return i.lanes=r.lanes,Es(r,i,m)}return Zh(r,i,l,d,m)}function jy(r,i,l){var d=i.pendingProps,m=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(ha,Vn),Vn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ut(ha,Vn),Vn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,ut(ha,Vn),Vn|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,ut(ha,Vn),Vn|=d;return hn(r,i,m,l),i.child}function Oy(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Zh(r,i,l,d,m){var y=wn(l)?Ji:tn.current;return y=na(i,y),la(i,m),l=$h(r,i,l,d,y,m),d=Hh(),r!==null&&!_n?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~m,Es(r,i,m)):(yt&&d&&Ih(i),i.flags|=1,hn(r,i,l,m),i.child)}function My(r,i,l,d,m){if(wn(l)){var y=!0;$c(i)}else y=!1;if(la(i,m),i.stateNode===null)au(r,i),Ty(i,l,d),Yh(i,l,d,m),d=!0;else if(r===null){var S=i.stateNode,V=i.memoizedProps;S.props=V;var B=S.context,ee=l.contextType;typeof ee=="object"&&ee!==null?ee=Yn(ee):(ee=wn(l)?Ji:tn.current,ee=na(i,ee));var le=l.getDerivedStateFromProps,de=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function";de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==d||B!==ee)&&by(i,S,d,ee),ei=!1;var oe=i.memoizedState;S.state=oe,Jc(i,d,S,m),B=i.memoizedState,V!==d||oe!==B||xn.current||ei?(typeof le=="function"&&(Qh(i,l,le,d),B=i.memoizedState),(V=ei||Sy(i,l,V,d,oe,B,ee))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=B),S.props=d,S.state=B,S.context=ee,d=V):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{S=i.stateNode,Jg(r,i),V=i.memoizedProps,ee=i.type===i.elementType?V:ar(i.type,V),S.props=ee,de=i.pendingProps,oe=S.context,B=l.contextType,typeof B=="object"&&B!==null?B=Yn(B):(B=wn(l)?Ji:tn.current,B=na(i,B));var Ee=l.getDerivedStateFromProps;(le=typeof Ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==de||oe!==B)&&by(i,S,d,B),ei=!1,oe=i.memoizedState,S.state=oe,Jc(i,d,S,m);var Ie=i.memoizedState;V!==de||oe!==Ie||xn.current||ei?(typeof Ee=="function"&&(Qh(i,l,Ee,d),Ie=i.memoizedState),(ee=ei||Sy(i,l,ee,d,oe,Ie,B)||!1)?(le||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Ie,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Ie,B)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ie),S.props=d,S.state=Ie,S.context=B,d=ee):(typeof S.componentDidUpdate!="function"||V===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),d=!1)}return ef(r,i,l,d,y,m)}function ef(r,i,l,d,m,y){Oy(r,i);var S=(i.flags&128)!==0;if(!d&&!S)return m&&zg(i,l,!1),Es(r,i,y);d=i.stateNode,AS.current=i;var V=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&S?(i.child=oa(i,r.child,null,y),i.child=oa(i,null,V,y)):hn(r,i,V,y),i.memoizedState=d.state,m&&zg(i,l,!0),i.child}function Vy(r){var i=r.stateNode;i.pendingContext?Fg(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Fg(r,i.context,!1),Vh(r,i.containerInfo)}function Ly(r,i,l,d,m){return ia(),Ah(m),i.flags|=256,hn(r,i,l,d),i.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fy(r,i,l){var d=i.pendingProps,m=vt.current,y=!1,S=(i.flags&128)!==0,V;if((V=S)||(V=r!==null&&r.memoizedState===null?!1:(m&2)!==0),V?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),ut(vt,m&1),r===null)return kh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=d.children,r=d.fallback,y?(d=i.mode,y=i.child,S={mode:"hidden",children:S},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=xu(S,d,0,null),r=lo(r,d,l,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=nf(l),i.memoizedState=tf,r):rf(i,S));if(m=r.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return RS(r,i,S,d,V,m,l);if(y){y=d.fallback,S=i.mode,m=r.child,V=m.sibling;var B={mode:"hidden",children:d.children};return(S&1)===0&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=B,i.deletions=null):(d=ai(m,B),d.subtreeFlags=m.subtreeFlags&14680064),V!==null?y=ai(V,y):(y=lo(y,S,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,S=r.child.memoizedState,S=S===null?nf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=r.childLanes&~l,i.memoizedState=tf,d}return y=r.child,r=y.sibling,d=ai(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=d,i.memoizedState=null,d}function rf(r,i){return i=xu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ou(r,i,l,d){return d!==null&&Ah(d),oa(i,r.child,null,l),r=rf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function RS(r,i,l,d,m,y,S){if(l)return i.flags&256?(i.flags&=-257,d=Xh(Error(t(422))),ou(r,i,S,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,m=i.mode,d=xu({mode:"visible",children:d.children},m,0,null),y=lo(y,m,S,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&oa(i,r.child,null,S),i.child.memoizedState=nf(S),i.memoizedState=tf,y);if((i.mode&1)===0)return ou(r,i,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var V=d.dgst;return d=V,y=Error(t(419)),d=Xh(y,d,void 0),ou(r,i,S,d)}if(V=(S&r.childLanes)!==0,_n||V){if(d=$t,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,ws(r,m),ur(d,r,m,-1))}return wf(),d=Xh(Error(t(421))),ou(r,i,S,d)}return m.data==="$?"?(i.flags|=128,i.child=r.child,i=HS.bind(null,r),m._reactRetry=i,null):(r=y.treeContext,Mn=Ys(m.nextSibling),On=i,yt=!0,or=null,r!==null&&(Kn[Qn++]=vs,Kn[Qn++]=xs,Kn[Qn++]=Zi,vs=r.id,xs=r.overflow,Zi=i),i=rf(i,d.children),i.flags|=4096,i)}function Uy(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),jh(r.return,i,l)}function sf(r,i,l,d,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function zy(r,i,l){var d=i.pendingProps,m=d.revealOrder,y=d.tail;if(hn(r,i,d.children,l),d=vt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uy(r,l,i);else if(r.tag===19)Uy(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ut(vt,d),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(l=i.child,m=null;l!==null;)r=l.alternate,r!==null&&Zc(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),sf(i,!1,m,l,y);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(r=m.alternate,r!==null&&Zc(r)===null){i.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}sf(i,!0,l,null,y);break;case"together":sf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function au(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Es(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),so|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,l=ai(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=ai(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function PS(r,i,l){switch(i.tag){case 3:Vy(i),ia();break;case 5:ty(i);break;case 1:wn(i.type)&&$c(i);break;case 4:Vh(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,m=i.memoizedProps.value;ut(Qc,d._currentValue),d._currentValue=m;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(ut(vt,vt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Fy(r,i,l):(ut(vt,vt.current&1),r=Es(r,i,l),r!==null?r.sibling:null);ut(vt,vt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(r.flags&128)!==0){if(d)return zy(r,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(vt,vt.current),d)break;return null;case 22:case 23:return i.lanes=0,jy(r,i,l)}return Es(r,i,l)}var By,of,$y,Hy;By=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},of=function(){},$y=function(r,i,l,d){var m=r.memoizedProps;if(m!==d){r=i.stateNode,no(zr.current);var y=null;switch(l){case"input":m=Nt(r,m),d=Nt(r,d),y=[];break;case"select":m=fe({},m,{value:void 0}),d=fe({},d,{value:void 0}),y=[];break;case"textarea":m=ko(r,m),d=ko(r,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Uc)}gn(l,d);var S;l=null;for(ee in m)if(!d.hasOwnProperty(ee)&&m.hasOwnProperty(ee)&&m[ee]!=null)if(ee==="style"){var V=m[ee];for(S in V)V.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?y||(y=[]):(y=y||[]).push(ee,null));for(ee in d){var B=d[ee];if(V=m?.[ee],d.hasOwnProperty(ee)&&B!==V&&(B!=null||V!=null))if(ee==="style")if(V){for(S in V)!V.hasOwnProperty(S)||B&&B.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in B)B.hasOwnProperty(S)&&V[S]!==B[S]&&(l||(l={}),l[S]=B[S])}else l||(y||(y=[]),y.push(ee,l)),l=B;else ee==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,V=V?V.__html:void 0,B!=null&&V!==B&&(y=y||[]).push(ee,B)):ee==="children"?typeof B!="string"&&typeof B!="number"||(y=y||[]).push(ee,""+B):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(B!=null&&ee==="onScroll"&&ft("scroll",r),y||V===B||(y=[])):(y=y||[]).push(ee,B))}l&&(y=y||[]).push("style",l);var ee=y;(i.updateQueue=ee)&&(i.flags|=4)}},Hy=function(r,i,l,d){l!==d&&(i.flags|=4)};function kl(r,i){if(!yt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function rn(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function DS(r,i,l){var d=i.pendingProps;switch(Ch(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(i),null;case 1:return wn(i.type)&&Bc(),rn(i),null;case 3:return d=i.stateNode,ca(),pt(xn),pt(tn),Uh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Gc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,or!==null&&(yf(or),or=null))),of(r,i),rn(i),null;case 5:Lh(i);var m=no(Tl.current);if(l=i.type,r!==null&&i.stateNode!=null)$y(r,i,l,d,m),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return rn(i),null}if(r=no(zr.current),Gc(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[Ur]=i,d[xl]=y,r=(i.mode&1)!==0,l){case"dialog":ft("cancel",d),ft("close",d);break;case"iframe":case"object":case"embed":ft("load",d);break;case"video":case"audio":for(m=0;m<gl.length;m++)ft(gl[m],d);break;case"source":ft("error",d);break;case"img":case"image":case"link":ft("error",d),ft("load",d);break;case"details":ft("toggle",d);break;case"input":mn(d,y),ft("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ft("invalid",d);break;case"textarea":xr(d,y),ft("invalid",d)}gn(l,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var V=y[S];S==="children"?typeof V=="string"?d.textContent!==V&&(y.suppressHydrationWarning!==!0&&Fc(d.textContent,V,r),m=["children",V]):typeof V=="number"&&d.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&Fc(d.textContent,V,r),m=["children",""+V]):o.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&ft("scroll",d)}switch(l){case"input":ue(d),Os(d,y,!0);break;case"textarea":ue(d),wr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Uc)}d=m,i.updateQueue=d,d!==null&&(i.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Mi(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=S.createElement(l,{is:d.is}):(r=S.createElement(l),l==="select"&&(S=r,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):r=S.createElementNS(r,l),r[Ur]=i,r[xl]=d,By(r,i,!1,!1),i.stateNode=r;e:{switch(S=Ls(l,d),l){case"dialog":ft("cancel",r),ft("close",r),m=d;break;case"iframe":case"object":case"embed":ft("load",r),m=d;break;case"video":case"audio":for(m=0;m<gl.length;m++)ft(gl[m],r);m=d;break;case"source":ft("error",r),m=d;break;case"img":case"image":case"link":ft("error",r),ft("load",r),m=d;break;case"details":ft("toggle",r),m=d;break;case"input":mn(r,d),m=Nt(r,d),ft("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=fe({},d,{value:void 0}),ft("invalid",r);break;case"textarea":xr(r,d),m=ko(r,d),ft("invalid",r);break;default:m=d}gn(l,m),V=m;for(y in V)if(V.hasOwnProperty(y)){var B=V[y];y==="style"?Vs(r,B):y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Vi(r,B)):y==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&is(r,B):typeof B=="number"&&is(r,""+B):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?B!=null&&y==="onScroll"&&ft("scroll",r):B!=null&&U(r,y,B,S))}switch(l){case"input":ue(r),Os(r,d,!1);break;case"textarea":ue(r),wr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Z(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?qt(r,!!d.multiple,y,!1):d.defaultValue!=null&&qt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=Uc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return rn(i),null;case 6:if(r&&i.stateNode!=null)Hy(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(l=no(Tl.current),no(zr.current),Gc(i)){if(d=i.stateNode,l=i.memoizedProps,d[Ur]=i,(y=d.nodeValue!==l)&&(r=On,r!==null))switch(r.tag){case 3:Fc(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Fc(d.nodeValue,l,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Ur]=i,i.stateNode=d}return rn(i),null;case 13:if(pt(vt),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(yt&&Mn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Gg(),ia(),i.flags|=98560,y=!1;else if(y=Gc(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Ur]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rn(i),y=!1}else or!==null&&(yf(or),or=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(vt.current&1)!==0?jt===0&&(jt=3):wf())),i.updateQueue!==null&&(i.flags|=4),rn(i),null);case 4:return ca(),of(r,i),r===null&&yl(i.stateNode.containerInfo),rn(i),null;case 10:return Dh(i.type._context),rn(i),null;case 17:return wn(i.type)&&Bc(),rn(i),null;case 19:if(pt(vt),y=i.memoizedState,y===null)return rn(i),null;if(d=(i.flags&128)!==0,S=y.rendering,S===null)if(d)kl(y,!1);else{if(jt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(S=Zc(r),S!==null){for(i.flags|=128,kl(y,!1),d=S.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,r=d,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,r=S.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return ut(vt,vt.current&1|2),i.child}r=r.sibling}y.tail!==null&&Se()>fa&&(i.flags|=128,d=!0,kl(y,!1),i.lanes=4194304)}else{if(!d)if(r=Zc(S),r!==null){if(i.flags|=128,d=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),kl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!yt)return rn(i),null}else 2*Se()-y.renderingStartTime>fa&&l!==1073741824&&(i.flags|=128,d=!0,kl(y,!1),i.lanes=4194304);y.isBackwards?(S.sibling=i.child,i.child=S):(l=y.last,l!==null?l.sibling=S:i.child=S,y.last=S)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Se(),i.sibling=null,l=vt.current,ut(vt,d?l&1|2:l&1),i):(rn(i),null);case 22:case 23:return xf(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Vn&1073741824)!==0&&(rn(i),i.subtreeFlags&6&&(i.flags|=8192)):rn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function jS(r,i){switch(Ch(i),i.tag){case 1:return wn(i.type)&&Bc(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ca(),pt(xn),pt(tn),Uh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(pt(vt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ia()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pt(vt),null;case 4:return ca(),null;case 10:return Dh(i.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var lu=!1,sn=!1,OS=typeof WeakSet=="function"?WeakSet:Set,be=null;function da(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){St(r,i,d)}else l.current=null}function af(r,i,l){try{l()}catch(d){St(r,i,d)}}var Wy=!1;function MS(r,i){if(vh=fs,r=Sg(),uh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,V=-1,B=-1,ee=0,le=0,de=r,oe=null;t:for(;;){for(var Ee;de!==l||m!==0&&de.nodeType!==3||(V=S+m),de!==y||d!==0&&de.nodeType!==3||(B=S+d),de.nodeType===3&&(S+=de.nodeValue.length),(Ee=de.firstChild)!==null;)oe=de,de=Ee;for(;;){if(de===r)break t;if(oe===l&&++ee===m&&(V=S),oe===y&&++le===d&&(B=S),(Ee=de.nextSibling)!==null)break;de=oe,oe=de.parentNode}de=Ee}l=V===-1||B===-1?null:{start:V,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(xh={focusedElem:r,selectionRange:l},fs=!1,be=i;be!==null;)if(i=be,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,be=r;else for(;be!==null;){i=be;try{var Ie=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var ke=Ie.memoizedProps,bt=Ie.memoizedState,K=i.stateNode,W=K.getSnapshotBeforeUpdate(i.elementType===i.type?ke:ar(i.type,ke),bt);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var X=i.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){St(i,i.return,pe)}if(r=i.sibling,r!==null){r.return=i.return,be=r;break}be=i.return}return Ie=Wy,Wy=!1,Ie}function Al(r,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var y=m.destroy;m.destroy=void 0,y!==void 0&&af(i,l,y)}m=m.next}while(m!==d)}}function cu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function lf(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function qy(r){var i=r.alternate;i!==null&&(r.alternate=null,qy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Ur],delete i[xl],delete i[Sh],delete i[vS],delete i[xS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Gy(r){return r.tag===5||r.tag===3||r.tag===4}function Ky(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cf(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Uc));else if(d!==4&&(r=r.child,r!==null))for(cf(r,i,l),r=r.sibling;r!==null;)cf(r,i,l),r=r.sibling}function uf(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(uf(r,i,l),r=r.sibling;r!==null;)uf(r,i,l),r=r.sibling}var Qt=null,lr=!1;function ni(r,i,l){for(l=l.child;l!==null;)Qy(r,i,l),l=l.sibling}function Qy(r,i,l){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Bi,l)}catch{}switch(l.tag){case 5:sn||da(l,i);case 6:var d=Qt,m=lr;Qt=null,ni(r,i,l),Qt=d,lr=m,Qt!==null&&(lr?(r=Qt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Qt.removeChild(l.stateNode));break;case 18:Qt!==null&&(lr?(r=Qt,l=l.stateNode,r.nodeType===8?Eh(r.parentNode,l):r.nodeType===1&&Eh(r,l),qs(r)):Eh(Qt,l.stateNode));break;case 4:d=Qt,m=lr,Qt=l.stateNode.containerInfo,lr=!0,ni(r,i,l),Qt=d,lr=m;break;case 0:case 11:case 14:case 15:if(!sn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&af(l,i,S),m=m.next}while(m!==d)}ni(r,i,l);break;case 1:if(!sn&&(da(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(V){St(l,i,V)}ni(r,i,l);break;case 21:ni(r,i,l);break;case 22:l.mode&1?(sn=(d=sn)||l.memoizedState!==null,ni(r,i,l),sn=d):ni(r,i,l);break;default:ni(r,i,l)}}function Yy(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new OS),i.forEach(function(d){var m=WS.bind(null,r,d);l.has(d)||(l.add(d),d.then(m,m))})}}function cr(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=r,S=i,V=S;e:for(;V!==null;){switch(V.tag){case 5:Qt=V.stateNode,lr=!1;break e;case 3:Qt=V.stateNode.containerInfo,lr=!0;break e;case 4:Qt=V.stateNode.containerInfo,lr=!0;break e}V=V.return}if(Qt===null)throw Error(t(160));Qy(y,S,m),Qt=null,lr=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(ee){St(m,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Xy(i,r),i=i.sibling}function Xy(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(cr(i,r),$r(r),d&4){try{Al(3,r,r.return),cu(3,r)}catch(ke){St(r,r.return,ke)}try{Al(5,r,r.return)}catch(ke){St(r,r.return,ke)}}break;case 1:cr(i,r),$r(r),d&512&&l!==null&&da(l,l.return);break;case 5:if(cr(i,r),$r(r),d&512&&l!==null&&da(l,l.return),r.flags&32){var m=r.stateNode;try{is(m,"")}catch(ke){St(r,r.return,ke)}}if(d&4&&(m=r.stateNode,m!=null)){var y=r.memoizedProps,S=l!==null?l.memoizedProps:y,V=r.type,B=r.updateQueue;if(r.updateQueue=null,B!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&dn(m,y),Ls(V,S);var ee=Ls(V,y);for(S=0;S<B.length;S+=2){var le=B[S],de=B[S+1];le==="style"?Vs(m,de):le==="dangerouslySetInnerHTML"?Vi(m,de):le==="children"?is(m,de):U(m,le,de,ee)}switch(V){case"input":Nn(m,y);break;case"textarea":Oi(m,y);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var Ee=y.value;Ee!=null?qt(m,!!y.multiple,Ee,!1):oe!==!!y.multiple&&(y.defaultValue!=null?qt(m,!!y.multiple,y.defaultValue,!0):qt(m,!!y.multiple,y.multiple?[]:"",!1))}m[xl]=y}catch(ke){St(r,r.return,ke)}}break;case 6:if(cr(i,r),$r(r),d&4){if(r.stateNode===null)throw Error(t(162));m=r.stateNode,y=r.memoizedProps;try{m.nodeValue=y}catch(ke){St(r,r.return,ke)}}break;case 3:if(cr(i,r),$r(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{qs(i.containerInfo)}catch(ke){St(r,r.return,ke)}break;case 4:cr(i,r),$r(r);break;case 13:cr(i,r),$r(r),m=r.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(ff=Se())),d&4&&Yy(r);break;case 22:if(le=l!==null&&l.memoizedState!==null,r.mode&1?(sn=(ee=sn)||le,cr(i,r),sn=ee):cr(i,r),$r(r),d&8192){if(ee=r.memoizedState!==null,(r.stateNode.isHidden=ee)&&!le&&(r.mode&1)!==0)for(be=r,le=r.child;le!==null;){for(de=be=le;be!==null;){switch(oe=be,Ee=oe.child,oe.tag){case 0:case 11:case 14:case 15:Al(4,oe,oe.return);break;case 1:da(oe,oe.return);var Ie=oe.stateNode;if(typeof Ie.componentWillUnmount=="function"){d=oe,l=oe.return;try{i=d,Ie.props=i.memoizedProps,Ie.state=i.memoizedState,Ie.componentWillUnmount()}catch(ke){St(d,l,ke)}}break;case 5:da(oe,oe.return);break;case 22:if(oe.memoizedState!==null){ev(de);continue}}Ee!==null?(Ee.return=oe,be=Ee):ev(de)}le=le.sibling}e:for(le=null,de=r;;){if(de.tag===5){if(le===null){le=de;try{m=de.stateNode,ee?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=de.stateNode,B=de.memoizedProps.style,S=B!=null&&B.hasOwnProperty("display")?B.display:null,V.style.display=Er("display",S))}catch(ke){St(r,r.return,ke)}}}else if(de.tag===6){if(le===null)try{de.stateNode.nodeValue=ee?"":de.memoizedProps}catch(ke){St(r,r.return,ke)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===r)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===r)break e;for(;de.sibling===null;){if(de.return===null||de.return===r)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:cr(i,r),$r(r),d&4&&Yy(r);break;case 21:break;default:cr(i,r),$r(r)}}function $r(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Gy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(is(m,""),d.flags&=-33);var y=Ky(r);uf(r,y,m);break;case 3:case 4:var S=d.stateNode.containerInfo,V=Ky(r);cf(r,V,S);break;default:throw Error(t(161))}}catch(B){St(r,r.return,B)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function VS(r,i,l){be=r,Jy(r)}function Jy(r,i,l){for(var d=(r.mode&1)!==0;be!==null;){var m=be,y=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||lu;if(!S){var V=m.alternate,B=V!==null&&V.memoizedState!==null||sn;V=lu;var ee=sn;if(lu=S,(sn=B)&&!ee)for(be=m;be!==null;)S=be,B=S.child,S.tag===22&&S.memoizedState!==null?tv(m):B!==null?(B.return=S,be=B):tv(m);for(;y!==null;)be=y,Jy(y),y=y.sibling;be=m,lu=V,sn=ee}Zy(r)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,be=y):Zy(r)}}function Zy(r){for(;be!==null;){var i=be;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:sn||cu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!sn)if(l===null)d.componentDidMount();else{var m=i.elementType===i.type?l.memoizedProps:ar(i.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&ey(i,y,d);break;case 3:var S=i.updateQueue;if(S!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ey(i,S,l)}break;case 5:var V=i.stateNode;if(l===null&&i.flags&4){l=V;var B=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var de=le.dehydrated;de!==null&&qs(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||i.flags&512&&lf(i)}catch(oe){St(i,i.return,oe)}}if(i===r){be=null;break}if(l=i.sibling,l!==null){l.return=i.return,be=l;break}be=i.return}}function ev(r){for(;be!==null;){var i=be;if(i===r){be=null;break}var l=i.sibling;if(l!==null){l.return=i.return,be=l;break}be=i.return}}function tv(r){for(;be!==null;){var i=be;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{cu(4,i)}catch(B){St(i,l,B)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(B){St(i,m,B)}}var y=i.return;try{lf(i)}catch(B){St(i,y,B)}break;case 5:var S=i.return;try{lf(i)}catch(B){St(i,S,B)}}}catch(B){St(i,i.return,B)}if(i===r){be=null;break}var V=i.sibling;if(V!==null){V.return=i.return,be=V;break}be=i.return}}var LS=Math.ceil,uu=$.ReactCurrentDispatcher,df=$.ReactCurrentOwner,Jn=$.ReactCurrentBatchConfig,nt=0,$t=null,At=null,Yt=0,Vn=0,ha=Xs(0),jt=0,Rl=null,so=0,du=0,hf=0,Pl=null,En=null,ff=0,fa=1/0,Ss=null,hu=!1,pf=null,ri=null,fu=!1,si=null,pu=0,Dl=0,mf=null,mu=-1,gu=0;function fn(){return(nt&6)!==0?Se():mu!==-1?mu:mu=Se()}function ii(r){return(r.mode&1)===0?1:(nt&2)!==0&&Yt!==0?Yt&-Yt:_S.transition!==null?(gu===0&&(gu=el()),gu):(r=Ze,r!==0||(r=window.event,r=r===void 0?16:Bo(r.type)),r)}function ur(r,i,l,d){if(50<Dl)throw Dl=0,mf=null,Error(t(185));qi(r,l,d),((nt&2)===0||r!==$t)&&(r===$t&&((nt&2)===0&&(du|=l),jt===4&&oi(r,Yt)),Sn(r,d),l===1&&nt===0&&(i.mode&1)===0&&(fa=Se()+500,Hc&&Zs()))}function Sn(r,i){var l=r.callbackNode;Wi(r,i);var d=us(r,r===$t?Yt:0);if(d===0)l!==null&&ce(l),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(l!=null&&ce(l),i===1)r.tag===0?wS(rv.bind(null,r)):Bg(rv.bind(null,r)),gS(function(){(nt&6)===0&&Zs()}),l=null;else{switch(Ar(d)){case 1:l=tt;break;case 4:l=Ut;break;case 16:l=zt;break;case 536870912:l=Bs;break;default:l=zt}l=dv(l,nv.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function nv(r,i){if(mu=-1,gu=0,(nt&6)!==0)throw Error(t(327));var l=r.callbackNode;if(pa()&&r.callbackNode!==l)return null;var d=us(r,r===$t?Yt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=yu(r,d);else{i=d;var m=nt;nt|=2;var y=iv();($t!==r||Yt!==i)&&(Ss=null,fa=Se()+500,oo(r,i));do try{zS();break}catch(V){sv(r,V)}while(!0);Ph(),uu.current=y,nt=m,At!==null?i=0:($t=null,Yt=0,i=jt)}if(i!==0){if(i===2&&(m=Za(r),m!==0&&(d=m,i=gf(r,m))),i===1)throw l=Rl,oo(r,0),oi(r,d),Sn(r,Se()),l;if(i===6)oi(r,d);else{if(m=r.current.alternate,(d&30)===0&&!FS(m)&&(i=yu(r,d),i===2&&(y=Za(r),y!==0&&(d=y,i=gf(r,y))),i===1))throw l=Rl,oo(r,0),oi(r,d),Sn(r,Se()),l;switch(r.finishedWork=m,r.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:ao(r,En,Ss);break;case 3:if(oi(r,d),(d&130023424)===d&&(i=ff+500-Se(),10<i)){if(us(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){fn(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=_h(ao.bind(null,r,En,Ss),i);break}ao(r,En,Ss);break;case 4:if(oi(r,d),(d&4194240)===d)break;for(i=r.eventTimes,m=-1;0<d;){var S=31-An(d);y=1<<S,S=i[S],S>m&&(m=S),d&=~y}if(d=m,d=Se()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*LS(d/1960))-d,10<d){r.timeoutHandle=_h(ao.bind(null,r,En,Ss),d);break}ao(r,En,Ss);break;case 5:ao(r,En,Ss);break;default:throw Error(t(329))}}}return Sn(r,Se()),r.callbackNode===l?nv.bind(null,r):null}function gf(r,i){var l=Pl;return r.current.memoizedState.isDehydrated&&(oo(r,i).flags|=256),r=yu(r,i),r!==2&&(i=En,En=l,i!==null&&yf(i)),r}function yf(r){En===null?En=r:En.push.apply(En,r)}function FS(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!ir(y(),m))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function oi(r,i){for(i&=~hf,i&=~du,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-An(i),d=1<<l;r[l]=-1,i&=~d}}function rv(r){if((nt&6)!==0)throw Error(t(327));pa();var i=us(r,0);if((i&1)===0)return Sn(r,Se()),null;var l=yu(r,i);if(r.tag!==0&&l===2){var d=Za(r);d!==0&&(i=d,l=gf(r,d))}if(l===1)throw l=Rl,oo(r,0),oi(r,i),Sn(r,Se()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ao(r,En,Ss),Sn(r,Se()),null}function vf(r,i){var l=nt;nt|=1;try{return r(i)}finally{nt=l,nt===0&&(fa=Se()+500,Hc&&Zs())}}function io(r){si!==null&&si.tag===0&&(nt&6)===0&&pa();var i=nt;nt|=1;var l=Jn.transition,d=Ze;try{if(Jn.transition=null,Ze=1,r)return r()}finally{Ze=d,Jn.transition=l,nt=i,(nt&6)===0&&Zs()}}function xf(){Vn=ha.current,pt(ha)}function oo(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,mS(l)),At!==null)for(l=At.return;l!==null;){var d=l;switch(Ch(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Bc();break;case 3:ca(),pt(xn),pt(tn),Uh();break;case 5:Lh(d);break;case 4:ca();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:Dh(d.type._context);break;case 22:case 23:xf()}l=l.return}if($t=r,At=r=ai(r.current,null),Yt=Vn=i,jt=0,Rl=null,hf=du=so=0,En=Pl=null,to!==null){for(i=0;i<to.length;i++)if(l=to[i],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var S=y.next;y.next=m,d.next=S}l.pending=d}to=null}return r}function sv(r,i){do{var l=At;try{if(Ph(),eu.current=su,tu){for(var d=xt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}tu=!1}if(ro=0,Bt=Dt=xt=null,bl=!1,Il=0,df.current=null,l===null||l.return===null){jt=1,Rl=i,At=null;break}e:{var y=r,S=l.return,V=l,B=i;if(i=Yt,V.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ee=B,le=V,de=le.tag;if((le.mode&1)===0&&(de===0||de===11||de===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ee=ky(S);if(Ee!==null){Ee.flags&=-257,Ay(Ee,S,V,y,i),Ee.mode&1&&Ny(y,ee,i),i=Ee,B=ee;var Ie=i.updateQueue;if(Ie===null){var ke=new Set;ke.add(B),i.updateQueue=ke}else Ie.add(B);break e}else{if((i&1)===0){Ny(y,ee,i),wf();break e}B=Error(t(426))}}else if(yt&&V.mode&1){var bt=ky(S);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),Ay(bt,S,V,y,i),Ah(ua(B,V));break e}}y=B=ua(B,V),jt!==4&&(jt=2),Pl===null?Pl=[y]:Pl.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var K=Iy(y,B,i);Zg(y,K);break e;case 1:V=B;var W=y.type,X=y.stateNode;if((y.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ri===null||!ri.has(X)))){y.flags|=65536,i&=-i,y.lanes|=i;var pe=Cy(y,V,i);Zg(y,pe);break e}}y=y.return}while(y!==null)}av(l)}catch(Re){i=Re,At===l&&l!==null&&(At=l=l.return);continue}break}while(!0)}function iv(){var r=uu.current;return uu.current=su,r===null?su:r}function wf(){(jt===0||jt===3||jt===2)&&(jt=4),$t===null||(so&268435455)===0&&(du&268435455)===0||oi($t,Yt)}function yu(r,i){var l=nt;nt|=2;var d=iv();($t!==r||Yt!==i)&&(Ss=null,oo(r,i));do try{US();break}catch(m){sv(r,m)}while(!0);if(Ph(),nt=l,uu.current=d,At!==null)throw Error(t(261));return $t=null,Yt=0,jt}function US(){for(;At!==null;)ov(At)}function zS(){for(;At!==null&&!me();)ov(At)}function ov(r){var i=uv(r.alternate,r,Vn);r.memoizedProps=r.pendingProps,i===null?av(r):At=i,df.current=null}function av(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=DS(l,i,Vn),l!==null){At=l;return}}else{if(l=jS(l,i),l!==null){l.flags&=32767,At=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{jt=6,At=null;return}}if(i=i.sibling,i!==null){At=i;return}At=i=r}while(i!==null);jt===0&&(jt=5)}function ao(r,i,l){var d=Ze,m=Jn.transition;try{Jn.transition=null,Ze=1,BS(r,i,l,d)}finally{Jn.transition=m,Ze=d}return null}function BS(r,i,l,d){do pa();while(si!==null);if((nt&6)!==0)throw Error(t(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(ih(r,y),r===$t&&(At=$t=null,Yt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||fu||(fu=!0,dv(zt,function(){return pa(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Jn.transition,Jn.transition=null;var S=Ze;Ze=1;var V=nt;nt|=4,df.current=null,MS(r,l),Xy(l,r),lS(xh),fs=!!vh,xh=vh=null,r.current=l,VS(l),Ae(),nt=V,Ze=S,Jn.transition=y}else r.current=l;if(fu&&(fu=!1,si=r,pu=m),y=r.pendingLanes,y===0&&(ri=null),Tc(l.stateNode),Sn(r,Se()),i!==null)for(d=r.onRecoverableError,l=0;l<i.length;l++)m=i[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(hu)throw hu=!1,r=pf,pf=null,r;return(pu&1)!==0&&r.tag!==0&&pa(),y=r.pendingLanes,(y&1)!==0?r===mf?Dl++:(Dl=0,mf=r):Dl=0,Zs(),null}function pa(){if(si!==null){var r=Ar(pu),i=Jn.transition,l=Ze;try{if(Jn.transition=null,Ze=16>r?16:r,si===null)var d=!1;else{if(r=si,si=null,pu=0,(nt&6)!==0)throw Error(t(331));var m=nt;for(nt|=4,be=r.current;be!==null;){var y=be,S=y.child;if((be.flags&16)!==0){var V=y.deletions;if(V!==null){for(var B=0;B<V.length;B++){var ee=V[B];for(be=ee;be!==null;){var le=be;switch(le.tag){case 0:case 11:case 15:Al(8,le,y)}var de=le.child;if(de!==null)de.return=le,be=de;else for(;be!==null;){le=be;var oe=le.sibling,Ee=le.return;if(qy(le),le===ee){be=null;break}if(oe!==null){oe.return=Ee,be=oe;break}be=Ee}}}var Ie=y.alternate;if(Ie!==null){var ke=Ie.child;if(ke!==null){Ie.child=null;do{var bt=ke.sibling;ke.sibling=null,ke=bt}while(ke!==null)}}be=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,be=S;else e:for(;be!==null;){if(y=be,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Al(9,y,y.return)}var K=y.sibling;if(K!==null){K.return=y.return,be=K;break e}be=y.return}}var W=r.current;for(be=W;be!==null;){S=be;var X=S.child;if((S.subtreeFlags&2064)!==0&&X!==null)X.return=S,be=X;else e:for(S=W;be!==null;){if(V=be,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:cu(9,V)}}catch(Re){St(V,V.return,Re)}if(V===S){be=null;break e}var pe=V.sibling;if(pe!==null){pe.return=V.return,be=pe;break e}be=V.return}}if(nt=m,Zs(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Bi,r)}catch{}d=!0}return d}finally{Ze=l,Jn.transition=i}}return!1}function lv(r,i,l){i=ua(l,i),i=Iy(r,i,1),r=ti(r,i,1),i=fn(),r!==null&&(qi(r,1,i),Sn(r,i))}function St(r,i,l){if(r.tag===3)lv(r,r,l);else for(;i!==null;){if(i.tag===3){lv(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ri===null||!ri.has(d))){r=ua(l,r),r=Cy(i,r,1),i=ti(i,r,1),r=fn(),i!==null&&(qi(i,1,r),Sn(i,r));break}}i=i.return}}function $S(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),i=fn(),r.pingedLanes|=r.suspendedLanes&l,$t===r&&(Yt&l)===l&&(jt===4||jt===3&&(Yt&130023424)===Yt&&500>Se()-ff?oo(r,0):hf|=l),Sn(r,i)}function cv(r,i){i===0&&((r.mode&1)===0?i=1:(i=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var l=fn();r=ws(r,i),r!==null&&(qi(r,i,l),Sn(r,l))}function HS(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),cv(r,l)}function WS(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),cv(r,l)}var uv;uv=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||xn.current)_n=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return _n=!1,PS(r,i,l);_n=(r.flags&131072)!==0}else _n=!1,yt&&(i.flags&1048576)!==0&&$g(i,qc,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;au(r,i),r=i.pendingProps;var m=na(i,tn.current);la(i,l),m=$h(null,i,d,r,m,l);var y=Hh();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,wn(d)?(y=!0,$c(i)):y=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Mh(i),m.updater=iu,i.stateNode=m,m._reactInternals=i,Yh(i,d,r,l),i=ef(null,i,d,!0,y,l)):(i.tag=0,yt&&y&&Ih(i),hn(null,i,m,l),i=i.child),i;case 16:d=i.elementType;e:{switch(au(r,i),r=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=GS(d),r=ar(d,r),m){case 0:i=Zh(null,i,d,r,l);break e;case 1:i=My(null,i,d,r,l);break e;case 11:i=Ry(null,i,d,r,l);break e;case 14:i=Py(null,i,d,ar(d.type,r),l);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:ar(d,m),Zh(r,i,d,m,l);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:ar(d,m),My(r,i,d,m,l);case 3:e:{if(Vy(i),r===null)throw Error(t(387));d=i.pendingProps,y=i.memoizedState,m=y.element,Jg(r,i),Jc(i,d,null,l);var S=i.memoizedState;if(d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){m=ua(Error(t(423)),i),i=Ly(r,i,d,l,m);break e}else if(d!==m){m=ua(Error(t(424)),i),i=Ly(r,i,d,l,m);break e}else for(Mn=Ys(i.stateNode.containerInfo.firstChild),On=i,yt=!0,or=null,l=Yg(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ia(),d===m){i=Es(r,i,l);break e}hn(r,i,d,l)}i=i.child}return i;case 5:return ty(i),r===null&&kh(i),d=i.type,m=i.pendingProps,y=r!==null?r.memoizedProps:null,S=m.children,wh(d,m)?S=null:y!==null&&wh(d,y)&&(i.flags|=32),Oy(r,i),hn(r,i,S,l),i.child;case 6:return r===null&&kh(i),null;case 13:return Fy(r,i,l);case 4:return Vh(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=oa(i,null,d,l):hn(r,i,d,l),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:ar(d,m),Ry(r,i,d,m,l);case 7:return hn(r,i,i.pendingProps,l),i.child;case 8:return hn(r,i,i.pendingProps.children,l),i.child;case 12:return hn(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,y=i.memoizedProps,S=m.value,ut(Qc,d._currentValue),d._currentValue=S,y!==null)if(ir(y.value,S)){if(y.children===m.children&&!xn.current){i=Es(r,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var V=y.dependencies;if(V!==null){S=y.child;for(var B=V.firstContext;B!==null;){if(B.context===d){if(y.tag===1){B=_s(-1,l&-l),B.tag=2;var ee=y.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?B.next=B:(B.next=le.next,le.next=B),ee.pending=B}}y.lanes|=l,B=y.alternate,B!==null&&(B.lanes|=l),jh(y.return,l,i),V.lanes|=l;break}B=B.next}}else if(y.tag===10)S=y.type===i.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,V=S.alternate,V!==null&&(V.lanes|=l),jh(S,l,i),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===i){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}hn(r,i,m.children,l),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,la(i,l),m=Yn(m),d=d(m),i.flags|=1,hn(r,i,d,l),i.child;case 14:return d=i.type,m=ar(d,i.pendingProps),m=ar(d.type,m),Py(r,i,d,m,l);case 15:return Dy(r,i,i.type,i.pendingProps,l);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:ar(d,m),au(r,i),i.tag=1,wn(d)?(r=!0,$c(i)):r=!1,la(i,l),Ty(i,d,m),Yh(i,d,m,l),ef(null,i,d,!0,r,l);case 19:return zy(r,i,l);case 22:return jy(r,i,l)}throw Error(t(156,i.tag))};function dv(r,i){return Y(r,i)}function qS(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,i,l,d){return new qS(r,i,l,d)}function _f(r){return r=r.prototype,!(!r||!r.isReactComponent)}function GS(r){if(typeof r=="function")return _f(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===De)return 14}return 2}function ai(r,i){var l=r.alternate;return l===null?(l=Zn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function vu(r,i,l,d,m,y){var S=2;if(d=r,typeof r=="function")_f(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case N:return lo(l.children,m,y,i);case E:S=8,m|=8;break;case k:return r=Zn(12,l,i,m|2),r.elementType=k,r.lanes=y,r;case P:return r=Zn(13,l,i,m),r.elementType=P,r.lanes=y,r;case ge:return r=Zn(19,l,i,m),r.elementType=ge,r.lanes=y,r;case xe:return xu(l,m,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:S=10;break e;case j:S=9;break e;case L:S=11;break e;case De:S=14;break e;case we:S=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Zn(S,l,i,m),i.elementType=r,i.type=d,i.lanes=y,i}function lo(r,i,l,d){return r=Zn(7,r,d,i),r.lanes=l,r}function xu(r,i,l,d){return r=Zn(22,r,d,i),r.elementType=xe,r.lanes=l,r.stateNode={isHidden:!1},r}function Ef(r,i,l){return r=Zn(6,r,null,i),r.lanes=l,r}function Sf(r,i,l){return i=Zn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function KS(r,i,l,d,m){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Tf(r,i,l,d,m,y,S,V,B){return r=new KS(r,i,l,V,B),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Zn(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mh(y),r}function QS(r,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:r,containerInfo:i,implementation:l}}function hv(r){if(!r)return Js;r=r._reactInternals;e:{if(vn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(wn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(wn(l))return Ug(r,l,i)}return i}function fv(r,i,l,d,m,y,S,V,B){return r=Tf(l,d,!0,r,m,y,S,V,B),r.context=hv(null),l=r.current,d=fn(),m=ii(l),y=_s(d,m),y.callback=i??null,ti(l,y,m),r.current.lanes=m,qi(r,m,d),Sn(r,d),r}function wu(r,i,l,d){var m=i.current,y=fn(),S=ii(m);return l=hv(l),i.context===null?i.context=l:i.pendingContext=l,i=_s(y,S),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=ti(m,i,S),r!==null&&(ur(r,m,S,y),Xc(r,m,S)),S}function _u(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function pv(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function bf(r,i){pv(r,i),(r=r.alternate)&&pv(r,i)}function YS(){return null}var mv=typeof reportError=="function"?reportError:function(r){console.error(r)};function If(r){this._internalRoot=r}Eu.prototype.render=If.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));wu(r,i,null,null)},Eu.prototype.unmount=If.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;io(function(){wu(null,r,null,null)}),i[gs]=null}};function Eu(r){this._internalRoot=r}Eu.prototype.unstable_scheduleHydration=function(r){if(r){var i=il();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Rn.length&&i!==0&&i<Rn[l].priority;l++);Rn.splice(l,0,r),l===0&&Uo(r)}};function Cf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Su(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gv(){}function XS(r,i,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var ee=_u(S);y.call(ee)}}var S=fv(i,d,r,0,null,!1,!1,"",gv);return r._reactRootContainer=S,r[gs]=S.current,yl(r.nodeType===8?r.parentNode:r),io(),S}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var V=d;d=function(){var ee=_u(B);V.call(ee)}}var B=Tf(r,0,!1,null,null,!1,!1,"",gv);return r._reactRootContainer=B,r[gs]=B.current,yl(r.nodeType===8?r.parentNode:r),io(function(){wu(i,B,l,d)}),B}function Tu(r,i,l,d,m){var y=l._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var V=m;m=function(){var B=_u(S);V.call(B)}}wu(i,S,r,m)}else S=XS(l,i,r,m,d);return _u(S)}rl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=it(i.pendingLanes);l!==0&&(nl(i,l|1),Sn(i,Se()),(nt&6)===0&&(fa=Se()+500,Zs()))}break;case 13:io(function(){var d=ws(r,1);if(d!==null){var m=fn();ur(d,r,1,m)}}),bf(r,1)}},Lo=function(r){if(r.tag===13){var i=ws(r,134217728);if(i!==null){var l=fn();ur(i,r,134217728,l)}bf(r,134217728)}},sl=function(r){if(r.tag===13){var i=ii(r),l=ws(r,i);if(l!==null){var d=fn();ur(l,r,i,d)}bf(r,i)}},il=function(){return Ze},ol=function(r,i){var l=Ze;try{return Ze=r,i()}finally{Ze=l}},$n=function(r,i,l){switch(i){case"input":if(Nn(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var m=zc(d);if(!m)throw Error(t(90));Oe(d),Nn(d,m)}}}break;case"textarea":Oi(r,l);break;case"select":i=l.value,i!=null&&qt(r,!!l.multiple,i,!1)}},Ao=vf,Fi=io;var JS={usingClientEntryPoint:!1,Events:[wl,ea,zc,Tr,br,vf]},jl={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZS={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Vo(r),r===null?null:r.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||YS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Bi=bu.inject(ZS),kn=bu}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS,Tn.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(i))throw Error(t(200));return QS(r,i,null,l)},Tn.createRoot=function(r,i){if(!Cf(r))throw Error(t(299));var l=!1,d="",m=mv;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Tf(r,1,!1,null,null,l,!1,d,m),r[gs]=i.current,yl(r.nodeType===8?r.parentNode:r),new If(i)},Tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Vo(i),r=r===null?null:r.stateNode,r},Tn.flushSync=function(r){return io(r)},Tn.hydrate=function(r,i,l){if(!Su(i))throw Error(t(200));return Tu(null,r,i,!0,l)},Tn.hydrateRoot=function(r,i,l){if(!Cf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",S=mv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),i=fv(i,null,r,1,l??null,m,!1,y,S),r[gs]=i.current,yl(r),d)for(r=0;r<d.length;r++)l=d[r],m=l._getVersion,m=m(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,m]:i.mutableSourceEagerHydrationData.push(l,m);return new Eu(i)},Tn.render=function(r,i,l){if(!Su(i))throw Error(t(200));return Tu(null,r,i,!1,l)},Tn.unmountComponentAtNode=function(r){if(!Su(r))throw Error(t(40));return r._reactRootContainer?(io(function(){Tu(null,null,r,!1,function(){r._reactRootContainer=null,r[gs]=null})}),!0):!1},Tn.unstable_batchedUpdates=vf,Tn.unstable_renderSubtreeIntoContainer=function(r,i,l,d){if(!Su(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Tu(r,i,l,!1,d)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var Tv;function Ox(){if(Tv)return Af.exports;Tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Af.exports=aT(),Af.exports}var bv;function lT(){if(bv)return Iu;bv=1;var n=Ox();return Iu.createRoot=n.createRoot,Iu.hydrateRoot=n.hydrateRoot,Iu}var cT=lT();const uT=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},dT=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,x=a>>2,_=(a&3)<<4|f>>4;let T=(f&15)<<2|g>>6,C=g&63;p||(C=64,c||(T=64)),s.push(t[x],t[_],t[T],t[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Mx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||g==null||_==null)throw new hT;const T=a<<2|f>>4;if(s.push(T),g!==64){const C=f<<4&240|g>>2;if(s.push(C),_!==64){const M=g<<6&192|_;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fT=function(n){const e=Mx(n);return Vx.encodeByteArray(e,!0)},td=function(n){return fT(n).replace(/\./g,"")},Lx=function(n){try{return Vx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=()=>pT().__FIREBASE_DEFAULTS__,gT=()=>{if(typeof process>"u"||typeof Iv>"u")return;const n=Iv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lx(n[1]);return e&&JSON.parse(e)},kd=()=>{try{return uT()||mT()||gT()||yT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Fx=n=>kd()?.emulatorHosts?.[n],vT=n=>{const e=Fx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ux=()=>kd()?.config,zx=n=>kd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[td(JSON.stringify(t)),td(JSON.stringify(c)),""].join(".")}const Bl={};function _T(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?n.emulator.push(e):n.prod.push(e);return n}function ET(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Cv=!1;function $x(n,e){if(typeof window>"u"||typeof document>"u"||!za(window.location.host)||Bl[n]===e||Bl[n]||Cv)return;Bl[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",a=_T().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Cv=!0,c()},T}function x(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=ET(s),C=t("text"),M=document.getElementById(C)||document.createElement("span"),b=t("learnmore"),R=document.getElementById(b)||document.createElement("a"),O=t("preprendIcon"),F=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const U=T.element;f(U),x(R,b);const $=g();p(F,O),U.append(F,M,R,$),document.body.appendChild(U)}a?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function TT(){const n=kd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NT(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kT(){return!TT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AT(){try{return typeof indexedDB=="object"}catch{return!1}}function RT(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="FirebaseError";class js extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=PT,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?DT(a,s):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new js(o,f,s)}}function DT(n,e){return n.replace(jT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jT=/\{\$([^}]+)}/g;function OT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function go(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=n[o],c=e[o];if(Nv(a)&&Nv(c)){if(!go(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Nv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function MT(n,e){const t=new VT(n,e);return t.subscribe.bind(t)}class VT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");LT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Df),o.error===void 0&&(o.error=Df),o.complete===void 0&&(o.complete=Df);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){return n&&n._delegate?n._delegate:n}class yo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zT(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);s===f&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UT(n){return n===uo?void 0:n}function zT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const $T={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},HT=Ye.INFO,WT={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},qT=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=WT[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=HT,this._logHandler=qT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const GT=(n,e)=>e.some(t=>n instanceof t);let kv,Av;function KT(){return kv||(kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hx=new WeakMap,ap=new WeakMap,Wx=new WeakMap,jf=new WeakMap,em=new WeakMap;function YT(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(yi(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Hx.set(t,n)}).catch(()=>{}),em.set(e,n),e}function XT(n){if(ap.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});ap.set(n,e)}let lp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Wx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JT(n){lp=n(lp)}function ZT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Of(this),e,...t);return Wx.set(s,e.sort?e.sort():[e]),yi(s)}:QT().includes(n)?function(...e){return n.apply(Of(this),e),yi(Hx.get(this))}:function(...e){return yi(n.apply(Of(this),e))}}function eb(n){return typeof n=="function"?ZT(n):(n instanceof IDBTransaction&&XT(n),GT(n,KT())?new Proxy(n,lp):n)}function yi(n){if(n instanceof IDBRequest)return YT(n);if(jf.has(n))return jf.get(n);const e=eb(n);return e!==n&&(jf.set(n,e),em.set(e,n)),e}const Of=n=>em.get(n);function tb(n,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),f=yi(c);return s&&c.addEventListener("upgradeneeded",p=>{s(yi(c.result),p.oldVersion,p.newVersion,yi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const nb=["get","getKey","getAll","getAllKeys","count"],rb=["put","add","delete","clear"],Mf=new Map;function Rv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=rb.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nb.includes(t)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return Mf.set(e,a),a}JT(n=>({...n,get:(e,t,s)=>Rv(e,t)||n.get(e,t,s),has:(e,t)=>!!Rv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ib(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function ib(n){return n.getComponent()?.type==="VERSION"}const cp="@firebase/app",Pv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Zp("@firebase/app"),ob="@firebase/app-compat",ab="@firebase/analytics-compat",lb="@firebase/analytics",cb="@firebase/app-check-compat",ub="@firebase/app-check",db="@firebase/auth",hb="@firebase/auth-compat",fb="@firebase/database",pb="@firebase/data-connect",mb="@firebase/database-compat",gb="@firebase/functions",yb="@firebase/functions-compat",vb="@firebase/installations",xb="@firebase/installations-compat",wb="@firebase/messaging",_b="@firebase/messaging-compat",Eb="@firebase/performance",Sb="@firebase/performance-compat",Tb="@firebase/remote-config",bb="@firebase/remote-config-compat",Ib="@firebase/storage",Cb="@firebase/storage-compat",Nb="@firebase/firestore",kb="@firebase/ai",Ab="@firebase/firestore-compat",Rb="firebase",Pb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",Db={[cp]:"fire-core",[ob]:"fire-core-compat",[lb]:"fire-analytics",[ab]:"fire-analytics-compat",[ub]:"fire-app-check",[cb]:"fire-app-check-compat",[db]:"fire-auth",[hb]:"fire-auth-compat",[fb]:"fire-rtdb",[pb]:"fire-data-connect",[mb]:"fire-rtdb-compat",[gb]:"fire-fn",[yb]:"fire-fn-compat",[vb]:"fire-iid",[xb]:"fire-iid-compat",[wb]:"fire-fcm",[_b]:"fire-fcm-compat",[Eb]:"fire-perf",[Sb]:"fire-perf-compat",[Tb]:"fire-rc",[bb]:"fire-rc-compat",[Ib]:"fire-gcs",[Cb]:"fire-gcs-compat",[Nb]:"fire-fst",[Ab]:"fire-fst-compat",[kb]:"fire-vertex","fire-js":"fire-js",[Rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,jb=new Map,dp=new Map;function Dv(n,e){try{n.container.addComponent(e)}catch(t){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ra(n){const e=n.name;if(dp.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,n);for(const t of nd.values())Dv(t,n);for(const t of jb.values())Dv(t,n);return!0}function tm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new uc("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=Pb;function qx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:up,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(t||(t=Ux()),!t)throw vi.create("no-options");const a=nd.get(o);if(a){if(go(t,a.options)&&go(s,a.config))return a;throw vi.create("duplicate-app",{appName:o})}const c=new BT(o);for(const p of dp.values())c.addComponent(p);const f=new Mb(t,s,c);return nd.set(o,f),f}function Gx(n=up){const e=nd.get(n);if(!e&&n===up&&Ux())return qx();if(!e)throw vi.create("no-app",{appName:n});return e}function xi(n,e,t){let s=Db[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}Ra(new yo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebase-heartbeat-database",Lb=1,Xl="firebase-heartbeat-store";let Vf=null;function Kx(){return Vf||(Vf=tb(Vb,Lb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw vi.create("idb-open",{originalErrorMessage:n.message})})),Vf}async function Fb(n){try{const t=(await Kx()).transaction(Xl),s=await t.objectStore(Xl).get(Qx(n));return await t.done,s}catch(e){if(e instanceof js)Ns.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(t.message)}}}async function jv(n,e){try{const s=(await Kx()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,Qx(n)),await s.done}catch(t){if(t instanceof js)Ns.warn(t.message);else{const s=vi.create("idb-set",{originalErrorMessage:t?.message});Ns.warn(s.message)}}}function Qx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=1024,zb=30;class Bb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hb(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ov();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>zb){const o=Wb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ov(),{heartbeatsToSend:t,unsentEntries:s}=$b(this._heartbeatsCache.heartbeats),o=td(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ns.warn(e),""}}}function Ov(){return new Date().toISOString().substring(0,10)}function $b(n,e=Ub){const t=[];let s=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Mv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Mv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Hb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AT()?RT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Fb(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mv(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function Wb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){Ra(new yo("platform-logger",e=>new sb(e),"PRIVATE")),Ra(new yo("heartbeat",e=>new Bb(e),"PRIVATE")),xi(cp,Pv,n),xi(cp,Pv,"esm2020"),xi("fire-js","")}qb("");var Gb="firebase",Kb="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(Gb,Kb,"app");function Yx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qb=Yx,Xx=new uc("auth","Firebase",Yx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Zp("@firebase/auth");function Yb(n,...e){rd.logLevel<=Ye.WARN&&rd.warn(`Auth (${Ba}): ${n}`,...e)}function zu(n,...e){rd.logLevel<=Ye.ERROR&&rd.error(`Auth (${Ba}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,...e){throw rm(n,...e)}function pr(n,...e){return rm(n,...e)}function nm(n,e,t){const s={...Qb(),[e]:t};return new uc("auth","Firebase",s).create(e,{appName:n.name})}function po(n){return nm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xb(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&es(n,"argument-error"),nm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rm(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Xx.create(n,...e)}function Be(n,e,...t){if(!n)throw rm(e,...t)}function Is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zu(e),new Error(e)}function ks(n,e){n||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){return typeof self<"u"&&self.location?.href||""}function Jb(){return Vv()==="http:"||Vv()==="https:"}function Vv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jb()||IT()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ks(t>e,"Short delay should be less than long delay!"),this.isMobile=ST()||CT()}get(){return Zb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(n,e){ks(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rI=new hc(3e4,6e4);function im(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $a(n,e,t,s,o={}){return Zx(n,o,async()=>{let a={},c={};s&&(e==="GET"?c=s:a={body:JSON.stringify(s)});const f=dc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...a};return bT()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&za(n.emulatorConfig.host)&&(g.credentials="include"),Jx.fetch()(await ew(n,n.config.apiHost,t,f),g)})}async function Zx(n,e,t){n._canInitEmulator=!1;const s={...tI,...e};try{const o=new iI(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Cu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Cu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Cu(n,"user-disabled",c);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nm(n,x,g);es(n,x)}}catch(o){if(o instanceof js)throw o;es(n,"network-request-failed",{message:String(o)})}}async function sI(n,e,t,s,o={}){const a=await $a(n,e,t,s,o);return"mfaPendingCredential"in a&&es(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function ew(n,e,t,s){const o=`${e}${t}?${s}`,a=n,c=a.config.emulator?sm(n.config,o):`${n.config.apiScheme}://${o}`;return nI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}class iI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(pr(this.auth,"network-request-failed")),rI.get())})}}function Cu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=pr(n,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(n,e){return $a(n,"POST","/v1/accounts:delete",e)}async function sd(n,e){return $a(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aI(n,e=!1){const t=pn(n),s=await t.getIdToken(e),o=om(s);Be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:s,authTime:$l(Lf(o.auth_time)),issuedAtTime:$l(Lf(o.iat)),expirationTime:$l(Lf(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Lf(n){return Number(n)*1e3}function om(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lx(t);return o?JSON.parse(o):(zu("Failed to decode base64 JWT payload"),null)}catch(o){return zu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Lv(n){const e=om(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof js&&lI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function lI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(n){const e=n.auth,t=await n.getIdToken(),s=await Jl(n,sd(e,{idToken:t}));Be(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?tw(o.providerUserInfo):[],c=dI(n.providerData,a),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=f?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,x)}async function uI(n){const e=pn(n);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function tw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(n,e){const t=await Zx(n,{},async()=>{const s=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await ew(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return n.emulatorConfig&&za(n.emulatorConfig.host)&&(p.credentials="include"),Jx.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fI(n,e){return $a(n,"POST","/v2/accounts:revokeToken",im(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const t=Lv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await hI(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,c=new Sa;return s&&(Be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Be(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Be(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aI(this,e)}reload(){return uI(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await id(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(po(this.auth));const e=await this.getIdToken();return await Jl(this,oI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:C,providerData:M,stsTokenManager:b}=t;Be(_&&b,e,"internal-error");const R=Sa.fromJSON(this.name,b);Be(typeof _=="string",e,"internal-error"),ci(s,e.name),ci(o,e.name),Be(typeof T=="boolean",e,"internal-error"),Be(typeof C=="boolean",e,"internal-error"),ci(a,e.name),ci(c,e.name),ci(f,e.name),ci(p,e.name),ci(g,e.name),ci(x,e.name);const O=new fr({uid:_,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:a,tenantId:f,stsTokenManager:R,createdAt:g,lastLoginAt:x});return M&&Array.isArray(M)&&(O.providerData=M.map(F=>({...F}))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(e,t,s=!1){const o=new Sa;o.updateFromServerResponse(t);const a=new fr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await id(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Be(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?tw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,f=new Sa;f.updateFromIdToken(s);const p=new fr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;function Cs(n){ks(n instanceof Function,"Expected a class definition");let e=Fv.get(n);return e?(ks(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nw.type="NONE";const Uv=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n,e,t){return`firebase:${n}:${e}:${t}`}class Ta{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Bu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Bu("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sd(this.auth,{idToken:e}).catch(()=>{});return t?fr._fromGetAccountInfoResponse(this.auth,t,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ta(Cs(Uv),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||Cs(Uv);const c=Bu(s,e.config.apiKey,e.name);let f=null;for(const g of t)try{const x=await g._get(c);if(x){let _;if(typeof x=="string"){const T=await sd(e,{idToken:x}).catch(()=>{});if(!T)break;_=await fr._fromGetAccountInfoResponse(e,T,x)}else _=fr._fromJSON(e,x);g!==a&&(f=_),a=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ta(a,e,s):(a=p[0],f&&await a._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new Ta(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lw(e))return"Blackberry";if(cw(e))return"Webos";if(sw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(aw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function rw(n=cn()){return/firefox\//i.test(n)}function sw(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(n=cn()){return/crios\//i.test(n)}function ow(n=cn()){return/iemobile/i.test(n)}function aw(n=cn()){return/android/i.test(n)}function lw(n=cn()){return/blackberry/i.test(n)}function cw(n=cn()){return/webos/i.test(n)}function am(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pI(n=cn()){return am(n)&&!!window.navigator?.standalone}function mI(){return NT()&&document.documentMode===10}function uw(n=cn()){return am(n)||aw(n)||cw(n)||lw(n)||/windows phone/i.test(n)||ow(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n,e=[]){let t;switch(n){case"Browser":t=zv(cn());break;case"Worker":t=`${zv(cn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ba}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((c,f)=>{try{const p=e(a);c(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(n,e={}){return $a(n,"GET","/v2/passwordPolicy",im(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=6;class xI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new gI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sd(this,{idToken:e}),s=await fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===c)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(po(this));const t=e?pn(e):null;return t&&Be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(po(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yI(this),t=new xI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await fI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cs(e)||this._popupRedirectResolver;Be(t,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[Cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Yb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ad(n){return pn(n)}class Bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=MT(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(n){lm=n}function EI(n){return lm.loadJS(n)}function SI(){return lm.gapiScript}function TI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n,e){const t=tm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(go(a,e??{}))return o;es(o,"already-initialized")}return t.initialize({options:e})}function II(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Cs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function CI(n,e,t){const s=Ad(n);Be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=hw(e),{host:c,port:f}=NI(e),p=f===null?"":`:${f}`,g={url:`${a}//${c}${p}/`},x=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Be(go(g,s.config.emulator)&&go(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,za(c)?(Bx(`${a}//${c}${p}`),$x("Auth",!0)):kI()}function hw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NI(n){const e=hw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:$v(s.substr(a.length+1))}}else{const[a,c]=s.split(":");return{host:a,port:$v(c)}}}function $v(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,t){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(n,e){return sI(n,"POST","/v1/accounts:signInWithIdp",im(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class vo extends fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):es("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...a}=t;if(!s||!o)return null;const c=new vo(s,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ba(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ba(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ba(e,t)}buildRequest(){const e={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends fc{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return bs.credential(t,s)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends fc{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends fc{constructor(){super("twitter.com")}static credential(e,t){return vo._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return mi.credential(t,s)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await fr._fromIdTokenResponse(e,s,o),c=Hv(s);return new Pa({user:a,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Hv(s);return new Pa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends js{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new od(e,t,s,o)}}function pw(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(n,a,e,s):a})}async function RI(n,e,t=!1){const s=await Jl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pa._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(n,e,t=!1){const{auth:s}=n;if(hr(s.app))return Promise.reject(po(s));const o="reauthenticate";try{const a=await Jl(n,pw(s,o,e,n),t);Be(a.idToken,s,"internal-error");const c=om(a.idToken);Be(c,s,"internal-error");const{sub:f}=c;return Be(n.uid===f,s,"user-mismatch"),Pa._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&es(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(n,e,t=!1){if(hr(n.app))return Promise.reject(po(n));const s="signIn",o=await pw(n,s,e),a=await Pa._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(a.user),a}function jI(n,e,t,s){return pn(n).onIdTokenChanged(e,t,s)}function OI(n,e,t){return pn(n).beforeAuthStateChanged(e,t)}function MI(n,e,t,s){return pn(n).onAuthStateChanged(e,t,s)}function VI(n){return pn(n).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e3,FI=10;class gw extends mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);mI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gw.type="LOCAL";const UI=gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yw.type="SESSION";const vw=yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(c).map(async g=>g(t.origin,a)),p=await zI(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((f,p)=>{const g=um("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const T=_;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(x),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(T.data.response);break;default:clearTimeout(x),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function $I(n){Gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function HI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WI(){return navigator?.serviceWorker?.controller||null}function qI(){return xw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebaseLocalStorageDb",GI=1,ld="firebaseLocalStorage",_w="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pd(n,e){return n.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function KI(){const n=indexedDB.deleteDatabase(ww);return new pc(n).toPromise()}function pp(){const n=indexedDB.open(ww,GI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(ld,{keyPath:_w})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(ld)?e(s):(s.close(),await KI(),e(await pp()))})})}async function Wv(n,e,t){const s=Pd(n,!0).put({[_w]:e,value:t});return new pc(s).toPromise()}async function QI(n,e){const t=Pd(n,!1).get(e),s=await new pc(t).toPromise();return s===void 0?null:s.value}function qv(n,e){const t=Pd(n,!0).delete(e);return new pc(t).toPromise()}const YI=800,XI=3;class Ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>XI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(qI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HI(),!this.activeServiceWorker)return;this.sender=new BI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await Wv(e,ad,"1"),await qv(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Wv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>QI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Pd(o,!1).getAll();return new pc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ew.type="LOCAL";const JI=Ew;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e){return e?Cs(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ba(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ba(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZI(n){return DI(n.auth,new dm(n),n.bypassAuthState)}function eC(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),PI(t,new dm(n),n.bypassAuthState)}async function tC(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),RI(t,new dm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZI;case"linkViaPopup":case"linkViaRedirect":return tC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:es(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new hc(2e3,1e4);async function rC(n,e,t){if(hr(n.app))return Promise.reject(pr(n,"operation-not-supported-in-this-environment"));const s=Ad(n);Xb(n,e,cm);const o=Sw(s,t);return new ho(s,"signInViaPopup",e,o).executeNotNull()}class ho extends Tw{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nC.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="pendingRedirect",$u=new Map;class iC extends Tw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=$u.get(this.auth._key());if(!e){try{const s=await oC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}$u.set(this.auth._key(),e)}return this.bypassAuthState||$u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(n,e){const t=cC(e),s=lC(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function aC(n,e){$u.set(n._key(),e)}function lC(n){return Cs(n._redirectPersistence)}function cC(n){return Bu(sC,n.config.apiKey,n.name)}async function uC(n,e,t=!1){if(hr(n.app))return Promise.reject(po(n));const s=Ad(n),o=Sw(s,e),c=await new iC(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=600*1e3;class hC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(pr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function fC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n,e={}){return $a(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function yC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pC(n);for(const t of e)try{if(vC(t))return}catch{}es(n,"unauthorized-domain")}function vC(n){const e=hp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!gC.test(t))return!1;if(mC.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new hc(3e4,6e4);function Kv(){const n=Gr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wC(n){return new Promise((e,t)=>{function s(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),t(pr(n,"network-request-failed"))},timeout:xC.get()})}if(Gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gr().gapi?.load)s();else{const o=TI("iframefcb");return Gr()[o]=()=>{gapi.load?s():t(pr(n,"network-request-failed"))},EI(`${SI()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Hu=null,e})}let Hu=null;function _C(n){return Hu=Hu||wC(n),Hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new hc(5e3,15e3),SC="__/auth/iframe",TC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sm(e,TC):`https://${n.config.authDomain}/${SC}`,s={apiKey:e.apiKey,appName:n.name,v:Ba},o=IC.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${dc(s).slice(1)}`}async function NC(n){const e=await _C(n),t=Gr().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:CC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const c=pr(n,"network-request-failed"),f=Gr().setTimeout(()=>{a(c)},EC.get());function p(){Gr().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,RC=600,PC="_blank",DC="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(n,e,t,s=AC,o=RC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...kC,width:s.toString(),height:o.toString(),top:a,left:c},g=cn().toLowerCase();t&&(f=iw(g)?PC:t),rw(g)&&(e=e||DC,p.scrollbars="yes");const x=Object.entries(p).reduce((T,[C,M])=>`${T}${C}=${M},`,"");if(pI(g)&&f!=="_self")return OC(e||"",f),new Qv(null);const _=window.open(e||"",f,x);Be(_,n,"popup-blocked");try{_.focus()}catch{}return new Qv(_)}function OC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="__/auth/handler",VC="emulator/auth/handler",LC=encodeURIComponent("fac");async function Yv(n,e,t,s,o,a){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ba,eventId:o};if(e instanceof cm){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",OT(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))c[x]=_}if(e instanceof fc){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(c.scopes=x.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const p=await n._getAppCheckToken(),g=p?`#${LC}=${encodeURIComponent(p)}`:"";return`${FC(n)}?${dc(f).slice(1)}${g}`}function FC({config:n}){return n.emulator?sm(n,VC):`https://${n.authDomain}/${MC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class UC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vw,this._completeRedirectFn=uC,this._overrideRedirectResult=aC}async _openPopup(e,t,s,o){ks(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Yv(e,t,s,hp(),o);return jC(e,a,um())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await Yv(e,t,s,hp(),o);return $I(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ks(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await NC(e),s=new hC(e);return t.register("authEvent",o=>(Be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ff,{type:Ff},o=>{const a=o?.[0]?.[Ff];a!==void 0&&t(!!a),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uw()||sw()||am()}}const zC=UC;var Xv="@firebase/auth",Jv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HC(n){Ra(new yo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dw(n)},g=new wI(s,o,a,p);return II(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ra(new yo("auth-internal",e=>{const t=Ad(e.getProvider("auth").getImmediate());return(s=>new BC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(Xv,Jv,$C(n)),xi(Xv,Jv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=300,qC=zx("authIdTokenMaxAge")||WC;let Zv=null;const GC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>qC)return;const o=t?.token;Zv!==o&&(Zv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KC(n=Gx()){const e=tm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bI(n,{popupRedirectResolver:zC,persistence:[JI,UI,vw]}),s=zx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const c=GC(a.toString());OI(t,c,()=>c(t.currentUser)),jI(t,f=>c(f))}}const o=Fx("auth");return o&&CI(t,`http://${o}`),t}function QC(){return document.getElementsByTagName("head")?.[0]??document}_I({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const a=pr("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",QC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HC("Browser");var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,Iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,E){function k(){}k.prototype=E.prototype,N.F=E.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(D,j,L){for(var P=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)P[ge-2]=arguments[ge];return E.prototype[j].apply(D,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,E,k){k||(k=0);const D=Array(16);if(typeof E=="string")for(var j=0;j<16;++j)D[j]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(j=0;j<16;++j)D[j]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=N.g[0],k=N.g[1],j=N.g[2];let L=N.g[3],P;P=E+(L^k&(j^L))+D[0]+3614090360&4294967295,E=k+(P<<7&4294967295|P>>>25),P=L+(j^E&(k^j))+D[1]+3905402710&4294967295,L=E+(P<<12&4294967295|P>>>20),P=j+(k^L&(E^k))+D[2]+606105819&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(E^j&(L^E))+D[3]+3250441966&4294967295,k=j+(P<<22&4294967295|P>>>10),P=E+(L^k&(j^L))+D[4]+4118548399&4294967295,E=k+(P<<7&4294967295|P>>>25),P=L+(j^E&(k^j))+D[5]+1200080426&4294967295,L=E+(P<<12&4294967295|P>>>20),P=j+(k^L&(E^k))+D[6]+2821735955&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(E^j&(L^E))+D[7]+4249261313&4294967295,k=j+(P<<22&4294967295|P>>>10),P=E+(L^k&(j^L))+D[8]+1770035416&4294967295,E=k+(P<<7&4294967295|P>>>25),P=L+(j^E&(k^j))+D[9]+2336552879&4294967295,L=E+(P<<12&4294967295|P>>>20),P=j+(k^L&(E^k))+D[10]+4294925233&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(E^j&(L^E))+D[11]+2304563134&4294967295,k=j+(P<<22&4294967295|P>>>10),P=E+(L^k&(j^L))+D[12]+1804603682&4294967295,E=k+(P<<7&4294967295|P>>>25),P=L+(j^E&(k^j))+D[13]+4254626195&4294967295,L=E+(P<<12&4294967295|P>>>20),P=j+(k^L&(E^k))+D[14]+2792965006&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(E^j&(L^E))+D[15]+1236535329&4294967295,k=j+(P<<22&4294967295|P>>>10),P=E+(j^L&(k^j))+D[1]+4129170786&4294967295,E=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(E^k))+D[6]+3225465664&4294967295,L=E+(P<<9&4294967295|P>>>23),P=j+(E^k&(L^E))+D[11]+643717713&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^E&(j^L))+D[0]+3921069994&4294967295,k=j+(P<<20&4294967295|P>>>12),P=E+(j^L&(k^j))+D[5]+3593408605&4294967295,E=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(E^k))+D[10]+38016083&4294967295,L=E+(P<<9&4294967295|P>>>23),P=j+(E^k&(L^E))+D[15]+3634488961&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^E&(j^L))+D[4]+3889429448&4294967295,k=j+(P<<20&4294967295|P>>>12),P=E+(j^L&(k^j))+D[9]+568446438&4294967295,E=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(E^k))+D[14]+3275163606&4294967295,L=E+(P<<9&4294967295|P>>>23),P=j+(E^k&(L^E))+D[3]+4107603335&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^E&(j^L))+D[8]+1163531501&4294967295,k=j+(P<<20&4294967295|P>>>12),P=E+(j^L&(k^j))+D[13]+2850285829&4294967295,E=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(E^k))+D[2]+4243563512&4294967295,L=E+(P<<9&4294967295|P>>>23),P=j+(E^k&(L^E))+D[7]+1735328473&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^E&(j^L))+D[12]+2368359562&4294967295,k=j+(P<<20&4294967295|P>>>12),P=E+(k^j^L)+D[5]+4294588738&4294967295,E=k+(P<<4&4294967295|P>>>28),P=L+(E^k^j)+D[8]+2272392833&4294967295,L=E+(P<<11&4294967295|P>>>21),P=j+(L^E^k)+D[11]+1839030562&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^E)+D[14]+4259657740&4294967295,k=j+(P<<23&4294967295|P>>>9),P=E+(k^j^L)+D[1]+2763975236&4294967295,E=k+(P<<4&4294967295|P>>>28),P=L+(E^k^j)+D[4]+1272893353&4294967295,L=E+(P<<11&4294967295|P>>>21),P=j+(L^E^k)+D[7]+4139469664&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^E)+D[10]+3200236656&4294967295,k=j+(P<<23&4294967295|P>>>9),P=E+(k^j^L)+D[13]+681279174&4294967295,E=k+(P<<4&4294967295|P>>>28),P=L+(E^k^j)+D[0]+3936430074&4294967295,L=E+(P<<11&4294967295|P>>>21),P=j+(L^E^k)+D[3]+3572445317&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^E)+D[6]+76029189&4294967295,k=j+(P<<23&4294967295|P>>>9),P=E+(k^j^L)+D[9]+3654602809&4294967295,E=k+(P<<4&4294967295|P>>>28),P=L+(E^k^j)+D[12]+3873151461&4294967295,L=E+(P<<11&4294967295|P>>>21),P=j+(L^E^k)+D[15]+530742520&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^E)+D[2]+3299628645&4294967295,k=j+(P<<23&4294967295|P>>>9),P=E+(j^(k|~L))+D[0]+4096336452&4294967295,E=k+(P<<6&4294967295|P>>>26),P=L+(k^(E|~j))+D[7]+1126891415&4294967295,L=E+(P<<10&4294967295|P>>>22),P=j+(E^(L|~k))+D[14]+2878612391&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~E))+D[5]+4237533241&4294967295,k=j+(P<<21&4294967295|P>>>11),P=E+(j^(k|~L))+D[12]+1700485571&4294967295,E=k+(P<<6&4294967295|P>>>26),P=L+(k^(E|~j))+D[3]+2399980690&4294967295,L=E+(P<<10&4294967295|P>>>22),P=j+(E^(L|~k))+D[10]+4293915773&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~E))+D[1]+2240044497&4294967295,k=j+(P<<21&4294967295|P>>>11),P=E+(j^(k|~L))+D[8]+1873313359&4294967295,E=k+(P<<6&4294967295|P>>>26),P=L+(k^(E|~j))+D[15]+4264355552&4294967295,L=E+(P<<10&4294967295|P>>>22),P=j+(E^(L|~k))+D[6]+2734768916&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~E))+D[13]+1309151649&4294967295,k=j+(P<<21&4294967295|P>>>11),P=E+(j^(k|~L))+D[4]+4149444226&4294967295,E=k+(P<<6&4294967295|P>>>26),P=L+(k^(E|~j))+D[11]+3174756917&4294967295,L=E+(P<<10&4294967295|P>>>22),P=j+(E^(L|~k))+D[2]+718787259&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~E))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+E&4294967295,N.g[1]=N.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,E){E===void 0&&(E=N.length);const k=E-this.blockSize,D=this.C;let j=this.h,L=0;for(;L<E;){if(j==0)for(;L<=k;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<E;)if(D[j++]=N.charCodeAt(L++),j==this.blockSize){o(this,D),j=0;break}}else for(;L<E;)if(D[j++]=N[L++],j==this.blockSize){o(this,D),j=0;break}}this.h=j,this.o+=E},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var E=1;E<N.length-8;++E)N[E]=0;E=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=E&255,E/=256;for(this.v(N),N=Array(16),E=0,k=0;k<4;++k)for(let D=0;D<32;D+=8)N[E++]=this.g[k]>>>D&255;return N};function a(N,E){var k=f;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=E(N)}function c(N,E){this.h=E;const k=[];let D=!0;for(let j=N.length-1;j>=0;j--){const L=N[j]|0;D&&L==E||(k[j]=L,D=!1)}this.g=k}var f={};function p(N){return-128<=N&&N<128?a(N,function(E){return new c([E|0],E<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return R(g(-N));const E=[];let k=1;for(let D=0;N>=k;D++)E[D]=N/k|0,k*=4294967296;return new c(E,0)}function x(N,E){if(N.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(N.charAt(0)=="-")return R(x(N.substring(1),E));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=g(Math.pow(E,8));let D=_;for(let L=0;L<N.length;L+=8){var j=Math.min(8,N.length-L);const P=parseInt(N.substring(L,L+j),E);j<8?(j=g(Math.pow(E,j)),D=D.j(j).add(g(P))):(D=D.j(k),D=D.add(g(P)))}return D}var _=p(0),T=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(b(this))return-R(this).m();let N=0,E=1;for(let k=0;k<this.g.length;k++){const D=this.i(k);N+=(D>=0?D:4294967296+D)*E,E*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(b(this))return"-"+R(this).toString(N);const E=g(Math.pow(N,6));var k=this;let D="";for(;;){const j=$(k,E).g;k=O(k,j.j(E));let L=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=j,M(k))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(let E=0;E<N.g.length;E++)if(N.g[E]!=0)return!1;return!0}function b(N){return N.h==-1}n.l=function(N){return N=O(this,N),b(N)?-1:M(N)?0:1};function R(N){const E=N.g.length,k=[];for(let D=0;D<E;D++)k[D]=~N.g[D];return new c(k,~N.h).add(T)}n.abs=function(){return b(this)?R(this):this},n.add=function(N){const E=Math.max(this.g.length,N.g.length),k=[];let D=0;for(let j=0;j<=E;j++){let L=D+(this.i(j)&65535)+(N.i(j)&65535),P=(L>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);D=P>>>16,L&=65535,P&=65535,k[j]=P<<16|L}return new c(k,k[k.length-1]&-2147483648?-1:0)};function O(N,E){return N.add(R(E))}n.j=function(N){if(M(this)||M(N))return _;if(b(this))return b(N)?R(this).j(R(N)):R(R(this).j(N));if(b(N))return R(this.j(R(N)));if(this.l(C)<0&&N.l(C)<0)return g(this.m()*N.m());const E=this.g.length+N.g.length,k=[];for(var D=0;D<2*E;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(let j=0;j<N.g.length;j++){const L=this.i(D)>>>16,P=this.i(D)&65535,ge=N.i(j)>>>16,De=N.i(j)&65535;k[2*D+2*j]+=P*De,F(k,2*D+2*j),k[2*D+2*j+1]+=L*De,F(k,2*D+2*j+1),k[2*D+2*j+1]+=P*ge,F(k,2*D+2*j+1),k[2*D+2*j+2]+=L*ge,F(k,2*D+2*j+2)}for(N=0;N<E;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=E;N<2*E;N++)k[N]=0;return new c(k,0)};function F(N,E){for(;(N[E]&65535)!=N[E];)N[E+1]+=N[E]>>>16,N[E]&=65535,E++}function U(N,E){this.g=N,this.h=E}function $(N,E){if(M(E))throw Error("division by zero");if(M(N))return new U(_,_);if(b(N))return E=$(R(N),E),new U(R(E.g),R(E.h));if(b(E))return E=$(N,R(E)),new U(R(E.g),E.h);if(N.g.length>30){if(b(N)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var k=T,D=E;D.l(N)<=0;)k=J(k),D=J(D);var j=G(k,1),L=G(D,1);for(D=G(D,2),k=G(k,2);!M(D);){var P=L.add(D);P.l(N)<=0&&(j=j.add(k),L=P),D=G(D,1),k=G(k,1)}return E=O(N,j.j(E)),new U(j,E)}for(j=_;N.l(E)>=0;){for(k=Math.max(1,Math.floor(N.m()/E.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=g(k),P=L.j(E);b(P)||P.l(N)>0;)k-=D,L=g(k),P=L.j(E);M(L)&&(L=T),j=j.add(L),N=O(N,P)}return new U(j,N)}n.B=function(N){return $(this,N).h},n.and=function(N){const E=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<E;D++)k[D]=this.i(D)&N.i(D);return new c(k,this.h&N.h)},n.or=function(N){const E=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<E;D++)k[D]=this.i(D)|N.i(D);return new c(k,this.h|N.h)},n.xor=function(N){const E=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<E;D++)k[D]=this.i(D)^N.i(D);return new c(k,this.h^N.h)};function J(N){const E=N.g.length+1,k=[];for(let D=0;D<E;D++)k[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(k,N.h)}function G(N,E){const k=E>>5;E%=32;const D=N.g.length-k,j=[];for(let L=0;L<D;L++)j[L]=E>0?N.i(L+k)>>>E|N.i(L+k+1)<<32-E:N.i(L+k);return new c(j,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Iw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=x,wi=c}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cw,Vl,Nw,Wu,mp,kw,Aw,Rw;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var v=0;v<u.length;++v){var w=u[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(u,v){if(v)e:{var w=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var Q=u[A];if(!(Q in w))break e;w=w[Q]}u=u[u.length-1],A=w[u],v=v(A),v!=A&&v!=null&&e(w,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var w=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&w.push([A,v[A]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function f(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function p(u,v,w){return u.call.apply(u.bind,arguments)}function g(u,v,w){return g=p,g.apply(null,arguments)}function x(u,v){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function _(u,v){function w(){}w.prototype=v.prototype,u.Z=v.prototype,u.prototype=new w,u.prototype.constructor=u,u.Ob=function(A,Q,te){for(var ye=Array(arguments.length-2),He=2;He<arguments.length;He++)ye[He-2]=arguments[He];return v.prototype[Q].apply(A,ye)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function C(u){const v=u.length;if(v>0){const w=Array(v);for(let A=0;A<v;A++)w[A]=u[A];return w}return[]}function M(u,v){for(let A=1;A<arguments.length;A++){const Q=arguments[A];var w=typeof Q;if(w=w!="object"?w:Q?Array.isArray(Q)?"array":w:"null",w=="array"||w=="object"&&typeof Q.length=="number"){w=u.length||0;const te=Q.length||0;u.length=w+te;for(let ye=0;ye<te;ye++)u[w+ye]=Q[ye]}else u.push(Q)}}class b{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function R(u){c.setTimeout(()=>{throw u},0)}function O(){var u=N;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,w){const A=U.get();A.set(v,w),this.h?this.h.next=A:this.g=A,this.h=A}}var U=new b(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let J,G=!1,N=new F,E=()=>{const u=Promise.resolve(void 0);J=()=>{u.then(k)}};function k(){for(var u;u=O();){try{u.h.call(u.g)}catch(w){R(w)}var v=U;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}G=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};c.addEventListener("test",w,v),c.removeEventListener("test",w,v)}catch{}return u})();function P(u){return/^[\s\xa0]*$/.test(u)}function ge(u,v){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}_(ge,j),ge.prototype.init=function(u,v){const w=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(w=="mouseover"?v=u.fromElement:w=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),we=0;function xe(u,v,w,A,Q){this.listener=u,this.proxy=null,this.src=v,this.type=w,this.capture=!!A,this.ha=Q,this.key=++we,this.da=this.fa=!1}function q(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,v,w){for(const A in u)v.call(w,u[A],A,u)}function fe(u,v){for(const w in u)v.call(void 0,u[w],w,u)}function H(u){const v={};for(const w in u)v[w]=u[w];return v}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(u,v){let w,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(w in A)u[w]=A[w];for(let te=0;te<re.length;te++)w=re[te],Object.prototype.hasOwnProperty.call(A,w)&&(u[w]=A[w])}}function ve(u){this.src=u,this.g={},this.h=0}ve.prototype.add=function(u,v,w,A,Q){const te=u.toString();u=this.g[te],u||(u=this.g[te]=[],this.h++);const ye=Me(u,v,A,Q);return ye>-1?(v=u[ye],w||(v.fa=!1)):(v=new xe(v,this.src,te,!!A,Q),v.fa=w,u.push(v)),v};function Pe(u,v){const w=v.type;if(w in u.g){var A=u.g[w],Q=Array.prototype.indexOf.call(A,v,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(A,Q,1),te&&(q(v),u.g[w].length==0&&(delete u.g[w],u.h--))}}function Me(u,v,w,A){for(let Q=0;Q<u.length;++Q){const te=u[Q];if(!te.da&&te.listener==v&&te.capture==!!w&&te.ha==A)return Q}return-1}var z="closure_lm_"+(Math.random()*1e6|0),Z={};function ne(u,v,w,A,Q){if(Array.isArray(v)){for(let te=0;te<v.length;te++)ne(u,v[te],w,A,Q);return null}return w=Os(w),u&&u[De]?u.J(v,w,f(A)?!!A.capture:!1,Q):se(u,v,w,!1,A,Q)}function se(u,v,w,A,Q,te){if(!v)throw Error("Invalid event type");const ye=f(Q)?!!Q.capture:!!Q;let He=dn(u);if(He||(u[z]=He=new ve(u)),w=He.add(v,w,A,ye,te),w.proxy)return w;if(A=ue(),w.proxy=A,A.src=u,A.listener=w,u.addEventListener)L||(Q=ye),Q===void 0&&(Q=!1),u.addEventListener(v.toString(),A,Q);else if(u.attachEvent)u.attachEvent(Nt(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ue(){function u(w){return v.call(u.src,u.listener,w)}const v=mn;return u}function Oe(u,v,w,A,Q){if(Array.isArray(v))for(var te=0;te<v.length;te++)Oe(u,v[te],w,A,Q);else A=f(A)?!!A.capture:!!A,w=Os(w),u&&u[De]?(u=u.i,te=String(v).toString(),te in u.g&&(v=u.g[te],w=Me(v,w,A,Q),w>-1&&(q(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete u.g[te],u.h--)))):u&&(u=dn(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Me(v,w,A,Q)),(w=u>-1?v[u]:null)&&Qe(w))}function Qe(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[De])Pe(v.i,u);else{var w=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(w,A,u.capture):v.detachEvent?v.detachEvent(Nt(w),A):v.addListener&&v.removeListener&&v.removeListener(A),(w=dn(v))?(Pe(w,u),w.h==0&&(w.src=null,v[z]=null)):q(u)}}}function Nt(u){return u in Z?Z[u]:Z[u]="on"+u}function mn(u,v){if(u.da)u=!0;else{v=new ge(v,this);const w=u.listener,A=u.ha||u.src;u.fa&&Qe(u),u=w.call(A,v)}return u}function dn(u){return u=u[z],u instanceof ve?u:null}var Nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(u){return typeof u=="function"?u:(u[Nn]||(u[Nn]=function(v){return u.handleEvent(v)}),u[Nn])}function Et(){D.call(this),this.i=new ve(this),this.M=this,this.G=null}_(Et,D),Et.prototype[De]=!0,Et.prototype.removeEventListener=function(u,v,w,A){Oe(this,u,v,w,A)};function ht(u,v){var w,A=u.G;if(A)for(w=[];A;A=A.G)w.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new j(v,u);else if(v instanceof j)v.target=v.target||u;else{var Q=v;v=new j(A,u),_e(v,Q)}Q=!0;let te,ye;if(w)for(ye=w.length-1;ye>=0;ye--)te=v.g=w[ye],Q=qt(te,A,!0,v)&&Q;if(te=v.g=u,Q=qt(te,A,!0,v)&&Q,Q=qt(te,A,!1,v)&&Q,w)for(ye=0;ye<w.length;ye++)te=v.g=w[ye],Q=qt(te,A,!1,v)&&Q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const w=u.g[v];for(let A=0;A<w.length;A++)q(w[A]);delete u.g[v],u.h--}}this.G=null},Et.prototype.J=function(u,v,w,A){return this.i.add(String(u),v,!1,w,A)},Et.prototype.K=function(u,v,w,A){return this.i.add(String(u),v,!0,w,A)};function qt(u,v,w,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let te=0;te<v.length;++te){const ye=v[te];if(ye&&!ye.da&&ye.capture==w){const He=ye.listener,Tt=ye.ha||ye.src;ye.fa&&Pe(u.i,ye),Q=He.call(Tt,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function ko(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(u,v||0)}function xr(u){u.g=ko(()=>{u.g=null,u.i&&(u.i=!1,xr(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Oi extends D{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(u){D.call(this),this.h=u,this.g={}}_(wr,D);var Mi=[];function Ms(u){he(u.g,function(v,w){this.g.hasOwnProperty(w)&&Qe(v)},u),u.g={}}wr.prototype.N=function(){wr.Z.N.call(this),Ms(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=c.JSON.stringify,Vi=c.JSON.parse,is=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function nr(){}function os(){}var Er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vs(){j.call(this,"d")}_(Vs,j);function Li(){j.call(this,"c")}_(Li,j);var gn={},Ls=null;function Sr(){return Ls=Ls||new Et}gn.Ia="serverreachability";function Fs(u){j.call(this,gn.Ia,u)}_(Fs,j);function $n(u){const v=Sr();ht(v,new Fs(v))}gn.STAT_EVENT="statevent";function Hn(u,v){j.call(this,gn.STAT_EVENT,u),this.stat=v}_(Hn,j);function ct(u){const v=Sr();ht(v,new Hn(v,u))}gn.Ja="timingevent";function Us(u,v){j.call(this,gn.Ja,u),this.size=v}_(Us,j);function Tr(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},v)}function br(){this.g=!0}br.prototype.ua=function(){this.g=!1};function Ao(u,v,w,A,Q,te){u.info(function(){if(u.g)if(te){var ye="",He=te.split("&");for(let at=0;at<He.length;at++){var Tt=He[at].split("=");if(Tt.length>1){const kt=Tt[0];Tt=Tt[1];const jn=kt.split("_");ye=jn.length>=2&&jn[1]=="type"?ye+(kt+"="+Tt+"&"):ye+(kt+"=redacted&")}}}else ye=null;else ye=te;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+v+`
`+w+`
`+ye})}function Fi(u,v,w,A,Q,te,ye){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+v+`
`+w+`
`+te+" "+ye})}function Wn(u,v,w,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+as(u,w)+(A?" "+A:"")})}function Ro(u,v){u.info(function(){return"TIMEOUT: "+v})}br.prototype.info=function(){};function as(u,v){if(!u.g)return v;if(!v)return null;try{const te=JSON.parse(v);if(te){for(u=0;u<te.length;u++)if(Array.isArray(te[u])){var w=te[u];if(!(w.length<2)){var A=w[1];if(Array.isArray(A)&&!(A.length<1)){var Q=A[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<A.length;ye++)A[ye]=""}}}}return _r(te)}catch{return v}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function rr(){}_(rr,nr),rr.prototype.g=function(){return new XMLHttpRequest},Po=new rr;function qn(u){return encodeURIComponent(String(u))}function zs(u){var v=1;u=u.split(":");const w=[];for(;v>0&&u.length;)w.push(u.shift()),v--;return u.length&&w.push(u.join(":")),w}function yn(u,v,w,A){this.j=u,this.i=v,this.l=w,this.S=A||1,this.V=new wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Do}function Do(){this.i=null,this.g="",this.h=!1}var jo={},Ui={};function vn(u,v,w){u.M=1,u.A=us(Gn(v)),u.u=w,u.R=!0,ls(u,null)}function ls(u,v){u.F=Date.now(),cs(u),u.B=Gn(u.A);var w=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),il(w.i,"t",A),u.C=0,w=u.j.L,u.h=new Do,u.g=Ac(u.j,w?v:null,!u.u),u.P>0&&(u.O=new Oi(g(u.Y,u,u.g),u.P)),v=u.V,w=u.g,A=u.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Mi[0]=Q.toString()),Q=Mi);for(let te=0;te<Q.length;te++){const ye=ne(w,Q[te],A||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=u.J?H(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),$n(),Ao(u.i,u.v,u.B,u.l,u.S,u.u)}yn.prototype.ba=function(u){u=u.target;const v=this.O;v&&jr(u)==3?v.j():this.Y(u)},yn.prototype.Y=function(u){try{if(u==this.g)e:{const He=jr(this.g),Tt=this.g.ya(),at=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||Nc(this.g)))){this.K||He!=4||Tt==7||(Tt==8||at<=0?$n(3):$n(2)),ce(this);var v=this.g.ca();this.X=v;var w=Oo(this);if(this.o=v==200,Fi(this.i,this.v,this.B,this.l,this.S,He,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,Q=this.g;if((A=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(A)){var te=A;break t}}te=null}if(u=te)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Se(this,u);else{this.o=!1,this.m=3,ct(12),Ae(this),me(this);break e}}if(this.R){u=!0;let kt;for(;!this.K&&this.C<w.length;)if(kt=Vo(this,w),kt==Ui){He==4&&(this.m=4,ct(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==jo){this.m=4,ct(15),Wn(this.i,this.l,w,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,kt,null),Se(this,kt);if(Mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||w.length!=0||this.h.h||(this.m=1,ct(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,w,"[Invalid Chunked Response]"),Ae(this),me(this);else if(w.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Qi(ye),ye.P=!0,ct(11))}}else Wn(this.i,this.l,w,null),Se(this,w);He==4&&Ae(this),this.o&&!this.K&&(He==4?Wo(this.j,this):(this.o=!1,cs(this)))}else al(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),Ae(this),me(this)}}}catch{}finally{}};function Oo(u){if(!Mo(u))return u.g.la();const v=Nc(u.g);if(v==="")return"";let w="";const A=v.length,Q=jr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ae(u),me(u),"";u.h.i=new c.TextDecoder}for(let te=0;te<A;te++)u.h.h=!0,w+=u.h.i.decode(v[te],{stream:!(Q&&te==A-1)});return v.length=0,u.h.g+=w,u.C=0,u.h.g}function Mo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Vo(u,v){var w=u.C,A=v.indexOf(`
`,w);return A==-1?Ui:(w=Number(v.substring(w,A)),isNaN(w)?jo:(A+=1,A+w>v.length?Ui:(v=v.slice(A,A+w),u.C=A+w,v)))}yn.prototype.cancel=function(){this.K=!0,Ae(this)};function cs(u){u.T=Date.now()+u.H,Y(u,u.H)}function Y(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Tr(g(u.aa,u),v)}function ce(u){u.D&&(c.clearTimeout(u.D),u.D=null)}yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ro(this.i,this.B),this.M!=2&&($n(),ct(17)),Ae(this),this.m=2,me(this)):Y(this,this.T-u)};function me(u){u.j.I==0||u.K||Wo(u.j,u)}function Ae(u){ce(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Ms(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Se(u,v){try{var w=u.j;if(w.I!=0&&(w.g==u||zi(w.h,u))){if(!u.L&&zi(w.h,u)&&w.I==3){try{var A=w.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<u.F)Ho(w),Pn(w);else break e;Vr(w),ct(18)}}else w.xa=Q[1],0<w.xa-w.K&&Q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Tr(g(w.Va,w),6e3));zt(w.h)<=1&&w.ta&&(w.ta=void 0)}else Dn(w,11)}else if((u.L||w.g==u)&&Ho(w),!P(v))for(Q=w.Ba.g.parse(v),v=0;v<Q.length;v++){let at=Q[v];const kt=at[0];if(!(kt<=w.K))if(w.K=kt,at=at[1],w.I==2)if(at[0]=="c"){w.M=at[1],w.ba=at[2];const jn=at[3];jn!=null&&(w.ka=jn,w.j.info("VER="+w.ka));const ms=at[4];ms!=null&&(w.za=ms,w.j.info("SVER="+w.za));const Lr=at[5];Lr!=null&&typeof Lr=="number"&&Lr>0&&(A=1.5*Lr,w.O=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const Fr=u.g;if(Fr){const Ko=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ko){var te=A.h;te.g||Ko.indexOf("spdy")==-1&&Ko.indexOf("quic")==-1&&Ko.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Bs(te,te.h),te.h=null))}if(A.G){const ul=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(A.wa=ul,it(A.J,A.G,ul))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-u.F,w.j.info("Handshake RTT: "+w.T+"ms")),A=w;var ye=u;if(A.na=cl(A,A.L?A.ba:null,A.W),ye.L){Bi(A.h,ye);var He=ye,Tt=A.O;Tt&&(He.H=Tt),He.D&&(ce(He),cs(He)),A.g=ye}else en(A);w.i.length>0&&ps(w)}else at[0]!="stop"&&at[0]!="close"||Dn(w,7);else w.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Dn(w,7):Bo(w):at[0]!="noop"&&w.l&&w.l.qa(at),w.A=0)}}$n(4)}catch{}}var st=class{constructor(u,v){this.g=u,this.map=v}};function tt(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ut(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zt(u){return u.h?1:u.g?u.g.size:0}function zi(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Bs(u,v){u.g?u.g.add(v):u.h=v}function Bi(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}tt.prototype.cancel=function(){if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const w of u.g.values())v=v.concat(w.G);return v}return C(u.i)}var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function An(u,v){if(u){u=u.split("&");for(let w=0;w<u.length;w++){const A=u[w].indexOf("=");let Q,te=null;A>=0?(Q=u[w].substring(0,A),te=u[w].substring(A+1)):Q=u[w],v(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Nr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Nr?(this.l=u.l,$i(this,u.j),this.o=u.o,this.g=u.g,kr(this,u.u),this.h=u.h,$s(this,ol(u.i)),this.m=u.m):u&&(v=String(u).match(Tc))?(this.l=!1,$i(this,v[1]||"",!0),this.o=Hi(v[2]||""),this.g=Hi(v[3]||"",!0),kr(this,v[4]),this.h=Hi(v[5]||"",!0),$s(this,v[6]||"",!0),this.m=Hi(v[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}Nr.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Wi(v,el,!0),":");var w=this.g;return(w||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Wi(v,el,!0),"@"),u.push(qn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&u.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Wi(w,w.charAt(0)=="/"?qi:tl,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Wi(w,nl)),u.join("")},Nr.prototype.resolve=function(u){const v=Gn(this);let w=!!u.j;w?$i(v,u.j):w=!!u.o,w?v.o=u.o:w=!!u.g,w?v.g=u.g:w=u.u!=null;var A=u.h;if(w)kr(v,u.u);else if(w=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(A=v.h.slice(0,Q+1)+A)}if(Q=A,Q==".."||Q==".")A="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){A=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let ye=0;ye<Q.length;){const He=Q[ye++];He=="."?A&&ye==Q.length&&te.push(""):He==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),A&&ye==Q.length&&te.push("")):(te.push(He),A=!0)}A=te.join("/")}else A=Q}return w?v.h=A:w=u.i.toString()!=="",w?$s(v,ol(u.i)):w=!!u.m,w&&(v.m=u.m),v};function Gn(u){return new Nr(u)}function $i(u,v,w){u.j=w?Hi(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function kr(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function $s(u,v,w){v instanceof Ze?(u.i=v,Fo(u.i,u.l)):(w||(v=Wi(v,ih)),u.i=new Ze(v,u.l))}function it(u,v,w){u.i.set(v,w)}function us(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Hi(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wi(u,v,w){return typeof u=="string"?(u=encodeURI(u).replace(v,Za),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Za(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,qi=/[#\?]/g,ih=/[#\?@]/g,nl=/#/g;function Ze(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Ar(u){u.g||(u.g=new Map,u.h=0,u.i&&An(u.i,function(v,w){u.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Ze.prototype,n.add=function(u,v){Ar(this),this.i=null,u=Rr(this,u);let w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(v),this.h+=1,this};function rl(u,v){Ar(u),v=Rr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Lo(u,v){return Ar(u),v=Rr(u,v),u.g.has(v)}n.forEach=function(u,v){Ar(this),this.g.forEach(function(w,A){w.forEach(function(Q){u.call(v,Q,A,this)},this)},this)};function sl(u,v){Ar(u);let w=[];if(typeof v=="string")Lo(u,v)&&(w=w.concat(u.g.get(Rr(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)w=w.concat(u[v]);return w}n.set=function(u,v){return Ar(this),this.i=null,u=Rr(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=sl(this,u),u.length>0?String(u[0]):v):v};function il(u,v,w){rl(u,v),w.length>0&&(u.i=null,u.g.set(Rr(u,v),C(w)),u.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var w=v[A];const Q=qn(w);w=sl(this,w);for(let te=0;te<w.length;te++){let ye=Q;w[te]!==""&&(ye+="="+qn(w[te])),u.push(ye)}}return this.i=u.join("&")};function ol(u){const v=new Ze;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Rr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Fo(u,v){v&&!u.j&&(Ar(u),u.i=null,u.g.forEach(function(w,A){const Q=A.toLowerCase();A!=Q&&(rl(this,A),il(this,Q,w))},u)),u.j=v}function Pr(u,v){const w=new br;if(c.Image){const A=new Image;A.onload=x(Gt,w,"TestLoadImage: loaded",!0,v,A),A.onerror=x(Gt,w,"TestLoadImage: error",!1,v,A),A.onabort=x(Gt,w,"TestLoadImage: abort",!1,v,A),A.ontimeout=x(Gt,w,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function Dr(u,v){const w=new br,A=new AbortController,Q=setTimeout(()=>{A.abort(),Gt(w,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(te=>{clearTimeout(Q),te.ok?Gt(w,"TestPingServer: ok",!0,v):Gt(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Gt(w,"TestPingServer: error",!1,v)})}function Gt(u,v,w,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(w)}catch{}}function Gi(){this.g=new is}function ds(u){this.i=u.Sb||null,this.h=u.ab||!1}_(ds,nr),ds.prototype.g=function(){return new Rn(this.i,this.h)};function Rn(u,v){Et.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Rn,Et),n=Rn.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,sr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bc(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function bc(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Hs(this):sr(this),this.readyState==3&&bc(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Hs(this))},n.Na=function(u){this.g&&(this.response=u,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,sr(u)}n.setRequestHeader=function(u,v){this.A.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=v.next();return u.join(`\r
`)};function sr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ic(u){let v="";return he(u,function(w,A){v+=A,v+=":",v+=w,v+=`\r
`}),v}function Uo(u,v,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=Ic(w),typeof u=="string"?w!=null&&qn(w):it(u,v,w))}function lt(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(lt,Et);var Cc=/^https?$/i,oh=["POST","PUT"];n=lt.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,v,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(te){Ws(this,te);return}if(u=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)w.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const te of A.keys())w.set(te,A.get(te));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),Q=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(oh,v,void 0)>=0)||A||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of w)this.g.setRequestHeader(te,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(te){Ws(this,te)}};function Ws(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,qs(u),fs(u)}function qs(u){u.A||(u.A=!0,ht(u,"complete"),ht(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ht(this,"complete"),ht(this,"abort"),fs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},n.Xa=function(){hs(this)};function hs(u){if(u.h&&typeof a<"u"){if(u.v&&jr(u)==4)setTimeout(u.Ca.bind(u),0);else if(ht(u,"readystatechange"),jr(u)==4){u.h=!1;try{const te=u.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var A;if(A=te===0){let ye=String(u.D).match(Tc)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),A=!Cc.test(ye?ye.toLowerCase():"")}w=A}if(w)ht(u,"complete"),ht(u,"success");else{u.o=6;try{var Q=jr(u)>2?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.ca()+"]",qs(u)}}finally{fs(u)}}}}function fs(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const w=u.g;u.g=null,v||ht(u,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function jr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return jr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Vi(v)}};function Nc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function al(u){const v={};u=(u.g&&jr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(P(u[A]))continue;var w=zs(u[A]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=v[Q]||[];v[Q]=te,te.push(w)}fe(v,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(u,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||v}function zo(u){this.za=0,this.i=[],this.j=new br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Or("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Or("baseRetryDelayMs",5e3,u),this.Za=Or("retryDelaySeedMs",1e4,u),this.Ta=Or("forwardChannelMaxRetries",2,u),this.va=Or("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new tt(u&&u.concurrentRequestLimit),this.Ba=new Gi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=zo.prototype,n.ka=8,n.I=1,n.connect=function(u,v,w,A){ct(0),this.W=u,this.H=v||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.J=cl(this,null,this.W),ps(this)};function Bo(u){if($o(u),u.I==3){var v=u.V++,w=Gn(u.J);if(it(w,"SID",u.M),it(w,"RID",v),it(w,"TYPE","terminate"),Mr(u,w),v=new yn(u,u.j,v),v.M=2,v.A=us(Gn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=v.A,w=!0),w||(v.g=Ac(v.j,null),v.g.ea(v.A)),v.F=Date.now(),cs(v)}Yi(u)}function Pn(u){u.g&&(Qi(u),u.g.cancel(),u.g=null)}function $o(u){Pn(u),u.v&&(c.clearTimeout(u.v),u.v=null),Ho(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function ps(u){if(!Ut(u.h)&&!u.m){u.m=!0;var v=u.Ea;J||E(),G||(J(),G=!0),N.add(v,u),u.D=0}}function kc(u,v){return zt(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Tr(g(u.Ea,u,v),qo(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const Q=new yn(this,this.j,u);let te=this.o;if(this.U&&(te?(te=H(te),_e(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=ll(this,Q,v),w=Gn(this.J),it(w,"RID",u),it(w,"CVER",22),this.G&&it(w,"X-HTTP-Session-Id",this.G),Mr(this,w),te&&(this.R?v="headers="+qn(Ic(te))+"&"+v:this.u&&Uo(w,this.u,te)),Bs(this.h,Q),this.Ra&&it(w,"TYPE","init"),this.S?(it(w,"$req",v),it(w,"SID","null"),Q.U=!0,vn(Q,w,null)):vn(Q,w,v),this.I=2}}else this.I==3&&(u?Ki(this,u):this.i.length==0||Ut(this.h)||Ki(this))};function Ki(u,v){var w;v?w=v.l:w=u.V++;const A=Gn(u.J);it(A,"SID",u.M),it(A,"RID",w),it(A,"AID",u.K),Mr(u,A),u.u&&u.o&&Uo(A,u.u,u.o),w=new yn(u,u.j,w,u.D+1),u.u===null&&(w.J=u.o),v&&(u.i=v.G.concat(u.i)),v=ll(u,w,1e3),w.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bs(u.h,w),vn(w,A,v)}function Mr(u,v){u.H&&he(u.H,function(w,A){it(v,A,w)}),u.l&&he({},function(w,A){it(v,A,w)})}function ll(u,v,w){w=Math.min(u.i.length,w);const A=u.l?g(u.l.Ka,u.l,u):null;e:{var Q=u.i;let He=-1;for(;;){const Tt=["count="+w];He==-1?w>0?(He=Q[0].g,Tt.push("ofs="+He)):He=0:Tt.push("ofs="+He);let at=!0;for(let kt=0;kt<w;kt++){var te=Q[kt].g;const jn=Q[kt].map;if(te-=He,te<0)He=Math.max(0,Q[kt].g-100),at=!1;else try{te="req"+te+"_"||"";try{var ye=jn instanceof Map?jn:Object.entries(jn);for(const[ms,Lr]of ye){let Fr=Lr;f(Lr)&&(Fr=_r(Lr)),Tt.push(te+ms+"="+encodeURIComponent(Fr))}}catch(ms){throw Tt.push(te+"type="+encodeURIComponent("_badmap")),ms}}catch{A&&A(jn)}}if(at){ye=Tt.join("&");break e}}ye=void 0}return u=u.i.splice(0,w),v.G=u,ye}function en(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;J||E(),G||(J(),G=!0),N.add(v,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Tr(g(u.Da,u),qo(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Gs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Tr(g(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),Pn(this),Gs(this))};function Qi(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function Gs(u){u.g=new yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Gn(u.na);it(v,"RID","rpc"),it(v,"SID",u.M),it(v,"AID",u.K),it(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(v,"TO",u.ia),it(v,"TYPE","xmlhttp"),Mr(u,v),u.u&&u.o&&Uo(v,u.u,u.o),u.O&&(u.g.H=u.O);var w=u.g;u=u.ba,w.M=1,w.A=us(Gn(v)),w.u=null,w.R=!0,ls(w,u)}n.Va=function(){this.C!=null&&(this.C=null,Pn(this),Vr(this),ct(19))};function Ho(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Wo(u,v){var w=null;if(u.g==v){Ho(u),Qi(u),u.g=null;var A=2}else if(zi(u.h,v))w=v.G,Bi(u.h,v),A=1;else return;if(u.I!=0){if(v.o)if(A==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var Q=u.D;A=Sr(),ht(A,new Us(A,w)),ps(u)}else en(u);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(A==1&&kc(u,v)||A==2&&Vr(u)))switch(w&&w.length>0&&(v=u.h,v.i=v.i.concat(w)),Q){case 1:Dn(u,5);break;case 4:Dn(u,10);break;case 3:Dn(u,6);break;default:Dn(u,2)}}}function qo(u,v){let w=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(w*=2),w*v}function Dn(u,v){if(u.j.info("Error code "+v),v==2){var w=g(u.bb,u),A=u.Ua;const Q=!A;A=new Nr(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$i(A,"https"),us(A),Q?Pr(A.toString(),w):Dr(A.toString(),w)}else ct(2);u.I=0,u.l&&u.l.pa(v),Yi(u),$o(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Yi(u){if(u.I=0,u.ja=[],u.l){const v=kn(u.h);(v.length!=0||u.i.length!=0)&&(M(u.ja,v),M(u.ja,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.oa()}}function cl(u,v,w){var A=w instanceof Nr?Gn(w):new Nr(w);if(A.g!="")v&&(A.g=v+"."+A.g),kr(A,A.u);else{var Q=c.location;A=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new Nr(null);A&&$i(te,A),v&&(te.g=v),Q&&kr(te,Q),w&&(te.h=w),A=te}return w=u.G,v=u.wa,w&&v&&it(A,w,v),it(A,"VER",u.ka),Mr(u,A),A}function Ac(u,v,w){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new lt(new ds({ab:w})):new lt(u.ma),v.Fa(u.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}n=Rc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Go(){}Go.prototype.g=function(u,v){return new Kt(u,v)};function Kt(u,v){Et.call(this),this.g=new zo(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!P(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Ks(this)}_(Kt,Et),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Bo(this.g)},Kt.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.v&&(w={},w.__data__=_r(u),u=w);v.i.push(new st(v.Ya++,u)),v.I==3&&ps(v)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,Kt.Z.N.call(this)};function Pc(u){Vs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const w in v){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}_(Pc,Vs);function Dc(){Li.call(this),this.status=1}_(Dc,Li);function Ks(u){this.g=u}_(Ks,Rc),Ks.prototype.ra=function(){ht(this.g,"a")},Ks.prototype.qa=function(u){ht(this.g,new Pc(u))},Ks.prototype.pa=function(u){ht(this.g,new Dc)},Ks.prototype.oa=function(){ht(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Rw=function(){return new Go},Aw=function(){return Sr()},kw=gn,mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Wu=Ir,Cr.COMPLETE="complete",Nw=Cr,os.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Vl=os,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Cw=lt}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const t0="@firebase/firestore",n0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Zp("@firebase/firestore");function xa(){return xo.logLevel}function Te(n,...e){if(xo.logLevel<=Ye.DEBUG){const t=e.map(hm);xo.debug(`Firestore (${Ha}): ${n}`,...t)}}function As(n,...e){if(xo.logLevel<=Ye.ERROR){const t=e.map(hm);xo.error(`Firestore (${Ha}): ${n}`,...t)}}function Da(n,...e){if(xo.logLevel<=Ye.WARN){const t=e.map(hm);xo.warn(`Firestore (${Ha}): ${n}`,...t)}}function hm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Pw(n,s,t)}function Pw(n,e,t){let s=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw As(s),new Error(s)}function ot(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||Pw(e,o,s)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends js{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class JC{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let a=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _i,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _i)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string",31837,{l:s}),new Dw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class ZC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new ZC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const s=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>s(a)))};const o=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new r0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nN(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<t&&(s+=e.charAt(o[a]%62))}return s}}function Xe(n,e){return n<e?-1:n>e?1:0}function gp(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),a=e.charAt(s);if(o!==a)return Uf(o)===Uf(a)?Xe(o,a):Uf(o)?1:-1}return Xe(n.length,e.length)}const rN=55296,sN=57343;function Uf(n){const e=n.charCodeAt(0);return e>=rN&&e<=sN}function ja(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class Hr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ue(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const a=Hr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Xe(e.length,t.length)}static compareSegments(e,t){const s=Hr.isNumericId(e),o=Hr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Hr.extractNumericId(e).compare(Hr.extractNumericId(t)):gp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class wt extends Hr{construct(e,t,s){return new wt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new je(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new wt(t)}static emptyPath(){return new wt([])}}const iN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Hr{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return iN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Jt([s0])}static fromServerFormat(e){const t=[];let s="",o=0;const a=()=>{if(s.length===0)throw new je(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new je(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new je(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(s+=f,o++):(a(),o++)}if(a(),c)throw new je(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(wt.fromString(e))}static fromName(e){return new Fe(wt.fromString(e).popFirst(5))}static empty(){return new Fe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n,e,t){if(!t)throw new je(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aN(n,e,t,s){if(e===!0&&s===!0)throw new je(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i0(n){if(!Fe.isDocumentKey(n))throw new je(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function wo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pm(n);throw new je(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function mc(n,e){if(!jw(n))throw new je(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${s}' field to equal '${a.value}'`;break}}if(t)throw new je(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-62135596800,a0=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*a0);return new gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<o0)throw new je(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a0}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Pt("string",gt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new gt(0,0))}static max(){return new $e(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function lN(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(s===1e9?new gt(t+1,0):new gt(t,s));return new Ei(o,Fe.empty(),e)}function cN(n){return new Ei(n.readTime,n.key,Zl)}class Ei{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ei($e.min(),Fe.empty(),Zl)}static max(){return new Ei($e.max(),Fe.empty(),Zl)}}function uN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==dN)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,s)=>{t(e)}))}static reject(e){return new ie(((t,s)=>{s(e)}))}static waitFor(e){return new ie(((t,s)=>{let o=0,a=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++a,c&&a===o&&t()}),(p=>s(p)))})),c=!0,a===o&&t()}))}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next((o=>o?ie.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,a)=>{s.push(t.call(this,o,a))})),this.waitFor(s)}static mapArray(e,t){return new ie(((s,o)=>{const a=e.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next((x=>{c[g]=x,++f,f===a&&s(c)}),(x=>o(x)))}}))}static doWhile(e,t){return new ie(((s,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):s()};a()}))}}function fN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function jd(n){return n==null}function cd(n){return n===0&&1/n==-1/0}function pN(n){return typeof n=="number"&&Number.isInteger(n)&&!cd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="";function mN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=l0(e)),e=gN(n.get(t),e);return l0(e)}function gN(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Ow:t+="";break;default:t+=a}}return t}function l0(n){return n+Ow+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ri(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,a){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,s,o,a){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Un([])}unionWith(e){let t=new Lt(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Vw("Invalid base64 string: "+a):a}})(e);return new Zt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const yN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(n){if(ot(!!n,39018),typeof n=="string"){let e=0;const t=yN.exec(n);if(ot(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ti(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="server_timestamp",Fw="__type__",Uw="__previous_value__",zw="__local_write_time__";function gm(n){return(n?.mapValue?.fields||{})[Fw]?.stringValue===Lw}function Od(n){const e=n.mapValue.fields[Uw];return gm(e)?Od(e):e}function ec(n){const e=Si(n.mapValue.fields[zw].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,s,o,a,c,f,p,g,x){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=x}}const ud="(default)";class tc{constructor(e,t){this.projectId=e,this.database=t||ud}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===ud}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__type__",xN="__max__",Au={mapValue:{}},$w="__vector__",dd="value";function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gm(n)?4:_N(n)?9007199254740991:wN(n)?10:11:Ue(28295,{value:n})}function ts(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ec(n).isEqual(ec(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Si(o.timestampValue),f=Si(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Ti(o.bytesValue).isEqual(Ti(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return It(o.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return It(o.integerValue)===It(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=It(o.doubleValue),f=It(a.doubleValue);return c===f?cd(c)===cd(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return ja(n.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(c0(c)!==c0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ts(c[p],f[p])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function nc(n,e){return(n.values||[]).find((t=>ts(t,e)))!==void 0}function Oa(n,e){if(n===e)return 0;const t=bi(n),s=bi(e);if(t!==s)return Xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const f=It(a.integerValue||a.doubleValue),p=It(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return d0(n.timestampValue,e.timestampValue);case 4:return d0(ec(n),ec(e));case 5:return gp(n.stringValue,e.stringValue);case 6:return(function(a,c){const f=Ti(a),p=Ti(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const f=a.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const x=Xe(f[g],p[g]);if(x!==0)return x}return Xe(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const f=Xe(It(a.latitude),It(c.latitude));return f!==0?f:Xe(It(a.longitude),It(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return h0(n.arrayValue,e.arrayValue);case 10:return(function(a,c){const f=a.fields||{},p=c.fields||{},g=f[dd]?.arrayValue,x=p[dd]?.arrayValue,_=Xe(g?.values?.length||0,x?.values?.length||0);return _!==0?_:h0(g,x)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Au.mapValue&&c===Au.mapValue)return 0;if(a===Au.mapValue)return 1;if(c===Au.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),g=c.fields||{},x=Object.keys(g);p.sort(),x.sort();for(let _=0;_<p.length&&_<x.length;++_){const T=gp(p[_],x[_]);if(T!==0)return T;const C=Oa(f[p[_]],g[x[_]]);if(C!==0)return C}return Xe(p.length,x.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function d0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=Si(n),s=Si(e),o=Xe(t.seconds,s.seconds);return o!==0?o:Xe(t.nanos,s.nanos)}function h0(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const a=Oa(t[o],s[o]);if(a)return a}return Xe(t.length,s.length)}function Ma(n){return yp(n)}function yp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Si(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ti(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const a of t.values||[])o?o=!1:s+=",",s+=yp(a);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of s)a?a=!1:o+=",",o+=`${c}:${yp(t.fields[c])}`;return o+"}"})(n.mapValue):Ue(61005,{value:n})}function qu(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Od(n);return e?16+qu(e):16;case 5:return 2*n.stringValue.length;case 6:return Ti(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,a)=>o+qu(a)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Ri(s.fields,((a,c)=>{o+=a.length+qu(c)})),o})(n.mapValue);default:throw Ue(13486,{value:n})}}function vp(n){return!!n&&"integerValue"in n}function ym(n){return!!n&&"arrayValue"in n}function f0(n){return!!n&&"nullValue"in n}function p0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gu(n){return!!n&&"mapValue"in n}function wN(n){return(n?.mapValue?.fields||{})[Bw]?.stringValue===$w}function Hl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ri(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Hl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hl(n.arrayValue.values[t]);return e}return{...n}}function _N(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(t)}setAll(e){let t=Jt.emptyPath(),s={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}c?s[f.lastSegment()]=Hl(c):o.push(f.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,s,o)}delete(e){const t=this.field(e.popLast());Gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ri(t,((o,a)=>e[o]=a));for(const o of s)delete e[o]}clone(){return new Cn(Hl(this.value))}}function Hw(n){const e=[];return Ri(n.fields,((t,s)=>{const o=new Jt([t]);if(Gu(s)){const a=Hw(s.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,s,o,a,c,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,$e.min(),$e.min(),$e.min(),Cn.empty(),0)}static newFoundDocument(e,t,s,o){return new ln(e,1,t,$e.min(),s,o,0)}static newNoDocument(e,t){return new ln(e,2,t,$e.min(),$e.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,$e.min(),$e.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.position=e,this.inclusive=t}}function m0(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?s=Fe.comparator(Fe.fromName(c.referenceValue),t.key):s=Oa(c,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function g0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ts(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function EN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{}class Mt extends Ww{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new TN(e,t,s):t==="array-contains"?new CN(e,s):t==="in"?new NN(e,s):t==="not-in"?new kN(e,s):t==="array-contains-any"?new AN(e,s):new Mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new bN(e,s):new IN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oa(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(Oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends Ww{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ns(e,t)}matches(e){return qw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qw(n){return n.op==="and"}function Gw(n){return SN(n)&&qw(n)}function SN(n){for(const e of n.filters)if(e instanceof ns)return!1;return!0}function xp(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Ma(n.value);if(Gw(n))return n.filters.map((e=>xp(e))).join(",");{const e=n.filters.map((t=>xp(t))).join(",");return`${n.op}(${e})`}}function Kw(n,e){return n instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&ts(s.value,o.value)})(n,e):n instanceof ns?(function(s,o){return o instanceof ns&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((a,c,f)=>a&&Kw(c,o.filters[f])),!0):!1})(n,e):void Ue(19439)}function Qw(n){return n instanceof Mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ma(t.value)}`})(n):n instanceof ns?(function(t){return t.op.toString()+" {"+t.getFilters().map(Qw).join(" ,")+"}"})(n):"Filter"}class TN extends Mt{constructor(e,t,s){super(e,t,s),this.key=Fe.fromName(s.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class bN extends Mt{constructor(e,t){super(e,"in",t),this.keys=Yw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class IN extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=Yw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Yw(n,e){return(e.arrayValue?.values||[]).map((t=>Fe.fromName(t.referenceValue)))}class CN extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ym(t)&&nc(t.arrayValue,this.value)}}class NN extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nc(this.value.arrayValue,t)}}class kN extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nc(this.value.arrayValue,t)}}class AN extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>nc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t=null,s=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.Te=null}}function y0(n,e=null,t=[],s=[],o=null,a=null,c=null){return new RN(n,e,t,s,o,a,c)}function vm(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>xp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(a){return a.field.canonicalString()+a.dir})(s))).join(","),jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ma(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ma(s))).join(",")),e.Te=t}return e.Te}function xm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!EN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!g0(n.startAt,e.startAt)&&g0(n.endAt,e.endAt)}function wp(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t=null,s=[],o=[],a=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PN(n,e,t,s,o,a,c,f){return new Md(n,e,t,s,o,a,c,f)}function wm(n){return new Md(n)}function v0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DN(n){return n.collectionGroup!==null}function Wl(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Lt(Jt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new fd(a,s))})),t.has(Jt.keyField().canonicalString())||e.Ie.push(new fd(Jt.keyField(),s))}return e.Ie}function Kr(n){const e=We(n);return e.Ee||(e.Ee=jN(e,Wl(n))),e.Ee}function jN(n,e){if(n.limitType==="F")return y0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new fd(o.field,a)}));const t=n.endAt?new hd(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new hd(n.startAt.position,n.startAt.inclusive):null;return y0(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function _p(n,e,t){return new Md(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vd(n,e){return xm(Kr(n),Kr(e))&&n.limitType===e.limitType}function Xw(n){return`${vm(Kr(n))}|lt:${n.limitType}`}function wa(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Qw(o))).join(", ")}]`),jd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Ma(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Ma(o))).join(",")),`Target(${s})`})(Kr(n))}; limitType=${n.limitType})`}function Ld(n,e){return e.isFoundDocument()&&(function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):Fe.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)})(n,e)&&(function(s,o){for(const a of Wl(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,f,p){const g=m0(c,f,p);return c.inclusive?g<=0:g<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(c,f,p){const g=m0(c,f,p);return c.inclusive?g>=0:g>0})(s.endAt,Wl(s),o))})(n,e)}function ON(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jw(n){return(e,t)=>{let s=!1;for(const o of Wl(n)){const a=MN(o,e,t);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function MN(n,e,t){const s=n.field.isKeyField()?Fe.comparator(e.key,t.key):(function(a,c,f){const p=c.data.field(a),g=f.data.field(a);return p!==null&&g!==null?Oa(p,g):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ue(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,((t,s)=>{for(const[o,a]of s)e(o,a)}))}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new _t(Fe.comparator);function Rs(){return VN}const Zw=new _t(Fe.comparator);function Ll(...n){let e=Zw;for(const t of n)e=e.insert(t.key,t);return e}function e_(n){let e=Zw;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function fo(){return ql()}function t_(){return ql()}function ql(){return new Co((n=>n.toString()),((n,e)=>n.isEqual(e)))}const LN=new _t(Fe.comparator),FN=new Lt(Fe.comparator);function Je(...n){let e=FN;for(const t of n)e=e.add(t);return e}const UN=new Lt(Xe);function zN(){return UN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function n_(n){return{integerValue:""+n}}function BN(n,e){return pN(e)?n_(e):_m(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function $N(n,e,t){return n instanceof pd?(function(o,a){const c={fields:{[Fw]:{stringValue:Lw},[zw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&gm(a)&&(a=Od(a)),a&&(c.fields[Uw]=a),{mapValue:c}})(t,e):n instanceof rc?s_(n,e):n instanceof sc?i_(n,e):(function(o,a){const c=r_(o,a),f=x0(c)+x0(o.Ae);return vp(c)&&vp(o.Ae)?n_(f):_m(o.serializer,f)})(n,e)}function HN(n,e,t){return n instanceof rc?s_(n,e):n instanceof sc?i_(n,e):t}function r_(n,e){return n instanceof md?(function(s){return vp(s)||(function(a){return!!a&&"doubleValue"in a})(s)})(e)?e:{integerValue:0}:null}class pd extends Fd{}class rc extends Fd{constructor(e){super(),this.elements=e}}function s_(n,e){const t=o_(e);for(const s of n.elements)t.some((o=>ts(o,s)))||t.push(s);return{arrayValue:{values:t}}}class sc extends Fd{constructor(e){super(),this.elements=e}}function i_(n,e){let t=o_(e);for(const s of n.elements)t=t.filter((o=>!ts(o,s)));return{arrayValue:{values:t}}}class md extends Fd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function x0(n){return It(n.integerValue||n.doubleValue)}function o_(n){return ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WN(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof rc&&o instanceof rc||s instanceof sc&&o instanceof sc?ja(s.elements,o.elements,ts):s instanceof md&&o instanceof md?ts(s.Ae,o.Ae):s instanceof pd&&o instanceof pd})(n.transform,e.transform)}class qN{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ud{}function a_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new c_(n.key,Qr.none()):new gc(n.key,n.data,Qr.none());{const t=n.data,s=Cn.empty();let o=new Lt(Jt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?s.delete(a):s.set(a,c),o=o.add(a)}return new Pi(n.key,s,new Un(o.toArray()),Qr.none())}}function GN(n,e,t){n instanceof gc?(function(o,a,c){const f=o.value.clone(),p=_0(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Pi?(function(o,a,c){if(!Ku(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=_0(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(l_(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Gl(n,e,t,s){return n instanceof gc?(function(a,c,f,p){if(!Ku(a.precondition,c))return f;const g=a.value.clone(),x=E0(a.fieldTransforms,p,c);return g.setAll(x),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,s):n instanceof Pi?(function(a,c,f,p){if(!Ku(a.precondition,c))return f;const g=E0(a.fieldTransforms,p,c),x=c.data;return x.setAll(l_(a)),x.setAll(g),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,s):(function(a,c,f){return Ku(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function KN(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),a=r_(s.transform,o||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(s.field,a))}return t||null}function w0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ja(s,o,((a,c)=>WN(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gc extends Ud{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pi extends Ud{constructor(e,t,s,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function l_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function _0(n,e,t){const s=new Map;ot(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,f=e.data.field(a.field);s.set(a.field,HN(c,f,t[o]))}return s}function E0(n,e,t){const s=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);s.set(o.field,$N(a,c,e))}return s}class c_ extends Ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QN extends Ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&GN(a,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Gl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Gl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=t_();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(o.key)?null:f;const p=a_(c,f);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument($e.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,((t,s)=>w0(t,s)))&&ja(this.baseMutations,e.baseMutations,((t,s)=>w0(t,s)))}}class Em{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ot(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return LN})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,s[c].version);return new Em(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XN=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,et;function ZN(n){switch(n){case ae.OK:return Ue(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function u_(n){if(n===void 0)return As("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Rt.OK:return ae.OK;case Rt.CANCELLED:return ae.CANCELLED;case Rt.UNKNOWN:return ae.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ae.INTERNAL;case Rt.UNAVAILABLE:return ae.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ae.NOT_FOUND;case Rt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Rt.ABORTED:return ae.ABORTED;case Rt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Rt.DATA_LOSS:return ae.DATA_LOSS;default:return Ue(39323,{code:n})}}(et=Rt||(Rt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new wi([4294967295,4294967295],0);function S0(n){const e=ek().encode(n),t=new Iw;return t.update(e),new Uint8Array(t.digest())}function T0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new wi([t,s],0),new wi([o,a],0)]}class Sm{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Fl(`Invalid padding: ${t}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=wi.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(wi.fromNumber(s)));return o.compare(tk)===1&&(o=new wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=S0(e),[s,o]=T0(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(s,o,a);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Sm(a,o,t);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=S0(e),[s,o]=T0(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(s,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,s,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new zd($e.min(),o,new _t(Xe),Rs(),Je())}}class yc{constructor(e,t,s,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new yc(s,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class d_{constructor(e,t){this.targetId=e,this.Ce=t}}class h_{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class b0{constructor(){this.ve=0,this.Fe=I0(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),s=Je();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ue(38017,{changeType:a})}})),new yc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=I0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=Ru(),this.He=Ru(),this.Ye=new _t(Xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(wp(a))if(s===0){const c=new Fe(a.path);this.et(t,c,ln.newNoDocument(c,$e.min()))}else ot(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=t;let c,f;try{c=Ti(s).toUint8Array()}catch(p){if(p instanceof Vw)return Da("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Sm(c,o,a)}catch(p){return Da(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((a=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const f=this.ot(c);if(f){if(a.current&&wp(f.target)){const p=new Fe(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,ln.newNoDocument(p,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let s=Je();this.He.forEach(((a,c)=>{let f=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new zd(e,t,this.Ye,this.je,s);return this.je=Rs(),this.Je=Ru(),this.He=Ru(),this.Ye=new _t(Xe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new b0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Lt(Xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Lt(Xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ru(){return new _t(Fe.comparator)}function I0(){return new _t(Fe.comparator)}const rk={asc:"ASCENDING",desc:"DESCENDING"},sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ik={and:"AND",or:"OR"};class ok{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ep(n,e){return n.useProto3Json||jd(e)?e:{value:e}}function gd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ak(n,e){return gd(n,e.toTimestamp())}function Yr(n){return ot(!!n,49232),$e.fromTimestamp((function(t){const s=Si(t);return new gt(s.seconds,s.nanos)})(n))}function Tm(n,e){return Sp(n,e).canonicalString()}function Sp(n,e){const t=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function p_(n){const e=wt.fromString(n);return ot(x_(e),10190,{key:e.toString()}),e}function Tp(n,e){return Tm(n.databaseId,e.path)}function zf(n,e){const t=p_(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(g_(t))}function m_(n,e){return Tm(n.databaseId,e)}function lk(n){const e=p_(n);return e.length===4?wt.emptyPath():g_(e)}function bp(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g_(n){return ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function C0(n,e,t){return{name:Tp(n,e),fields:t.value.mapValue.fields}}function ck(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,x){return g.useProto3Json?(ot(x===void 0||typeof x=="string",58123),Zt.fromBase64String(x||"")):(ot(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Zt.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const x=g.code===void 0?ae.UNKNOWN:u_(g.code);return new je(x,g.message||"")})(c);t=new h_(s,o,a,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zf(n,s.document.name),a=Yr(s.document.updateTime),c=s.document.createTime?Yr(s.document.createTime):$e.min(),f=new Cn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,a,c,f),g=s.targetIds||[],x=s.removedTargetIds||[];t=new Qu(g,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zf(n,s.document),a=s.readTime?Yr(s.readTime):$e.min(),c=ln.newNoDocument(o,a),f=s.removedTargetIds||[];t=new Qu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zf(n,s.document),a=s.removedTargetIds||[];t=new Qu([],a,o,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,c=new JN(o,a),f=s.targetId;t=new d_(f,c)}}return t}function uk(n,e){let t;if(e instanceof gc)t={update:C0(n,e.key,e.value)};else if(e instanceof c_)t={delete:Tp(n,e.key)};else if(e instanceof Pi)t={update:C0(n,e.key,e.data),updateMask:xk(e.fieldMask)};else{if(!(e instanceof QN))return Ue(16599,{Vt:e.type});t={verify:Tp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(a,c){const f=c.transform;if(f instanceof pd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof rc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof sc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof md)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ue(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:ak(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)})(n,e.precondition)),t}function dk(n,e){return n&&n.length>0?(ot(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?Yr(o.updateTime):Yr(a);return c.isEqual($e.min())&&(c=Yr(a)),new qN(c,o.transformResults||[])})(t,e)))):[]}function hk(n,e){return{documents:[m_(n,e.path)]}}function fk(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=m_(n,o);const a=(function(g){if(g.length!==0)return v_(ns.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((x=>(function(T){return{field:_a(T.field),direction:gk(T.dir)}})(x)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Ep(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function pk(n){let e=lk(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ot(s===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let a=[];t.where&&(a=(function(_){const T=y_(_);return T instanceof ns&&Gw(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((T=>(function(M){return new fd(Ea(M.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let T;return T=typeof _=="object"?_.value:_,jd(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(_){const T=!!_.before,C=_.values||[];return new hd(C,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const T=!_.before,C=_.values||[];return new hd(C,T)})(t.endAt)),PN(e,o,c,a,f,"F",p,g)}function mk(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function y_(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ea(t.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ea(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ea(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ea(t.unaryFilter.field);return Mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Mt.create(Ea(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ns.create(t.compositeFilter.filters.map((s=>y_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function gk(n){return rk[n]}function yk(n){return sk[n]}function vk(n){return ik[n]}function _a(n){return{fieldPath:n.canonicalString()}}function Ea(n){return Jt.fromServerFormat(n.fieldPath)}function v_(n){return n instanceof Mt?(function(t){if(t.op==="=="){if(p0(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NAN"}};if(f0(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(p0(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NAN"}};if(f0(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(t.field),op:yk(t.op),value:t.value}}})(n):n instanceof ns?(function(t){const s=t.getFilters().map((o=>v_(o)));return s.length===1?s[0]:{compositeFilter:{op:vk(t.op),filters:s}}})(n):Ue(54877,{filter:n})}function xk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function x_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t,s,o,a=$e.min(),c=$e.min(),f=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.yt=e}}function _k(n){const e=pk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.Cn=new Sk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Ei.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Sk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Lt(wt.comparator),a=!o.has(s);return this.index[t]=o.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w_=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(w_,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Va(0)}static cr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="LruGarbageCollector",Tk=1048576;function A0([n,e],[t,s]){const o=Xe(n,t);return o===0?Xe(e,s):o}class bk{constructor(e){this.Ir=e,this.buffer=new Lt(A0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();A0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ik{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(k0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qa(t)?Te(k0,"Ignoring IndexedDB error during garbage collection: ",t):await Wa(t)}await this.Vr(3e5)}))}}class Ck{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Dd.ce);const s=new bk(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(N0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,a,c,f,p,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,c=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,t)))).next((_=>(a=_,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),xa()<=Ye.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_}))))}}function Nk(n,e){return new Ck(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.changes=new Co((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Gl(s.mutation,o,Un.empty(),gt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Je()){const o=fo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((a=>{let c=Ll();return a.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=fo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Je())))}populateOverlays(e,t,s){const o=[];return s.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,s,o){let a=Rs();const c=ql(),f=(function(){return ql()})();return t.forEach(((p,g)=>{const x=s.get(g.key);o.has(g.key)&&(x===void 0||x.mutation instanceof Pi)?a=a.insert(g.key,g):x!==void 0?(c.set(g.key,x.mutation.getFieldMask()),Gl(x.mutation,g,x.mutation.getFieldMask(),gt.now())):c.set(g.key,Un.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((g,x)=>c.set(g,x))),t.forEach(((g,x)=>f.set(g,new Ak(x,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const s=ql();let o=new _t(((c,f)=>c-f)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let x=s.get(p)||Un.empty();x=f.applyToLocalView(g,x),s.set(p,x);const _=(o.get(f.batchId)||Je()).add(p);o=o.insert(f.batchId,_)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,x=p.value,_=t_();x.forEach((T=>{if(!a.has(T)){const C=a_(t.get(T),s.get(T));C!==null&&_.set(T,C),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return Fe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-a.size):ie.resolve(fo());let f=Zl,p=a;return c.next((g=>ie.forEach(g,((x,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((T=>{p=p.insert(x,T)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,p,g,Je()))).next((x=>({batchId:f,changes:e_(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next((s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const a=t.collectionGroup;let c=Ll();return this.indexManager.getCollectionParents(e,a).next((f=>ie.forEach(f,(p=>{const g=(function(_,T){return new Md(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((x=>{x.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,o)))).next((c=>{a.forEach(((p,g)=>{const x=g.getKey();c.get(x)===null&&(c=c.insert(x,ln.newInvalidDocument(x)))}));let f=Ll();return c.forEach(((p,g)=>{const x=a.get(p);x!==void 0&&Gl(x.mutation,g,Un.empty(),gt.now()),Ld(t,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Yr(o.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:_k(o.bundledQuery),readTime:Yr(o.readTime)}})(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.overlays=new _t(Fe.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=fo();return ie.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&s.set(o,a)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,a)=>{this.St(e,t,a)})),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=fo(),a=t.length+1,c=new Fe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let a=new _t(((g,x)=>g-x));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let x=a.get(g.largestBatchId);x===null&&(x=fo(),a=a.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const f=fo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,x)=>f.set(g,x))),!(f.size()>=o)););return ie.resolve(f)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new XN(t,s));let a=this.qr.get(t);a===void 0&&(a=Je(),this.qr.set(t,a)),this.qr.set(t,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Qr=new Lt(Wt.$r),this.Ur=new Lt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Wt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Wt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Fe(new wt([])),s=new Wt(t,e),o=new Wt(t,e+1),a=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Fe(new wt([])),s=new Wt(t,e),o=new Wt(t,e+1);let a=Je();return this.Ur.forEachInRange([s,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Wt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Fe.comparator(e.key,t.key)||Xe(e.Yr,t.Yr)}static Kr(e,t){return Xe(e.Yr,t.Yr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Wt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new YN(a,t,s,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Wt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),a=o<0?0:o;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?mm:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Wt(t,0),o=new Wt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,o],(c=>{const f=this.Xr(c.Yr);a.push(f)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Lt(Xe);return t.forEach((o=>{const a=new Wt(o,0),c=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(f=>{s=s.add(f.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let a=s;Fe.isDocumentKey(a)||(a=a.child(""));const c=new Wt(new Fe(a),0);let f=new Lt(Xe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)}),c),ie.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ot(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(t.mutations,(o=>{const a=new Wt(o.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Wt(t,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.ri=e,this.docs=(function(){return new _t(Fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),a=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let s=Rs();return t.forEach((o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():ln.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let a=Rs();const c=t.path,f=new Fe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:x}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||uN(cN(x),s)<=0||(o.has(x.key)||Ld(t,x))&&(a=a.insert(x.key,x.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,s,o){Ue(9500)}ii(e,t){return ie.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Vk(this)}getSize(e){return ie.resolve(this.size)}}class Vk extends kk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.persistence=e,this.si=new Co((t=>vm(t)),xm),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new bm,this.targetCount=0,this.ai=Va.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Va(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const a=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),ie.waitFor(a).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,t){this.ui={},this.overlays={},this.ci=new Dd(0),this.li=!1,this.li=!0,this.hi=new jk,this.referenceDelegate=e(this),this.Pi=new Lk(this),this.indexManager=new Ek,this.remoteDocumentCache=(function(o){return new Mk(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wk(t),this.Ii=new Pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new Ok(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Te("MemoryPersistence","Starting transaction:",e);const o=new Fk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Fk extends hN{constructor(e){super(),this.currentSequenceNumber=e}}class Im{constructor(e){this.persistence=e,this.Ri=new bm,this.Vi=null}static mi(e){return new Im(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Fe.fromPath(s);return this.gi(e,o).next((a=>{a||t.removeEntry(o,$e.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yd{constructor(e,t){this.persistence=e,this.pi=new Co((s=>mN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Nk(this,t)}static mi(e,t){return new yd(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((a=>a?ie.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(s++,a.removeEntry(c,$e.min()))})))).next((()=>a.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qu(e.data.value)),t}br(e,t,s){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Je(),o=Je();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Cm(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kT()?8:fN(cn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,o,s).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new Uk;return this.Ss(e,t,c).next((f=>{if(a.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>a.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(xa()<=Ye.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(xa()<=Ye.DEBUG&&Te("QueryEngine","Query:",wa(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(xa()<=Ye.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(t))):ie.resolve())}ys(e,t){if(v0(t))return ie.resolve(null);let s=Kr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=_p(t,null,"F"),s=Kr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((a=>{const c=Je(...a);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,f);return this.Cs(t,g,c,p.readTime)?this.ys(e,_p(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return v0(t)||o.isEqual($e.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,s,o)?ie.resolve(null):(xa()<=Ye.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wa(t)),this.vs(e,c,t,lN(o,Zl)).next((f=>f)))}))}Ds(e,t){let s=new Lt(Jw(e));return t.forEach(((o,a)=>{Ld(e,a)&&(s=s.add(a))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,s){return xa()<=Ye.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",wa(t)),this.ps.getDocumentsMatchingQuery(e,t,Ei.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="LocalStore",Bk=3e8;class $k{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(Xe),this.xs=new Co((a=>vm(a)),xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Hk(n,e,t,s){return new $k(n,e,t,s)}async function E_(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((a=>{const c=[],f=[];let p=Je();for(const g of o){c.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}for(const g of a){f.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function Wk(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,x){const _=g.batch,T=_.keys();let C=ie.resolve();return T.forEach((M=>{C=C.next((()=>x.getEntry(p,M))).next((b=>{const R=g.docVersions.get(M);ot(R!==null,48541),b.version.compareTo(R)<0&&(_.applyToRemoteDocument(b,g),b.isValidDocument()&&(b.setReadTime(g.commitVersion),x.addEntry(b)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,_)))})(t,s,e,a).next((()=>a.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=Je();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function S_(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function qk(n,e){const t=We(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((x,_)=>{const T=o.get(_);if(!T)return;f.push(t.Pi.removeMatchingKeys(a,x.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(a,x.addedDocuments,_))));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(Zt.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):x.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(x.resumeToken,s)),o=o.insert(_,C),(function(b,R,O){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Bk?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(T,C,x)&&f.push(t.Pi.updateTargetData(a,C))}));let p=Rs(),g=Je();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,x))})),f.push(Gk(a,c,e.documentUpdates).next((x=>{p=x.ks,g=x.qs}))),!s.isEqual($e.min())){const x=t.Pi.getLastRemoteSnapshotVersion(a).next((_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s)));f.push(x)}return ie.waitFor(f).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,g))).next((()=>p))})).then((a=>(t.Ms=o,a)))}function Gk(n,e,t){let s=Je(),o=Je();return t.forEach((a=>s=s.add(a))),e.getEntries(n,s).next((a=>{let c=Rs();return t.forEach(((f,p)=>{const g=a.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual($e.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Te(Nm,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function Kk(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mm),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Qk(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((a=>a?(o=a,ie.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new gi(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Ip(n,e,t){const s=We(n),o=s.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!qa(c))throw c;Te(Nm,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function R0(n,e,t){const s=We(n);let o=$e.min(),a=Je();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,x){const _=We(p),T=_.xs.get(x);return T!==void 0?ie.resolve(_.Ms.get(T)):_.Pi.getTargetData(g,x)})(s,c,Kr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{a=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:$e.min(),t?a:Je()))).next((f=>(Yk(s,ON(e),f),{documents:f,Qs:a})))))}function Yk(n,e,t){let s=n.Os.get(e)||$e.min();t.forEach(((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)})),n.Os.set(e,s)}class P0{constructor(){this.activeTargetIds=zN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xk{constructor(){this.Mo=new P0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="ConnectivityMonitor";class j0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(D0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(D0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function Cp(){return Pu===null?Pu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ud?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,a){const c=Cp(),f=this.zo(e,t.toUriEncodedString());Te(Bf,`Sending RPC '${e}' ${c}:`,f,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:g}=new URL(f),x=za(g);return this.Jo(e,f,p,s,x).then((_=>(Te(Bf,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Da(Bf,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(e,t,s,o,a,c){return this.Go(e,t,s,o,a)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ha})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),s&&s.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const s=Zk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class nA extends eA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,a){const c=Cp();return new Promise(((f,p)=>{const g=new Cw;g.setWithCredentials(!0),g.listenOnce(Nw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Wu.NO_ERROR:const _=g.getResponseJson();Te(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Wu.TIMEOUT:Te(on,`RPC '${e}' ${c} timed out`),p(new je(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const T=g.getStatus();if(Te(on,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const b=(function(O){const F=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(F)>=0?F:ae.UNKNOWN})(M.status);p(new je(b,M.message))}else p(new je(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new je(ae.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(on,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(o);Te(on,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",x,s,15)}))}T_(e,t,s){const o=Cp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Rw(),f=Aw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const x=a.join("");Te(on,`Creating RPC '${e}' stream ${o}: ${x}`,p);const _=c.createWebChannel(x,p);this.I_(_);let T=!1,C=!1;const M=new tA({Yo:R=>{C?Te(on,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(T||(Te(on,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),Te(on,`RPC '${e}' stream ${o} sending:`,R),_.send(R))},Zo:()=>_.close()}),b=(R,O,F)=>{R.listen(O,(U=>{try{F(U)}catch($){setTimeout((()=>{throw $}),0)}}))};return b(_,Vl.EventType.OPEN,(()=>{C||(Te(on,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),b(_,Vl.EventType.CLOSE,(()=>{C||(C=!0,Te(on,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(_))})),b(_,Vl.EventType.ERROR,(R=>{C||(C=!0,Da(on,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),M.a_(new je(ae.UNAVAILABLE,"The operation could not be completed")))})),b(_,Vl.EventType.MESSAGE,(R=>{if(!C){const O=R.data[0];ot(!!O,16349);const F=O,U=F?.error||F[0]?.error;if(U){Te(on,`RPC '${e}' stream ${o} received error:`,U);const $=U.status;let J=(function(E){const k=Rt[E];if(k!==void 0)return u_(k)})($),G=U.message;J===void 0&&(J=ae.INTERNAL,G="Unknown error status: "+$+" with message "+U.message),C=!0,M.a_(new je(J,G)),_.close()}else Te(on,`RPC '${e}' stream ${o} received:`,O),M.u_(O)}})),b(f,kw.STAT_EVENT,(R=>{R.stat===mp.PROXY?Te(on,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===mp.NOPROXY&&Te(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(n){return new ok(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,t,s=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="PersistentStream";class b_{constructor(e,t,s,o,a,c,f,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(As(t.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new je(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Te(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rA extends b_{constructor(e,t,s,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ck(this.serializer,e),s=(function(a){if(!("targetChange"in a))return $e.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?$e.min():c.readTime?Yr(c.readTime):$e.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=bp(this.serializer),t.addTarget=(function(a,c){let f;const p=c.target;if(f=wp(p)?{documents:hk(a,p)}:{query:fk(a,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=f_(a,c.resumeToken);const g=Ep(a,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo($e.min())>0){f.readTime=gd(a,c.snapshotVersion.toTimestamp());const g=Ep(a,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=mk(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=bp(this.serializer),t.removeTarget=e,this.q_(t)}}class sA extends b_{constructor(e,t,s,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=dk(e.writeResults,e.commitTime),s=Yr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=bp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>uk(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class oA extends iA{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new je(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Sp(t,s),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(ae.UNKNOWN,a.toString())}))}Ho(e,t,s,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Sp(t,s),o,c,f,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new je(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class lA{constructor(e,t,s,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{No(this)&&(Te(_o,"Restarting streams for network reachability change."),await(async function(p){const g=We(p);g.Ea.add(4),await vc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $d(g)})(this))}))})),this.Ra=new aA(s,o)}}async function $d(n){if(No(n))for(const e of n.da)await e(!0)}async function vc(n){for(const e of n.da)await e(!1)}function I_(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Pm(t)?Rm(t):Ga(t).O_()&&Am(t,e))}function km(n,e){const t=We(n),s=Ga(t);t.Ia.delete(e),s.O_()&&C_(t,e),t.Ia.size===0&&(s.O_()?s.L_():No(t)&&t.Ra.set("Unknown"))}function Am(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ga(n).Y_(e)}function C_(n,e){n.Va.Ue(e),Ga(n).Z_(e)}function Rm(n){n.Va=new nk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ga(n).start(),n.Ra.ua()}function Pm(n){return No(n)&&!Ga(n).x_()&&n.Ia.size>0}function No(n){return We(n).Ea.size===0}function N_(n){n.Va=void 0}async function cA(n){n.Ra.set("Online")}async function uA(n){n.Ia.forEach(((e,t)=>{Am(n,e)}))}async function dA(n,e){N_(n),Pm(n)?(n.Ra.ha(e),Rm(n)):n.Ra.set("Unknown")}async function hA(n,e,t){if(n.Ra.set("Online"),e instanceof h_&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(s){Te(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vd(n,s)}else if(e instanceof Qu?n.Va.Ze(e):e instanceof d_?n.Va.st(e):n.Va.tt(e),!t.isEqual($e.min()))try{const s=await S_(n.localStore);t.compareTo(s)>=0&&await(function(a,c){const f=a.Va.Tt(c);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const x=a.Ia.get(g);x&&a.Ia.set(g,x.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,g)=>{const x=a.Ia.get(p);if(!x)return;a.Ia.set(p,x.withResumeToken(Zt.EMPTY_BYTE_STRING,x.snapshotVersion)),C_(a,p);const _=new gi(x.target,p,g,x.sequenceNumber);Am(a,_)})),a.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(s){Te(_o,"Failed to raise snapshot:",s),await vd(n,s)}}async function vd(n,e,t){if(!qa(e))throw e;n.Ea.add(1),await vc(n),n.Ra.set("Offline"),t||(t=()=>S_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(_o,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await $d(n)}))}function k_(n,e){return e().catch((t=>vd(n,t,e)))}async function Hd(n){const e=We(n),t=Ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mm;for(;fA(e);)try{const o=await Kk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,pA(e,o)}catch(o){await vd(e,o)}A_(e)&&R_(e)}function fA(n){return No(n)&&n.Ta.length<10}function pA(n,e){n.Ta.push(e);const t=Ii(n);t.O_()&&t.X_&&t.ea(e.mutations)}function A_(n){return No(n)&&!Ii(n).x_()&&n.Ta.length>0}function R_(n){Ii(n).start()}async function mA(n){Ii(n).ra()}async function gA(n){const e=Ii(n);for(const t of n.Ta)e.ea(t.mutations)}async function yA(n,e,t){const s=n.Ta.shift(),o=Em.from(s,e,t);await k_(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Hd(n)}async function vA(n,e){e&&Ii(n).X_&&await(async function(s,o){if((function(c){return ZN(c)&&c!==ae.ABORTED})(o.code)){const a=s.Ta.shift();Ii(s).B_(),await k_(s,(()=>s.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Hd(s)}})(n,e),A_(n)&&R_(n)}async function M0(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Te(_o,"RemoteStore received new credentials");const s=No(t);t.Ea.add(3),await vc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await $d(t)}async function xA(n,e){const t=We(n);e?(t.Ea.delete(2),await $d(t)):e||(t.Ea.add(2),await vc(t),t.Ra.set("Unknown"))}function Ga(n){return n.ma||(n.ma=(function(t,s,o){const a=We(t);return a.sa(),new rA(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:cA.bind(null,n),t_:uA.bind(null,n),r_:dA.bind(null,n),H_:hA.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Pm(n)?Rm(n):n.Ra.set("Unknown")):(await n.ma.stop(),N_(n))}))),n.ma}function Ii(n){return n.fa||(n.fa=(function(t,s,o){const a=We(t);return a.sa(),new sA(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:mA.bind(null,n),r_:vA.bind(null,n),ta:gA.bind(null,n),na:yA.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Hd(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(_o,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,s,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,a){const c=Date.now()+s,f=new Dm(e,t,c,o,a);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(n,e){if(As("AsyncQueue",`${e}: ${n}`),qa(n))return new je(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Fe.comparator(t.key,s.key):(t,s)=>Fe.comparator(t.key,s.key),this.keyedMap=Ll(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ia;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.ga=new _t(Fe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class La{constructor(e,t,s,o,a,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,a){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new La(e,t,Ia.emptySet(t),c,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _A{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=We(t),a=o.queries;o.queries=L0(),a.forEach(((c,f)=>{for(const p of f.Sa)p.onError(s)}))})(this,new je(ae.ABORTED,"Firestore shutting down"))}}function L0(){return new Co((n=>Xw(n)),Vd)}async function EA(n,e){const t=We(n);let s=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(s=2):(a=new wA,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=jm(c,`Initialization of query '${wa(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Om(t)}async function SA(n,e){const t=We(n),s=e.query;let o=3;const a=t.queries.get(s);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function TA(n,e){const t=We(n);let s=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const f of c.Sa)f.Fa(o)&&(s=!0);c.wa=o}}s&&Om(t)}function bA(n,e,t){const s=We(n),o=s.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);s.queries.delete(e)}function Om(n){n.Ca.forEach((e=>{e.next()}))}var Np,F0;(F0=Np||(Np={})).Ma="default",F0.Cache="cache";class IA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new La(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.key=e}}class D_{constructor(e){this.key=e}}class CA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=Jw(e),this.tu=new Ia(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new V0,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,_)=>{const T=o.get(x),C=Ld(this.query,_)?_:null,M=!!T&&this.mutatedKeys.has(T.key),b=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let R=!1;T&&C?T.data.isEqual(C.data)?M!==b&&(s.track({type:3,doc:C}),R=!0):this.su(T,C)||(s.track({type:2,doc:C}),R=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(f=!0)):!T&&C?(s.track({type:0,doc:C}),R=!0):T&&!C&&(s.track({type:1,doc:T}),R=!0,(p||g)&&(f=!0)),R&&(C?(c=c.add(C),a=b?a.add(x):a.delete(x)):(c=c.delete(x),a=a.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),a=a.delete(x.key),s.track({type:1,doc:x})}return{tu:c,iu:s,Cs:f,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,_)=>(function(C,M){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:R})}};return b(C)-b(M)})(x.type,_.type)||this.eu(x.doc,_.doc))),this.ou(s),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new La(this.query,e.tu,a,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new D_(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new P_(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return La.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mm="SyncEngine";class NA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class kA{constructor(e){this.key=e,this.hu=!1}}class AA{constructor(e,t,s,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Co((f=>Xw(f)),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Fe.comparator),this.Au=new Map,this.Ru=new bm,this.Vu={},this.mu=new Map,this.fu=Va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RA(n,e,t=!0){const s=F_(n);let o;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await j_(s,e,t,!0),o}async function PA(n,e){const t=F_(n);await j_(t,e,!0,!1)}async function j_(n,e,t,s){const o=await Qk(n.localStore,Kr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let f;return s&&(f=await DA(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&I_(n.remoteStore,o),f}async function DA(n,e,t,s,o){n.pu=(_,T,C)=>(async function(b,R,O,F){let U=R.view.ru(O);U.Cs&&(U=await R0(b.localStore,R.query,!1).then((({documents:N})=>R.view.ru(N,U))));const $=F&&F.targetChanges.get(R.targetId),J=F&&F.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(U,b.isPrimaryClient,$,J);return z0(b,R.targetId,G.au),G.snapshot})(n,_,T,C);const a=await R0(n.localStore,e,!0),c=new CA(e,a.Qs),f=c.ru(a.documents),p=yc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=c.applyChanges(f,n.isPrimaryClient,p);z0(n,t,g.au);const x=new NA(e,t,c);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function jA(n,e,t){const s=We(n),o=s.Tu.get(e),a=s.Iu.get(o.targetId);if(a.length>1)return s.Iu.set(o.targetId,a.filter((c=>!Vd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&km(s.remoteStore,o.targetId),kp(s,o.targetId)})).catch(Wa)):(kp(s,o.targetId),await Ip(s.localStore,o.targetId,!0))}async function OA(n,e){const t=We(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),km(t.remoteStore,s.targetId))}async function MA(n,e,t){const s=$A(n);try{const o=await(function(c,f){const p=We(c),g=gt.now(),x=f.reduce(((C,M)=>C.add(M.key)),Je());let _,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=Rs(),b=Je();return p.Ns.getEntries(C,x).next((R=>{M=R,M.forEach(((O,F)=>{F.isValidDocument()||(b=b.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,M))).next((R=>{_=R;const O=[];for(const F of f){const U=KN(F,_.get(F.key).overlayedDocument);U!=null&&O.push(new Pi(F.key,U,Hw(U.value.mapValue),Qr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,O,f)})).next((R=>{T=R;const O=R.applyToLocalDocumentSet(_,b);return p.documentOverlayCache.saveOverlays(C,R.batchId,O)}))})).then((()=>({batchId:T.batchId,changes:e_(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,f,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(Xe)),g=g.insert(f,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,t),await xc(s,o.changes),await Hd(s.remoteStore)}catch(o){const a=jm(o,"Failed to persist write");t.reject(a)}}async function O_(n,e){const t=We(n);try{const s=await qk(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Au.get(a);c&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ot(c.hu,14607):o.removedDocuments.size>0&&(ot(c.hu,42227),c.hu=!1))})),await xc(t,s,e)}catch(s){await Wa(s)}}function U0(n,e,t){const s=We(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((a,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const p=We(c);p.onlineState=f;let g=!1;p.queries.forEach(((x,_)=>{for(const T of _.Sa)T.va(f)&&(g=!0)})),g&&Om(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VA(n,e,t){const s=We(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),a=o&&o.key;if(a){let c=new _t(Fe.comparator);c=c.insert(a,ln.newNoDocument(a,$e.min()));const f=Je().add(a),p=new zd($e.min(),new Map,new _t(Xe),c,f);await O_(s,p),s.du=s.du.remove(a),s.Au.delete(e),Vm(s)}else await Ip(s.localStore,e,!1).then((()=>kp(s,e,t))).catch(Wa)}async function LA(n,e){const t=We(n),s=e.batch.batchId;try{const o=await Wk(t.localStore,e);V_(t,s,null),M_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await xc(t,o)}catch(o){await Wa(o)}}async function FA(n,e,t){const s=We(n);try{const o=await(function(c,f){const p=We(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return p.mutationQueue.lookupMutationBatch(g,f).next((_=>(ot(_!==null,37113),x=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,x,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>p.localDocuments.getDocuments(g,x)))}))})(s.localStore,e);V_(s,e,t),M_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await xc(s,o)}catch(o){await Wa(o)}}function M_(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function V_(n,e,t){const s=We(n);let o=s.Vu[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function kp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||L_(n,s)}))}function L_(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(km(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Vm(n))}function z0(n,e,t){for(const s of t)s instanceof P_?(n.Ru.addReference(s.key,e),UA(n,s)):s instanceof D_?(Te(Mm,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||L_(n,s.key)):Ue(19791,{wu:s})}function UA(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(Te(Mm,"New document in limbo: "+t),n.Eu.add(s),Vm(n))}function Vm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Fe(wt.fromString(e)),s=n.fu.next();n.Au.set(s,new kA(t)),n.du=n.du.insert(t,s),I_(n.remoteStore,new gi(Kr(wm(t.path)),s,"TargetPurposeLimboResolution",Dd.ce))}}async function xc(n,e,t){const s=We(n),o=[],a=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{c.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const x=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){o.push(g);const x=Cm.As(p.targetId,g);a.push(x)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const x=We(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(g,(T=>ie.forEach(T.Es,(C=>x.persistence.referenceDelegate.addReference(_,T.targetId,C))).next((()=>ie.forEach(T.ds,(C=>x.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))))))}catch(_){if(!qa(_))throw _;Te(Nm,"Failed to update sequence numbers: "+_)}for(const _ of g){const T=_.targetId;if(!_.fromCache){const C=x.Ms.get(T),M=C.snapshotVersion,b=C.withLastLimboFreeSnapshotVersion(M);x.Ms=x.Ms.insert(T,b)}}})(s.localStore,a))}async function zA(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Te(Mm,"User change. New user:",e.toKey());const s=await E_(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((f=>{f.forEach((p=>{p.reject(new je(ae.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xc(t,s.Ls)}}function BA(n,e){const t=We(n),s=t.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let o=Je();const a=t.Iu.get(e);if(!a)return o;for(const c of a){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function F_(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VA.bind(null,e),e.Pu.H_=TA.bind(null,e.eventManager),e.Pu.yu=bA.bind(null,e.eventManager),e}function $A(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FA.bind(null,e),e}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Hk(this.persistence,new zk,e.initialUser,this.serializer)}Cu(e){return new __(Im.mi,this.serializer)}Du(e){return new Xk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class HA extends xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof yd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ik(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new __((s=>yd.mi(s,t)),this.serializer)}}class Ap{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zA.bind(null,this.syncEngine),await xA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _A})()}createDatastore(e){const t=Bd(e.databaseInfo.databaseId),s=(function(a){return new nA(a)})(e.databaseInfo);return(function(a,c,f,p){return new oA(a,c,f,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,a,c,f){return new lA(s,o,a,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>U0(this.syncEngine,t,0)),(function(){return j0.v()?new j0:new Jk})())}createSyncEngine(e,t){return(function(o,a,c,f,p,g,x){const _=new AA(o,a,c,f,p,g);return x&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=We(t);Te(_o,"RemoteStore shutting down."),s.Ea.add(5),await vc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class qA{constructor(e,t,s,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,(async c=>{Te(Ci,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Te(Ci,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=jm(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hf(n,e){n.asyncQueue.verifyOperationInProgress(),Te(Ci,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await E_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function B0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GA(n);Te(Ci,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>M0(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>M0(e.remoteStore,o))),n._onlineComponents=e}async function GA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(Ci,"Using user provided OfflineComponentProvider");try{await Hf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Da("Error using user provided cache. Falling back to memory cache: "+t),await Hf(n,new xd)}}else Te(Ci,"Using default OfflineComponentProvider"),await Hf(n,new HA(void 0));return n._offlineComponents}async function U_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(Ci,"Using user provided OnlineComponentProvider"),await B0(n,n._uninitializedComponentsProvider._online)):(Te(Ci,"Using default OnlineComponentProvider"),await B0(n,new Ap))),n._onlineComponents}function KA(n){return U_(n).then((e=>e.syncEngine))}async function QA(n){const e=await U_(n),t=e.eventManager;return t.onListen=RA.bind(null,e.syncEngine),t.onUnlisten=jA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=PA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OA.bind(null,e.syncEngine),t}function YA(n,e,t={}){const s=new _i;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,f,p,g){const x=new WA({next:T=>{x.Nu(),c.enqueueAndForget((()=>SA(a,_)));const C=T.docs.has(f);!C&&T.fromCache?g.reject(new je(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?g.reject(new je(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new IA(wm(f.path),x,{includeMetadataChanges:!0,qa:!0});return EA(a,_)})(await QA(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="firestore.googleapis.com",H0=!0;class W0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B_,this.ssl=H0}else this.host=e.host,this.ssl=e.ssl??H0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tk)throw new je(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new je(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YC;switch(s.type){case"firstParty":return new eN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new je(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=$0.get(t);s&&(Te("ComponentProvider","Removing Datastore"),$0.delete(t),s.terminate())})(this),Promise.resolve()}}function XA(n,e,t,s={}){n=wo(n,Lm);const o=za(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(Bx(`https://${f}`),$x("Firestore",!0)),a.host!==B_&&a.host!==f&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:f,ssl:o,emulatorOptions:s};if(!go(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,x;if(typeof s.mockUserToken=="string")g=s.mockUserToken,x=an.MOCK_USER;else{g=wT(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new je(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new an(_)}n._authCredentials=new XC(new Dw(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fm(this.firestore,e,this._query)}}class Vt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(mc(t,Vt._jsonSchema))return new Vt(e,s||null,new Fe(wt.fromString(t.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Pt("string",Vt._jsonSchemaVersion),referencePath:Pt("string")};class ic extends Fm{constructor(e,t,s){super(e,t,wm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Fe(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function Um(n,e,...t){if(n=pn(n),arguments.length===1&&(e=fm.newId()),oN("doc","path",e),n instanceof Lm){const s=wt.fromString(e,...t);return i0(s),new Vt(n,null,new Fe(s))}{if(!(n instanceof Vt||n instanceof ic))throw new je(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(wt.fromString(e,...t));return i0(s),new Vt(n.firestore,n instanceof ic?n.converter:null,new Fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="AsyncQueue";class G0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T_(this,"async_queue_retry"),this._c=()=>{const s=$f();s&&Te(q0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=$f();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$f();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new _i;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qa(e))throw e;Te(q0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",K0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Dm.createAndSchedule(this,e,t,s,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ue(47125,{Pc:K0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function K0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Wd extends Lm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new G0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G0(e),this._firestoreClient=void 0,await e}}}function JA(n,e){const t=typeof n=="object"?n:Gx(),s=typeof n=="string"?n:ud,o=tm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=vT("firestore");a&&XA(o,...a)}return o}function $_(n){if(n._terminated)throw new je(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZA(n),n._firestoreClient}function ZA(n){const e=n._freezeSettings(),t=(function(o,a,c,f){return new vN(o,a,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,z_(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new qA(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new er(Zt.fromBase64String(e))}catch(t){throw new je(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new er(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,er._jsonSchema))return er.fromBase64String(e.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:Pt("string",er._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(mc(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:Pt("string",Xr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Jr(e.vectorValues);throw new je(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:Pt("string",Jr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^__.*__$/;class tR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,t,this.fieldTransforms):new gc(e,this.data,t,this.fieldTransforms)}}class H_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Pi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class Bm{constructor(e,t,s,o,a,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(W_(this.Ac)&&eR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Bd(e)}Cc(e,t,s,o=!1){return new Bm({Ac:e,methodName:t,Dc:s,path:Jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q_(n){const e=n._freezeSettings(),t=Bd(n._databaseId);return new nR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rR(n,e,t,s,o,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);$m("Data must be an object, but it was:",c,s);const f=G_(s,c);let p,g;if(a.merge)p=new Un(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const x=[];for(const _ of a.mergeFields){const T=Rp(e,_,t);if(!c.contains(T))throw new je(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Q_(x,T)||x.push(T)}p=new Un(x),g=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=c.fieldTransforms;return new tR(new Cn(f),p,g)}class wc extends zm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function sR(n,e,t,s){const o=n.Cc(1,e,t);$m("Data must be an object, but it was:",o,s);const a=[],c=Cn.empty();Ri(s,((p,g)=>{const x=Hm(e,p,t);g=pn(g);const _=o.yc(x);if(g instanceof wc)a.push(x);else{const T=Gd(g,_);T!=null&&(a.push(x),c.set(x,T))}}));const f=new Un(a);return new H_(c,f,o.fieldTransforms)}function iR(n,e,t,s,o,a){const c=n.Cc(1,e,t),f=[Rp(e,s,t)],p=[o];if(a.length%2!=0)throw new je(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)f.push(Rp(e,a[T])),p.push(a[T+1]);const g=[],x=Cn.empty();for(let T=f.length-1;T>=0;--T)if(!Q_(g,f[T])){const C=f[T];let M=p[T];M=pn(M);const b=c.yc(C);if(M instanceof wc)g.push(C);else{const R=Gd(M,b);R!=null&&(g.push(C),x.set(C,R))}}const _=new Un(g);return new H_(x,_,c.fieldTransforms)}function Gd(n,e){if(K_(n=pn(n)))return $m("Unsupported field value:",e,n),G_(n,e);if(n instanceof zm)return(function(s,o){if(!W_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const a=[];let c=0;for(const f of s){let p=Gd(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(n,e)}return(function(s,o){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=gt.fromDate(s);return{timestampValue:gd(o.serializer,a)}}if(s instanceof gt){const a=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gd(o.serializer,a)}}if(s instanceof Xr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof er)return{bytesValue:f_(o.serializer,s._byteString)};if(s instanceof Vt){const a=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Tm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Jr)return(function(c,f){return{mapValue:{fields:{[Bw]:{stringValue:$w},[dd]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return _m(f.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${pm(s)}`)})(n,e)}function G_(n,e){const t={};return Mw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(n,((s,o)=>{const a=Gd(o,e.mc(s));a!=null&&(t[s]=a)})),{mapValue:{fields:t}}}function K_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof Xr||n instanceof er||n instanceof Vt||n instanceof zm||n instanceof Jr)}function $m(n,e,t){if(!K_(t)||!jw(t)){const s=pm(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Rp(n,e,t){if((e=pn(e))instanceof qd)return e._internalPath;if(typeof e=="string")return Hm(n,e);throw wd("Field path arguments must be of type string or ",n,!1,void 0,t)}const oR=new RegExp("[~\\*/\\[\\]]");function Hm(n,e,t){if(e.search(oR)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qd(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wd(n,e,t,s,o){const a=s&&!s.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new je(ae.INVALID_ARGUMENT,f+n+p)}function Q_(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t,s,o,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(X_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aR extends Y_{data(){return super.data()}}function X_(n,e){return typeof e=="string"?Hm(n,e):e instanceof qd?e._internalPath:e._delegate._internalPath}class lR{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ri(e,((o,a)=>{s[o]=this.convertValue(a,t)})),s}convertVectorValue(e){const t=e.fields?.[dd].arrayValue?.values?.map((s=>It(s.doubleValue)));return new Jr(t)}convertGeoPoint(e){return new Xr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Od(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const t=Si(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=wt.fromString(e);ot(x_(s),9688,{name:e});const o=new tc(s.get(1),s.get(3)),a=new Fe(s.popFirst(5));return o.isEqual(t)||As(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mo extends Y_{constructor(e,t,s,o,a,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(X_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=mo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:Pt("string",mo._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Yu extends mo{data(e={}){return super.data(e)}}class Kl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Yu(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const p=new Yu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ul(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const p=new Yu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ul(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,x=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),x=c.indexOf(f.doc.key)),{type:uR(f.type),doc:p,oldIndex:g,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n){n=wo(n,Vt);const e=wo(n.firestore,Wd);return YA($_(e),n._key).then((t=>mR(e,n,t)))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:Pt("string",Kl._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class hR extends lR{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}}function fR(n,e,t){n=wo(n,Vt);const s=wo(n.firestore,Wd),o=cR(n.converter,e,t);return J_(s,[rR(q_(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Qr.none())])}function pR(n,e,t,...s){n=wo(n,Vt);const o=wo(n.firestore,Wd),a=q_(o);let c;return c=typeof(e=pn(e))=="string"||e instanceof qd?iR(a,"updateDoc",n._key,e,t,s):sR(a,"updateDoc",n._key,e),J_(o,[c.toMutation(n._key,Qr.exists(!0))])}function J_(n,e){return(function(s,o){const a=new _i;return s.asyncQueue.enqueueAndForget((async()=>MA(await KA(s),o,a))),a.promise})($_(n),e)}function mR(n,e,t){const s=t.docs.get(e._key),o=new hR(n);return new mo(n,o,e._key,s,new Ul(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){return new wc("deleteField")}(function(e,t=!0){(function(o){Ha=o})(Ba),Ra(new yo("firestore",((s,{instanceIdentifier:o,options:a})=>{const c=s.getProvider("app").getImmediate(),f=new Wd(new JC(s.getProvider("auth-internal")),new tN(c,s.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new je(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(g.options.projectId,x)})(c,o),c);return a={useFetchStreams:t,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),xi(t0,n0,e),xi(t0,n0,"esm2020")})();const yR={apiKey:"SUA_API_KEY",authDomain:"SEU_PROJETO.firebaseapp.com",projectId:"SEU_PROJETO",storageBucket:"SEU_PROJETO.appspot.com",messagingSenderId:"SENDER_ID",appId:"APP_ID"},Z_=qx(yR),Pp=KC(Z_),Wm=JA(Z_);let Ni=null,Ql=!1;async function vR(n){try{const e=Um(Wm,"users",n),t=await dR(e);if(t.exists()){const o=t.data()?.localStorage||{};Ql=!0;try{Object.keys(o).forEach(a=>{const c=o[a];try{localStorage.setItem(a,JSON.stringify(c))}catch(f){console.warn("Failed to write to localStorage",f)}})}finally{setTimeout(()=>{Ql=!1},300)}}}catch(e){console.error("Error loading user data from Firestore:",e),Ql=!1}}async function xR(n,e){if(Ni)try{const t=Um(Wm,"users",Ni.uid);await fR(t,{localStorage:{[n]:e}},{merge:!0})}catch(t){console.error("Failed to write key to Firestore",t)}}async function wR(n){if(Ni)try{const e=Um(Wm,"users",Ni.uid),t={};t[`localStorage.${n}`]=gR(),await pR(e,t)}catch(e){console.error("Failed to remove key from Firestore",e)}}function _R(){try{const n=Storage.prototype.setItem,e=Storage.prototype.removeItem;Storage.prototype.setItem=function(t,s){if(n.call(this,t,s),!Ql&&Ni){let o=s;try{o=JSON.parse(s)}catch{o=s}xR(t,o)}},Storage.prototype.removeItem=function(t){e.call(this,t),!Ql&&Ni&&wR(t)}}catch(n){console.error("Failed to patch localStorage",n)}}function ER(){const n="firebase-auth-widget";if(document.getElementById(n))return;const e=document.createElement("div");e.id=n,e.style.position="fixed",e.style.bottom="16px",e.style.right="16px",e.style.zIndex="9999",e.style.background="rgba(255,255,255,0.95)",e.style.border="1px solid #ddd",e.style.padding="8px",e.style.borderRadius="8px",e.style.boxShadow="0 6px 18px rgba(0,0,0,0.08)",e.style.fontFamily="sans-serif",e.style.fontSize="13px",e.style.color="#111";const t=document.createElement("div");t.id=n+"-status",t.style.marginBottom="6px",t.innerText="Conectando...",e.appendChild(t);const s=document.createElement("button");return s.id=n+"-btn",s.style.padding="6px 10px",s.style.border="none",s.style.borderRadius="6px",s.style.cursor="pointer",s.innerText="Entrar com Google",e.appendChild(s),s.addEventListener("click",async()=>{if(Ni)await VI(Pp);else{const o=new bs;try{await rC(Pp,o)}catch(a){console.error("Login failed",a),alert("Falha no login: "+a.message)}}}),document.body.appendChild(e),{status:t,btn:s}}function SR(){_R();const n=ER();MI(Pp,async e=>{if(Ni=e,n){const{status:t,btn:s}=n;e?(t.innerText="Conectado: "+(e.email||e.displayName||e.uid),s.innerText="Sair"):(t.innerText="Não autenticado",s.innerText="Entrar com Google")}e&&await vR(e.uid)})}try{typeof window<"u"&&setTimeout(()=>{SR()},100)}catch(n){console.error(n)}var I=Jp();const di=jx(I),eE=tT({__proto__:null,default:di},[I]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Q0=n=>{const e=bR(n);return e.charAt(0).toUpperCase()+e.slice(1)},tE=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...f},p)=>I.createElement("svg",{ref:p,...IR,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:tE("lucide",o),...f},[...c.map(([g,x])=>I.createElement(g,x)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(n,e)=>{const t=I.forwardRef(({className:s,...o},a)=>I.createElement(CR,{ref:a,iconNode:e,className:tE(`lucide-${TR(Q0(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Q0(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kR=qe("bell",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],nE=qe("bold",AR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rE=qe("book-open",RR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],DR=qe("book",PR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Dp=qe("bookmark",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MR=qe("check",OR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sE=qe("chevron-down",VR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],iE=qe("chevron-left",LR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_d=qe("chevron-right",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zR=qe("chevron-up",UR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$R=qe("circle-help",BR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],oE=qe("clock",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jp=qe("copy",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],aE=qe("download",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Xu=qe("ellipsis-vertical",GR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lE=qe("eye",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fn=qe("file-text",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],Op=qe("flag",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],oc=qe("folder-open",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Mp=qe("folder-plus",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],eP=qe("folder",ZR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],nP=qe("grid-3x3",tP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],cE=qe("highlighter",rP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],iP=qe("house",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],uE=qe("italic",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ac=qe("link",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Vp=qe("list",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uP=qe("pen",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],dE=qe("pin-off",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Ed=qe("pin",hP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=qe("plus",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Y0=qe("rotate-ccw",pP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hE=qe("save",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],_c=qe("search",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ca=qe("square-check-big",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xP=qe("square-pen",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],X0=qe("square",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],J0=qe("thumbs-up",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],mr=qe("trash-2",EP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ft=qe("x",SP);function fE(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=fE(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function pE(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=fE(n))&&(s&&(s+=" "),s+=e);return s}const qm="-",TP=n=>{const e=IP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:c=>{const f=c.split(qm);return f[0]===""&&f.length!==1&&f.shift(),mE(f,e)||bP(c)},getConflictingClassGroupIds:(c,f)=>{const p=t[c]||[];return f&&s[c]?[...p,...s[c]]:p}}},mE=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),o=s?mE(n.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(qm);return e.validators.find(({validator:c})=>c(a))?.classGroupId},Z0=/^\[(.+)\]$/,bP=n=>{if(Z0.test(n)){const e=Z0.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},IP=n=>{const{theme:e,classGroups:t}=n,s={nextPart:new Map,validators:[]};for(const o in t)Lp(t[o],s,o,e);return s},Lp=(n,e,t,s)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:ex(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(CP(o)){Lp(o(s),e,t,s);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{Lp(c,ex(e,a),t,s)})})},ex=(n,e)=>{let t=n;return e.split(qm).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},CP=n=>n.isThemeGetter,NP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,s=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=s.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},Fp="!",Up=":",kP=Up.length,AP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=o=>{const a=[];let c=0,f=0,p=0,g;for(let M=0;M<o.length;M++){let b=o[M];if(c===0&&f===0){if(b===Up){a.push(o.slice(p,M)),p=M+kP;continue}if(b==="/"){g=M;continue}}b==="["?c++:b==="]"?c--:b==="("?f++:b===")"&&f--}const x=a.length===0?o:o.substring(p),_=RP(x),T=_!==x,C=g&&g>p?g-p:void 0;return{modifiers:a,hasImportantModifier:T,baseClassName:_,maybePostfixModifierPosition:C}};if(e){const o=e+Up,a=s;s=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const o=s;s=a=>t({className:a,parseClassName:o})}return s},RP=n=>n.endsWith(Fp)?n.substring(0,n.length-1):n.startsWith(Fp)?n.substring(1):n,PP=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let a=[];return s.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},DP=n=>({cache:NP(n.cacheSize),parseClassName:AP(n),sortModifiers:PP(n),...TP(n)}),jP=/\s+/,OP=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],f=n.trim().split(jP);let p="";for(let g=f.length-1;g>=0;g-=1){const x=f[g],{isExternal:_,modifiers:T,hasImportantModifier:C,baseClassName:M,maybePostfixModifierPosition:b}=t(x);if(_){p=x+(p.length>0?" "+p:p);continue}let R=!!b,O=s(R?M.substring(0,b):M);if(!O){if(!R){p=x+(p.length>0?" "+p:p);continue}if(O=s(M),!O){p=x+(p.length>0?" "+p:p);continue}R=!1}const F=a(T).join(":"),U=C?F+Fp:F,$=U+O;if(c.includes($))continue;c.push($);const J=o(O,R);for(let G=0;G<J.length;++G){const N=J[G];c.push(U+N)}p=x+(p.length>0?" "+p:p)}return p};function MP(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=gE(e))&&(s&&(s+=" "),s+=t);return s}const gE=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=gE(n[s]))&&(t&&(t+=" "),t+=e);return t};function VP(n,...e){let t,s,o,a=c;function c(p){const g=e.reduce((x,_)=>_(x),n());return t=DP(g),s=t.cache.get,o=t.cache.set,a=f,f(p)}function f(p){const g=s(p);if(g)return g;const x=OP(p,t);return o(p,x),x}return function(){return a(MP.apply(null,arguments))}}const Ot=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},yE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LP=/^\d+\/\d+$/,FP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$P=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ma=n=>LP.test(n),Ge=n=>!!n&&!Number.isNaN(Number(n)),ui=n=>!!n&&Number.isInteger(Number(n)),Wf=n=>n.endsWith("%")&&Ge(n.slice(0,-1)),Ts=n=>FP.test(n),HP=()=>!0,WP=n=>UP.test(n)&&!zP.test(n),xE=()=>!1,qP=n=>BP.test(n),GP=n=>$P.test(n),KP=n=>!Ce(n)&&!Ne(n),QP=n=>Ka(n,EE,xE),Ce=n=>yE.test(n),co=n=>Ka(n,SE,WP),qf=n=>Ka(n,e2,Ge),tx=n=>Ka(n,wE,xE),YP=n=>Ka(n,_E,GP),Du=n=>Ka(n,TE,qP),Ne=n=>vE.test(n),Ml=n=>Qa(n,SE),XP=n=>Qa(n,t2),nx=n=>Qa(n,wE),JP=n=>Qa(n,EE),ZP=n=>Qa(n,_E),ju=n=>Qa(n,TE,!0),Ka=(n,e,t)=>{const s=yE.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},Qa=(n,e,t=!1)=>{const s=vE.exec(n);return s?s[1]?e(s[1]):t:!1},wE=n=>n==="position"||n==="percentage",_E=n=>n==="image"||n==="url",EE=n=>n==="length"||n==="size"||n==="bg-size",SE=n=>n==="length",e2=n=>n==="number",t2=n=>n==="family-name",TE=n=>n==="shadow",n2=()=>{const n=Ot("color"),e=Ot("font"),t=Ot("text"),s=Ot("font-weight"),o=Ot("tracking"),a=Ot("leading"),c=Ot("breakpoint"),f=Ot("container"),p=Ot("spacing"),g=Ot("radius"),x=Ot("shadow"),_=Ot("inset-shadow"),T=Ot("text-shadow"),C=Ot("drop-shadow"),M=Ot("blur"),b=Ot("perspective"),R=Ot("aspect"),O=Ot("ease"),F=Ot("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...$(),Ne,Ce],G=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],E=()=>[Ne,Ce,p],k=()=>[ma,"full","auto",...E()],D=()=>[ui,"none","subgrid",Ne,Ce],j=()=>["auto",{span:["full",ui,Ne,Ce]},ui,Ne,Ce],L=()=>[ui,"auto",Ne,Ce],P=()=>["auto","min","max","fr",Ne,Ce],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],we=()=>["auto",...E()],xe=()=>[ma,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],q=()=>[n,Ne,Ce],he=()=>[...$(),nx,tx,{position:[Ne,Ce]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",JP,QP,{size:[Ne,Ce]}],re=()=>[Wf,Ml,co],_e=()=>["","none","full",g,Ne,Ce],ve=()=>["",Ge,Ml,co],Pe=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[Ge,Wf,nx,tx],Z=()=>["","none",M,Ne,Ce],ne=()=>["none",Ge,Ne,Ce],se=()=>["none",Ge,Ne,Ce],ue=()=>[Ge,Ne,Ce],Oe=()=>[ma,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ts],breakpoint:[Ts],color:[HP],container:[Ts],"drop-shadow":[Ts],ease:["in","out","in-out"],font:[KP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ts],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ts],shadow:[Ts],spacing:["px",Ge],text:[Ts],"text-shadow":[Ts],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ma,Ce,Ne,R]}],container:["container"],columns:[{columns:[Ge,Ce,Ne,f]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ui,"auto",Ne,Ce]}],basis:[{basis:[ma,"full","auto",f,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,ma,"auto","initial","none",Ce]}],grow:[{grow:["",Ge,Ne,Ce]}],shrink:[{shrink:["",Ge,Ne,Ce]}],order:[{order:[ui,"first","last","none",Ne,Ce]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:we()}],mx:[{mx:we()}],my:[{my:we()}],ms:[{ms:we()}],me:[{me:we()}],mt:[{mt:we()}],mr:[{mr:we()}],mb:[{mb:we()}],ml:[{ml:we()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:xe()}],w:[{w:[f,"screen",...xe()]}],"min-w":[{"min-w":[f,"screen","none",...xe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...xe()]}],h:[{h:["screen","lh",...xe()]}],"min-h":[{"min-h":["screen","lh","none",...xe()]}],"max-h":[{"max-h":["screen","lh",...xe()]}],"font-size":[{text:["base",t,Ml,co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ne,qf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wf,Ce]}],"font-family":[{font:[XP,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ne,Ce]}],"line-clamp":[{"line-clamp":[Ge,"none",Ne,qf]}],leading:[{leading:[a,...E()]}],"list-image":[{"list-image":["none",Ne,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",Ne,co]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Ge,"auto",Ne,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ui,Ne,Ce],radial:["",Ne,Ce],conic:[ui,Ne,Ce]},ZP,YP]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,Ne,Ce]}],"outline-w":[{outline:["",Ge,Ml,co]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",x,ju,Du]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",_,ju,Du]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Ge,co]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",T,ju,Du]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Ge,Ne,Ce]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ne,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Ce]}],filter:[{filter:["","none",Ne,Ce]}],blur:[{blur:Z()}],brightness:[{brightness:[Ge,Ne,Ce]}],contrast:[{contrast:[Ge,Ne,Ce]}],"drop-shadow":[{"drop-shadow":["","none",C,ju,Du]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Ge,Ne,Ce]}],"hue-rotate":[{"hue-rotate":[Ge,Ne,Ce]}],invert:[{invert:["",Ge,Ne,Ce]}],saturate:[{saturate:[Ge,Ne,Ce]}],sepia:[{sepia:["",Ge,Ne,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Ce]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,Ne,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,Ne,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,Ne,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,Ne,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ge,Ne,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,Ne,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,Ne,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,Ne,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",Ne,Ce]}],ease:[{ease:["linear","initial",O,Ne,Ce]}],delay:[{delay:[Ge,Ne,Ce]}],animate:[{animate:["none",F,Ne,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ne,Ce]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Ne,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Ce]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Ge,Ml,co,qf]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},r2=VP(n2);function Bn(...n){return r2(pE(n))}function tr({className:n,type:e,...t}){return h.jsx("input",{type:e,"data-slot":"input",className:Bn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function rx({folderStructure:n,onClose:e,onNavigateToNote:t,onNavigateToFolder:s}){const[o,a]=I.useState(""),[c,f]=I.useState([]),[p,g]=I.useState([]),[x,_]=I.useState(!1),T=I.useRef(null);I.useEffect(()=>{const G=localStorage.getItem("stride-search-history");if(G)try{g(JSON.parse(G))}catch(N){console.error("Erro ao carregar histórico de pesquisa:",N)}},[]),I.useEffect(()=>{localStorage.setItem("stride-search-history",JSON.stringify(p))},[p]),I.useEffect(()=>{T.current&&T.current.focus()},[]);const C=(G,N=[],E)=>{const k=[],D=E.toLowerCase();return G.forEach(j=>{const L=[...N,j.name];j.name.toLowerCase().includes(D)&&k.push({type:"folder",id:j.id,title:j.name,folderPath:N}),j.notes.forEach(ge=>{(ge.title.toLowerCase().includes(D)||ge.content.toLowerCase().includes(D))&&k.push({type:"note",id:ge.id,title:ge.title,content:ge.content,folderPath:L})});const P=C(j.subfolders,L,E);k.push(...P)}),k},M=(G,N=!1)=>{if(G.trim()){_(!0);const E=C(n,[],G);f(E),N&&!p.includes(G.trim())&&g(k=>[G.trim(),...k.slice(0,9)])}else f([]);_(!1)},b=G=>{const N=G.target.value;a(N);const E=setTimeout(()=>{M(N,!1)},300);return()=>clearTimeout(E)},R=G=>{G.key==="Enter"&&o.trim()&&M(o,!0)},O=G=>{a(G),M(G,!1)},F=()=>{g([])},U=G=>{g(N=>N.filter(E=>E!==G))},$=G=>{G.type==="note"?t(G.folderPath,G.id):s([...G.folderPath,G.title]),e()},J=G=>{G.target===G.currentTarget&&e()};return h.jsx("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50 p-4",onClick:J,children:h.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden shadow-2xl",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pesquisar"}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-gray-600"})})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"relative mb-6 flex space-x-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(_c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx(tr,{ref:T,value:o,onChange:b,onKeyPress:R,placeholder:"Pesquisar pastas e notas...",className:"pl-10 h-12 text-base border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-0"})]}),h.jsx("button",{onClick:()=>o.trim()&&M(o,!0),disabled:!o.trim(),className:"px-4 h-12 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Buscar"})]}),o.trim()&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Resultados da Pesquisa"}),h.jsx("div",{className:"max-h-60 overflow-y-auto",children:x?h.jsx("p",{className:"text-gray-500 text-center py-8",children:"Pesquisando..."}):c.length>0?h.jsx("div",{className:"space-y-2",children:c.map((G,N)=>h.jsxs("button",{onClick:()=>$(G),className:"flex items-center space-x-3 w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 text-left transition-colors",children:[G.type==="note"?h.jsx(Fn,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}):h.jsx(oc,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-gray-900 truncate",children:G.title}),h.jsx("p",{className:"text-sm text-gray-500 truncate",children:G.folderPath.length>0?G.folderPath.join(" / "):"Raiz"})]})]},`${G.type}-${G.id}-${N}`))}):h.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhum resultado encontrado."})})]}),!o.trim()&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:"Histórico de Pesquisas"}),p.length>0&&h.jsx("button",{onClick:F,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Limpar tudo"})]}),h.jsx("div",{className:"max-h-60 overflow-y-auto",children:p.length>0?h.jsx("div",{className:"space-y-2",children:p.map((G,N)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("button",{onClick:()=>O(G),className:"flex items-center space-x-3 flex-1 text-left",children:[h.jsx(oE,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-700",children:G})]}),h.jsx("button",{onClick:()=>U(G),className:"ml-2 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(Ft,{className:"w-4 h-4"})})]},N))}):h.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma pesquisa recente"})})]})]})]})})}function sx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function bE(...n){return e=>{let t=!1;const s=n.map(o=>{const a=sx(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():sx(n[o],null)}}}}function Ct(...n){return I.useCallback(bE(...n),n)}function Fa(n){const e=i2(n),t=I.forwardRef((s,o)=>{const{children:a,...c}=s,f=I.Children.toArray(a),p=f.find(a2);if(p){const g=p.props.children,x=f.map(_=>_===p?I.Children.count(g)>1?I.Children.only(null):I.isValidElement(g)?g.props.children:null:_);return h.jsx(e,{...c,ref:o,children:I.isValidElement(g)?I.cloneElement(g,void 0,x):null})}return h.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var s2=Fa("Slot");function i2(n){const e=I.forwardRef((t,s)=>{const{children:o,...a}=t;if(I.isValidElement(o)){const c=c2(o),f=l2(a,o.props);return o.type!==I.Fragment&&(f.ref=s?bE(s,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var o2=Symbol("radix.slottable");function a2(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===o2}function l2(n,e){const t={...e};for(const s in e){const o=n[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?t[s]=(...f)=>{const p=a(...f);return o(...f),p}:o&&(t[s]=o):s==="style"?t[s]={...o,...a}:s==="className"&&(t[s]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function c2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const ix=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ox=pE,u2=(n,e)=>t=>{var s;if(e?.variants==null)return ox(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(g=>{const x=t?.[g],_=a?.[g];if(x===null)return null;const T=ix(x)||ix(_);return o[g][T]}),f=t&&Object.entries(t).reduce((g,x)=>{let[_,T]=x;return T===void 0||(g[_]=T),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,x)=>{let{class:_,className:T,...C}=x;return Object.entries(C).every(M=>{let[b,R]=M;return Array.isArray(R)?R.includes({...a,...f}[b]):{...a,...f}[b]===R})?[...g,_,T]:g},[]);return ox(n,c,p,t?.class,t?.className)},d2=u2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function In({className:n,variant:e,size:t,asChild:s=!1,...o}){const a=s?s2:"button";return h.jsx(a,{"data-slot":"button",className:Bn(d2({variant:e,size:t,className:n})),...o})}function ax({onClose:n}){const[e,t]=I.useState(""),[s,o]=I.useState([]),[a,c]=I.useState(null),[f,p]=I.useState(!1),[g,x]=I.useState(""),[_,T]=I.useState(""),[C,M]=I.useState(null),[b,R]=I.useState(!1),O=I.useRef(null);I.useEffect(()=>{const E=localStorage.getItem("stride-dictionary-entries");if(console.log("Carregando entradas do localStorage:",E),E&&E!=="null"&&E!=="[]")try{const k=JSON.parse(E);if(Array.isArray(k)&&k.length>0){const D=k.map((j,L)=>({...j,isPinned:j.isPinned||!1,originalOrder:j.originalOrder!==void 0?j.originalOrder:L}));o(D),D.length>0&&c(D[0]),console.log("Entradas carregadas:",D.length)}}catch(k){console.error("Erro ao carregar entradas do dicionário:",k)}else console.log("Nenhuma entrada encontrada no localStorage");R(!0)},[]),I.useEffect(()=>{b&&localStorage.setItem("stride-dictionary-entries",JSON.stringify(s))},[s,b]),I.useEffect(()=>{O.current&&O.current.focus()},[]);const F=s.filter(E=>E.word.toLowerCase().includes(e.toLowerCase())).sort((E,k)=>E.isPinned&&!k.isPinned?-1:!E.isPinned&&k.isPinned?1:E.word.toLowerCase().localeCompare(k.word.toLowerCase())),U=()=>{if(g.trim()&&_.trim()){const E={id:Date.now().toString(),word:g.trim(),definition:_.trim(),isPinned:!1,originalOrder:s.length};console.log("Adicionando nova palavra:",E);const k=[...s,E];o(k),c(E),x(""),T(""),p(!1),localStorage.setItem("stride-dictionary-entries",JSON.stringify(k)),console.log("Palavras salvas no localStorage:",k.length)}},$=E=>{o(k=>{const j=k.map(L=>L.id===E?{...L,isPinned:!L.isPinned}:L).sort((L,P)=>L.isPinned&&!P.isPinned?-1:!L.isPinned&&P.isPinned?1:L.word.toLowerCase().localeCompare(P.word.toLowerCase()));return localStorage.setItem("stride-dictionary-entries",JSON.stringify(j)),j}),M(null)},J=E=>{o(k=>{const D=k.filter(j=>j.id!==E);return a?.id===E&&c(D.length>0?D[0]:null),localStorage.setItem("stride-dictionary-entries",JSON.stringify(D)),console.log("Palavra apagada, entradas restantes:",D.length),D}),M(null)},G=()=>{x(""),T(""),p(!1)},N=E=>{E.target===E.currentTarget&&n()};return I.useEffect(()=>{const E=()=>M(null);if(C)return document.addEventListener("click",E),()=>document.removeEventListener("click",E)},[C]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50 p-4",onClick:N,children:[h.jsxs("div",{className:"bg-gray-100 rounded-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden shadow-2xl flex flex-col",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dicionário"}),h.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-gray-600"})})]}),h.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[h.jsxs("div",{className:"w-80 bg-gray-200 flex flex-col",children:[h.jsx("div",{className:"p-4 border-b border-gray-300",children:h.jsxs("div",{className:"relative",children:[h.jsx(_c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx(tr,{ref:O,value:e,onChange:E=>t(E.target.value),placeholder:"Pesquise uma palavra",className:"pl-10 h-10 text-sm border-gray-300 rounded-lg focus:border-blue-500 focus:ring-0 bg-white"})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto max-h-[300px] dictionary-scroll",children:F.length>0?h.jsx("div",{className:"p-2",children:F.map(E=>h.jsxs("div",{className:`relative group rounded-lg mb-1 transition-colors ${a?.id===E.id?"bg-white shadow-sm":"hover:bg-gray-300"}`,children:[h.jsxs("button",{onClick:()=>c(E),className:"w-full text-left p-3 pr-8",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[E.isPinned&&h.jsx(Ed,{className:"w-3 h-3 text-blue-600"}),h.jsx("span",{className:"font-medium text-gray-900",children:E.word})]}),h.jsx("div",{className:"text-xs text-gray-600 mt-1",children:E.definition.length>50?`${E.definition.substring(0,50)}...`:E.definition})]}),h.jsx("button",{onClick:k=>{k.stopPropagation(),M({x:k.clientX,y:k.clientY,entryId:E.id})},className:"absolute top-2 right-2 p-1 opacity-0 group-hover:opacity-100 hover:bg-gray-400 rounded transition-opacity",children:h.jsx(Xu,{className:"w-3 h-3 text-gray-600"})})]},E.id))}):h.jsx("div",{className:"p-8 text-center text-gray-500",children:e?"Nenhuma palavra encontrada":"Nenhuma palavra no dicionário"})}),h.jsx("div",{className:"p-4 border-t border-gray-300",children:h.jsxs(In,{onClick:()=>p(!0),className:"w-full h-10 bg-gray-600 hover:bg-gray-700 text-white rounded-lg flex items-center justify-center space-x-2",children:[h.jsx(Yl,{className:"w-4 h-4"}),h.jsx("span",{children:"Adicionar Palavra"})]})})]}),h.jsx("div",{className:"flex-1 bg-white p-6 overflow-y-auto",children:a?h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:a.word}),h.jsx("div",{className:"text-gray-700 leading-relaxed",children:a.definition})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-4xl mb-4",children:"📚"}),h.jsx("p",{children:"Selecione uma palavra para ver sua definição"})]})})})]})]}),C&&h.jsxs("div",{className:"fixed bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-70",style:{left:C.x,top:C.y,transform:"translate(-50%, -10px)"},onClick:E=>E.stopPropagation(),children:[s.find(E=>E.id===C.entryId)?.isPinned?h.jsxs("button",{onClick:()=>$(C.entryId),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center space-x-2",children:[h.jsx(dE,{className:"w-4 h-4"}),h.jsx("span",{children:"Desfixar"})]}):h.jsxs("button",{onClick:()=>$(C.entryId),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center space-x-2",children:[h.jsx(Ed,{className:"w-4 h-4"}),h.jsx("span",{children:"Fixar"})]}),h.jsxs("button",{onClick:()=>J(C.entryId),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center space-x-2 text-red-600",children:[h.jsx(mr,{className:"w-4 h-4"}),h.jsx("span",{children:"Apagar"})]})]})]}),f&&h.jsx("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-60 p-4",onClick:E=>{E.target===E.currentTarget&&G()},children:h.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[h.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Adicionar Nova Palavra"}),h.jsx("button",{onClick:G,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-4 h-4 text-gray-600"})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newWord",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Palavra"}),h.jsx(tr,{id:"newWord",value:g,onChange:E=>x(E.target.value),placeholder:"Digite a palavra...",className:"w-full",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newDefinition",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Definição"}),h.jsx("textarea",{id:"newDefinition",value:_,onChange:E=>T(E.target.value),placeholder:"Digite a definição...",className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),h.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[h.jsx(In,{variant:"outline",onClick:G,className:"px-4 py-2",children:"Cancelar"}),h.jsx(In,{onClick:U,className:"px-4 py-2 bg-gray-800 hover:bg-gray-900 text-white",disabled:!g.trim()||!_.trim(),children:"Adicionar"})]})]})]})})]})}var Ec=Ox();const h2=jx(Ec);function lx(n,[e,t]){return Math.min(t,Math.max(e,n))}function mt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function f2(n,e){const t=I.createContext(e),s=a=>{const{children:c,...f}=a,p=I.useMemo(()=>f,Object.values(f));return h.jsx(t.Provider,{value:p,children:c})};s.displayName=n+"Provider";function o(a){const c=I.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[s,o]}function Kd(n,e=[]){let t=[];function s(a,c){const f=I.createContext(c),p=t.length;t=[...t,c];const g=_=>{const{scope:T,children:C,...M}=_,b=T?.[n]?.[p]||f,R=I.useMemo(()=>M,Object.values(M));return h.jsx(b.Provider,{value:R,children:C})};g.displayName=a+"Provider";function x(_,T){const C=T?.[n]?.[p]||f,M=I.useContext(C);if(M)return M;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[g,x]}const o=()=>{const a=t.map(c=>I.createContext(c));return function(f){const p=f?.[n]||a;return I.useMemo(()=>({[`__scope${n}`]:{...f,[n]:p}}),[f,p])}};return o.scopeName=n,[s,p2(o,...e)]}function p2(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=s.reduce((f,{useScope:p,scopeName:g})=>{const _=p(a)[`__scope${g}`];return{...f,..._}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function m2(n){const e=n+"CollectionProvider",[t,s]=Kd(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:R,children:O}=b,F=di.useRef(null),U=di.useRef(new Map).current;return h.jsx(o,{scope:R,itemMap:U,collectionRef:F,children:O})};c.displayName=e;const f=n+"CollectionSlot",p=Fa(f),g=di.forwardRef((b,R)=>{const{scope:O,children:F}=b,U=a(f,O),$=Ct(R,U.collectionRef);return h.jsx(p,{ref:$,children:F})});g.displayName=f;const x=n+"CollectionItemSlot",_="data-radix-collection-item",T=Fa(x),C=di.forwardRef((b,R)=>{const{scope:O,children:F,...U}=b,$=di.useRef(null),J=Ct(R,$),G=a(x,O);return di.useEffect(()=>(G.itemMap.set($,{ref:$,...U}),()=>void G.itemMap.delete($))),h.jsx(T,{[_]:"",ref:J,children:F})});C.displayName=x;function M(b){const R=a(n+"CollectionConsumer",b);return di.useCallback(()=>{const F=R.collectionRef.current;if(!F)return[];const U=Array.from(F.querySelectorAll(`[${_}]`));return Array.from(R.itemMap.values()).sort((G,N)=>U.indexOf(G.ref.current)-U.indexOf(N.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:c,Slot:g,ItemSlot:C},M,s]}var g2=I.createContext(void 0);function y2(n){const e=I.useContext(g2);return n||e||"ltr"}var v2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=v2.reduce((n,e)=>{const t=Fa(`Primitive.${e}`),s=I.forwardRef((o,a)=>{const{asChild:c,...f}=o,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(p,{...f,ref:a})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function x2(n,e){n&&Ec.flushSync(()=>n.dispatchEvent(e))}function Eo(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>e.current?.(...t),[])}function w2(n,e=globalThis?.document){const t=Eo(n);I.useEffect(()=>{const s=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var _2="DismissableLayer",zp="dismissableLayer.update",E2="dismissableLayer.pointerDownOutside",S2="dismissableLayer.focusOutside",cx,IE=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gm=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:f,...p}=n,g=I.useContext(IE),[x,_]=I.useState(null),T=x?.ownerDocument??globalThis?.document,[,C]=I.useState({}),M=Ct(e,N=>_(N)),b=Array.from(g.layers),[R]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),O=b.indexOf(R),F=x?b.indexOf(x):-1,U=g.layersWithOutsidePointerEventsDisabled.size>0,$=F>=O,J=I2(N=>{const E=N.target,k=[...g.branches].some(D=>D.contains(E));!$||k||(o?.(N),c?.(N),N.defaultPrevented||f?.())},T),G=C2(N=>{const E=N.target;[...g.branches].some(D=>D.contains(E))||(a?.(N),c?.(N),N.defaultPrevented||f?.())},T);return w2(N=>{F===g.layers.size-1&&(s?.(N),!N.defaultPrevented&&f&&(N.preventDefault(),f()))},T),I.useEffect(()=>{if(x)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(cx=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),ux(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=cx)}},[x,T,t,g]),I.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),ux())},[x,g]),I.useEffect(()=>{const N=()=>C({});return document.addEventListener(zp,N),()=>document.removeEventListener(zp,N)},[]),h.jsx(dt.div,{...p,ref:M,style:{pointerEvents:U?$?"auto":"none":void 0,...n.style},onFocusCapture:mt(n.onFocusCapture,G.onFocusCapture),onBlurCapture:mt(n.onBlurCapture,G.onBlurCapture),onPointerDownCapture:mt(n.onPointerDownCapture,J.onPointerDownCapture)})});Gm.displayName=_2;var T2="DismissableLayerBranch",b2=I.forwardRef((n,e)=>{const t=I.useContext(IE),s=I.useRef(null),o=Ct(e,s);return I.useEffect(()=>{const a=s.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),h.jsx(dt.div,{...n,ref:o})});b2.displayName=T2;function I2(n,e=globalThis?.document){const t=Eo(n),s=I.useRef(!1),o=I.useRef(()=>{});return I.useEffect(()=>{const a=f=>{if(f.target&&!s.current){let p=function(){CE(E2,t,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function C2(n,e=globalThis?.document){const t=Eo(n),s=I.useRef(!1);return I.useEffect(()=>{const o=a=>{a.target&&!s.current&&CE(S2,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ux(){const n=new CustomEvent(zp);document.dispatchEvent(n)}function CE(n,e,t,{discrete:s}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),s?x2(o,a):o.dispatchEvent(a)}var Gf=0;function NE(){I.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??dx()),document.body.insertAdjacentElement("beforeend",n[1]??dx()),Gf++,()=>{Gf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gf--}},[])}function dx(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Kf="focusScope.autoFocusOnMount",Qf="focusScope.autoFocusOnUnmount",hx={bubbles:!1,cancelable:!0},N2="FocusScope",Km=I.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[f,p]=I.useState(null),g=Eo(o),x=Eo(a),_=I.useRef(null),T=Ct(e,b=>p(b)),C=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(s){let b=function(U){if(C.paused||!f)return;const $=U.target;f.contains($)?_.current=$:hi(_.current,{select:!0})},R=function(U){if(C.paused||!f)return;const $=U.relatedTarget;$!==null&&(f.contains($)||hi(_.current,{select:!0}))},O=function(U){if(document.activeElement===document.body)for(const J of U)J.removedNodes.length>0&&hi(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",R);const F=new MutationObserver(O);return f&&F.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",R),F.disconnect()}}},[s,f,C.paused]),I.useEffect(()=>{if(f){px.add(C);const b=document.activeElement;if(!f.contains(b)){const O=new CustomEvent(Kf,hx);f.addEventListener(Kf,g),f.dispatchEvent(O),O.defaultPrevented||(k2(j2(kE(f)),{select:!0}),document.activeElement===b&&hi(f))}return()=>{f.removeEventListener(Kf,g),setTimeout(()=>{const O=new CustomEvent(Qf,hx);f.addEventListener(Qf,x),f.dispatchEvent(O),O.defaultPrevented||hi(b??document.body,{select:!0}),f.removeEventListener(Qf,x),px.remove(C)},0)}}},[f,g,x,C]);const M=I.useCallback(b=>{if(!t&&!s||C.paused)return;const R=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,O=document.activeElement;if(R&&O){const F=b.currentTarget,[U,$]=A2(F);U&&$?!b.shiftKey&&O===$?(b.preventDefault(),t&&hi(U,{select:!0})):b.shiftKey&&O===U&&(b.preventDefault(),t&&hi($,{select:!0})):O===F&&b.preventDefault()}},[t,s,C.paused]);return h.jsx(dt.div,{tabIndex:-1,...c,ref:T,onKeyDown:M})});Km.displayName=N2;function k2(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(hi(s,{select:e}),document.activeElement!==t)return}function A2(n){const e=kE(n),t=fx(e,n),s=fx(e.reverse(),n);return[t,s]}function kE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function fx(n,e){for(const t of n)if(!R2(t,{upTo:e}))return t}function R2(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function P2(n){return n instanceof HTMLInputElement&&"select"in n}function hi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&P2(n)&&e&&n.select()}}var px=D2();function D2(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=mx(n,e),n.unshift(e)},remove(e){n=mx(n,e),n[0]?.resume()}}}function mx(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function j2(n){return n.filter(e=>e.tagName!=="A")}var un=globalThis?.document?I.useLayoutEffect:()=>{},O2=eE[" useId ".trim().toString()]||(()=>{}),M2=0;function Na(n){const[e,t]=I.useState(O2());return un(()=>{t(s=>s??String(M2++))},[n]),n||(e?`radix-${e}`:"")}const V2=["top","right","bottom","left"],ki=Math.min,Ln=Math.max,Sd=Math.round,Ou=Math.floor,Zr=n=>({x:n,y:n}),L2={left:"right",right:"left",bottom:"top",top:"bottom"},F2={start:"end",end:"start"};function Bp(n,e,t){return Ln(n,ki(e,t))}function Ps(n,e){return typeof n=="function"?n(e):n}function Ds(n){return n.split("-")[0]}function Ya(n){return n.split("-")[1]}function Qm(n){return n==="x"?"y":"x"}function Ym(n){return n==="y"?"height":"width"}const U2=new Set(["top","bottom"]);function qr(n){return U2.has(Ds(n))?"y":"x"}function Xm(n){return Qm(qr(n))}function z2(n,e,t){t===void 0&&(t=!1);const s=Ya(n),o=Xm(n),a=Ym(o);let c=o==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Td(c)),[c,Td(c)]}function B2(n){const e=Td(n);return[$p(n),e,$p(e)]}function $p(n){return n.replace(/start|end/g,e=>F2[e])}const gx=["left","right"],yx=["right","left"],$2=["top","bottom"],H2=["bottom","top"];function W2(n,e,t){switch(n){case"top":case"bottom":return t?e?yx:gx:e?gx:yx;case"left":case"right":return e?$2:H2;default:return[]}}function q2(n,e,t,s){const o=Ya(n);let a=W2(Ds(n),t==="start",s);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map($p)))),a}function Td(n){return n.replace(/left|right|bottom|top/g,e=>L2[e])}function G2(n){return{top:0,right:0,bottom:0,left:0,...n}}function AE(n){return typeof n!="number"?G2(n):{top:n,right:n,bottom:n,left:n}}function bd(n){const{x:e,y:t,width:s,height:o}=n;return{width:s,height:o,top:t,left:e,right:e+s,bottom:t+o,x:e,y:t}}function vx(n,e,t){let{reference:s,floating:o}=n;const a=qr(e),c=Xm(e),f=Ym(c),p=Ds(e),g=a==="y",x=s.x+s.width/2-o.width/2,_=s.y+s.height/2-o.height/2,T=s[f]/2-o[f]/2;let C;switch(p){case"top":C={x,y:s.y-o.height};break;case"bottom":C={x,y:s.y+s.height};break;case"right":C={x:s.x+s.width,y:_};break;case"left":C={x:s.x-o.width,y:_};break;default:C={x:s.x,y:s.y}}switch(Ya(e)){case"start":C[c]-=T*(t&&g?-1:1);break;case"end":C[c]+=T*(t&&g?-1:1);break}return C}const K2=async(n,e,t)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,f=a.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:o}),{x,y:_}=vx(g,s,p),T=s,C={},M=0;for(let b=0;b<f.length;b++){const{name:R,fn:O}=f[b],{x:F,y:U,data:$,reset:J}=await O({x,y:_,initialPlacement:s,placement:T,strategy:o,middlewareData:C,rects:g,platform:c,elements:{reference:n,floating:e}});x=F??x,_=U??_,C={...C,[R]:{...C[R],...$}},J&&M<=50&&(M++,typeof J=="object"&&(J.placement&&(T=J.placement),J.rects&&(g=J.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):J.rects),{x,y:_}=vx(g,T,p)),b=-1)}return{x,y:_,placement:T,strategy:o,middlewareData:C}};async function lc(n,e){var t;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:c,elements:f,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:_="floating",altBoundary:T=!1,padding:C=0}=Ps(e,n),M=AE(C),R=f[T?_==="floating"?"reference":"floating":_],O=bd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(R)))==null||t?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:g,rootBoundary:x,strategy:p})),F=_==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),$=await(a.isElement==null?void 0:a.isElement(U))?await(a.getScale==null?void 0:a.getScale(U))||{x:1,y:1}:{x:1,y:1},J=bd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:F,offsetParent:U,strategy:p}):F);return{top:(O.top-J.top+M.top)/$.y,bottom:(J.bottom-O.bottom+M.bottom)/$.y,left:(O.left-J.left+M.left)/$.x,right:(J.right-O.right+M.right)/$.x}}const Q2=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:o,rects:a,platform:c,elements:f,middlewareData:p}=e,{element:g,padding:x=0}=Ps(n,e)||{};if(g==null)return{};const _=AE(x),T={x:t,y:s},C=Xm(o),M=Ym(C),b=await c.getDimensions(g),R=C==="y",O=R?"top":"left",F=R?"bottom":"right",U=R?"clientHeight":"clientWidth",$=a.reference[M]+a.reference[C]-T[C]-a.floating[M],J=T[C]-a.reference[C],G=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let N=G?G[U]:0;(!N||!await(c.isElement==null?void 0:c.isElement(G)))&&(N=f.floating[U]||a.floating[M]);const E=$/2-J/2,k=N/2-b[M]/2-1,D=ki(_[O],k),j=ki(_[F],k),L=D,P=N-b[M]-j,ge=N/2-b[M]/2+E,De=Bp(L,ge,P),we=!p.arrow&&Ya(o)!=null&&ge!==De&&a.reference[M]/2-(ge<L?D:j)-b[M]/2<0,xe=we?ge<L?ge-L:ge-P:0;return{[C]:T[C]+xe,data:{[C]:De,centerOffset:ge-De-xe,...we&&{alignmentOffset:xe}},reset:we}}}),Y2=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:o,middlewareData:a,rects:c,initialPlacement:f,platform:p,elements:g}=e,{mainAxis:x=!0,crossAxis:_=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:b=!0,...R}=Ps(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const O=Ds(o),F=qr(f),U=Ds(f)===f,$=await(p.isRTL==null?void 0:p.isRTL(g.floating)),J=T||(U||!b?[Td(f)]:B2(f)),G=M!=="none";!T&&G&&J.push(...q2(f,b,M,$));const N=[f,...J],E=await lc(e,R),k=[];let D=((s=a.flip)==null?void 0:s.overflows)||[];if(x&&k.push(E[O]),_){const ge=z2(o,c,$);k.push(E[ge[0]],E[ge[1]])}if(D=[...D,{placement:o,overflows:k}],!k.every(ge=>ge<=0)){var j,L;const ge=(((j=a.flip)==null?void 0:j.index)||0)+1,De=N[ge];if(De&&(!(_==="alignment"?F!==qr(De):!1)||D.every(q=>qr(q.placement)===F?q.overflows[0]>0:!0)))return{data:{index:ge,overflows:D},reset:{placement:De}};let we=(L=D.filter(xe=>xe.overflows[0]<=0).sort((xe,q)=>xe.overflows[1]-q.overflows[1])[0])==null?void 0:L.placement;if(!we)switch(C){case"bestFit":{var P;const xe=(P=D.filter(q=>{if(G){const he=qr(q.placement);return he===F||he==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(he=>he>0).reduce((he,fe)=>he+fe,0)]).sort((q,he)=>q[1]-he[1])[0])==null?void 0:P[0];xe&&(we=xe);break}case"initialPlacement":we=f;break}if(o!==we)return{reset:{placement:we}}}return{}}}};function xx(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function wx(n){return V2.some(e=>n[e]>=0)}const X2=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...o}=Ps(n,e);switch(s){case"referenceHidden":{const a=await lc(e,{...o,elementContext:"reference"}),c=xx(a,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:wx(c)}}}case"escaped":{const a=await lc(e,{...o,altBoundary:!0}),c=xx(a,t.floating);return{data:{escapedOffsets:c,escaped:wx(c)}}}default:return{}}}}},RE=new Set(["left","top"]);async function J2(n,e){const{placement:t,platform:s,elements:o}=n,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=Ds(t),f=Ya(t),p=qr(t)==="y",g=RE.has(c)?-1:1,x=a&&p?-1:1,_=Ps(e,n);let{mainAxis:T,crossAxis:C,alignmentAxis:M}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof M=="number"&&(C=f==="end"?M*-1:M),p?{x:C*x,y:T*g}:{x:T*g,y:C*x}}const Z2=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:o,y:a,placement:c,middlewareData:f}=e,p=await J2(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:c}}}}},eD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:f={fn:R=>{let{x:O,y:F}=R;return{x:O,y:F}}},...p}=Ps(n,e),g={x:t,y:s},x=await lc(e,p),_=qr(Ds(o)),T=Qm(_);let C=g[T],M=g[_];if(a){const R=T==="y"?"top":"left",O=T==="y"?"bottom":"right",F=C+x[R],U=C-x[O];C=Bp(F,C,U)}if(c){const R=_==="y"?"top":"left",O=_==="y"?"bottom":"right",F=M+x[R],U=M-x[O];M=Bp(F,M,U)}const b=f.fn({...e,[T]:C,[_]:M});return{...b,data:{x:b.x-t,y:b.y-s,enabled:{[T]:a,[_]:c}}}}}},tD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:o,rects:a,middlewareData:c}=e,{offset:f=0,mainAxis:p=!0,crossAxis:g=!0}=Ps(n,e),x={x:t,y:s},_=qr(o),T=Qm(_);let C=x[T],M=x[_];const b=Ps(f,e),R=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const U=T==="y"?"height":"width",$=a.reference[T]-a.floating[U]+R.mainAxis,J=a.reference[T]+a.reference[U]-R.mainAxis;C<$?C=$:C>J&&(C=J)}if(g){var O,F;const U=T==="y"?"width":"height",$=RE.has(Ds(o)),J=a.reference[_]-a.floating[U]+($&&((O=c.offset)==null?void 0:O[_])||0)+($?0:R.crossAxis),G=a.reference[_]+a.reference[U]+($?0:((F=c.offset)==null?void 0:F[_])||0)-($?R.crossAxis:0);M<J?M=J:M>G&&(M=G)}return{[T]:C,[_]:M}}}},nD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:o,rects:a,platform:c,elements:f}=e,{apply:p=()=>{},...g}=Ps(n,e),x=await lc(e,g),_=Ds(o),T=Ya(o),C=qr(o)==="y",{width:M,height:b}=a.floating;let R,O;_==="top"||_==="bottom"?(R=_,O=T===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(O=_,R=T==="end"?"top":"bottom");const F=b-x.top-x.bottom,U=M-x.left-x.right,$=ki(b-x[R],F),J=ki(M-x[O],U),G=!e.middlewareData.shift;let N=$,E=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(E=U),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(N=F),G&&!T){const D=Ln(x.left,0),j=Ln(x.right,0),L=Ln(x.top,0),P=Ln(x.bottom,0);C?E=M-2*(D!==0||j!==0?D+j:Ln(x.left,x.right)):N=b-2*(L!==0||P!==0?L+P:Ln(x.top,x.bottom))}await p({...e,availableWidth:E,availableHeight:N});const k=await c.getDimensions(f.floating);return M!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function Xa(n){return PE(n)?(n.nodeName||"").toLowerCase():"#document"}function zn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ss(n){var e;return(e=(PE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function PE(n){return Qd()?n instanceof Node||n instanceof zn(n).Node:!1}function gr(n){return Qd()?n instanceof Element||n instanceof zn(n).Element:!1}function rs(n){return Qd()?n instanceof HTMLElement||n instanceof zn(n).HTMLElement:!1}function _x(n){return!Qd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof zn(n).ShadowRoot}const rD=new Set(["inline","contents"]);function Sc(n){const{overflow:e,overflowX:t,overflowY:s,display:o}=yr(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!rD.has(o)}const sD=new Set(["table","td","th"]);function iD(n){return sD.has(Xa(n))}const oD=[":popover-open",":modal"];function Yd(n){return oD.some(e=>{try{return n.matches(e)}catch{return!1}})}const aD=["transform","translate","scale","rotate","perspective"],lD=["transform","translate","scale","rotate","perspective","filter"],cD=["paint","layout","strict","content"];function Jm(n){const e=Zm(),t=gr(n)?yr(n):n;return aD.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||lD.some(s=>(t.willChange||"").includes(s))||cD.some(s=>(t.contain||"").includes(s))}function uD(n){let e=Ai(n);for(;rs(e)&&!Ua(e);){if(Jm(e))return e;if(Yd(e))return null;e=Ai(e)}return null}function Zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dD=new Set(["html","body","#document"]);function Ua(n){return dD.has(Xa(n))}function yr(n){return zn(n).getComputedStyle(n)}function Xd(n){return gr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ai(n){if(Xa(n)==="html")return n;const e=n.assignedSlot||n.parentNode||_x(n)&&n.host||ss(n);return _x(e)?e.host:e}function DE(n){const e=Ai(n);return Ua(e)?n.ownerDocument?n.ownerDocument.body:n.body:rs(e)&&Sc(e)?e:DE(e)}function cc(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=DE(n),a=o===((s=n.ownerDocument)==null?void 0:s.body),c=zn(o);if(a){const f=Hp(c);return e.concat(c,c.visualViewport||[],Sc(o)?o:[],f&&t?cc(f):[])}return e.concat(o,cc(o,[],t))}function Hp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function jE(n){const e=yr(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=rs(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:s,f=Sd(t)!==a||Sd(s)!==c;return f&&(t=a,s=c),{width:t,height:s,$:f}}function eg(n){return gr(n)?n:n.contextElement}function ka(n){const e=eg(n);if(!rs(e))return Zr(1);const t=e.getBoundingClientRect(),{width:s,height:o,$:a}=jE(e);let c=(a?Sd(t.width):t.width)/s,f=(a?Sd(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const hD=Zr(0);function OE(n){const e=zn(n);return!Zm()||!e.visualViewport?hD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==zn(n)?!1:e}function So(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=eg(n);let c=Zr(1);e&&(s?gr(s)&&(c=ka(s)):c=ka(n));const f=fD(a,t,s)?OE(a):Zr(0);let p=(o.left+f.x)/c.x,g=(o.top+f.y)/c.y,x=o.width/c.x,_=o.height/c.y;if(a){const T=zn(a),C=s&&gr(s)?zn(s):s;let M=T,b=Hp(M);for(;b&&s&&C!==M;){const R=ka(b),O=b.getBoundingClientRect(),F=yr(b),U=O.left+(b.clientLeft+parseFloat(F.paddingLeft))*R.x,$=O.top+(b.clientTop+parseFloat(F.paddingTop))*R.y;p*=R.x,g*=R.y,x*=R.x,_*=R.y,p+=U,g+=$,M=zn(b),b=Hp(M)}}return bd({width:x,height:_,x:p,y:g})}function Jd(n,e){const t=Xd(n).scrollLeft;return e?e.left+t:So(ss(n)).left+t}function ME(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-Jd(n,t),o=t.top+e.scrollTop;return{x:s,y:o}}function pD(n){let{elements:e,rect:t,offsetParent:s,strategy:o}=n;const a=o==="fixed",c=ss(s),f=e?Yd(e.floating):!1;if(s===c||f&&a)return t;let p={scrollLeft:0,scrollTop:0},g=Zr(1);const x=Zr(0),_=rs(s);if((_||!_&&!a)&&((Xa(s)!=="body"||Sc(c))&&(p=Xd(s)),rs(s))){const C=So(s);g=ka(s),x.x=C.x+s.clientLeft,x.y=C.y+s.clientTop}const T=c&&!_&&!a?ME(c,p):Zr(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+x.x+T.x,y:t.y*g.y-p.scrollTop*g.y+x.y+T.y}}function mD(n){return Array.from(n.getClientRects())}function gD(n){const e=ss(n),t=Xd(n),s=n.ownerDocument.body,o=Ln(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Ln(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-t.scrollLeft+Jd(n);const f=-t.scrollTop;return yr(s).direction==="rtl"&&(c+=Ln(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:c,y:f}}const Ex=25;function yD(n,e){const t=zn(n),s=ss(n),o=t.visualViewport;let a=s.clientWidth,c=s.clientHeight,f=0,p=0;if(o){a=o.width,c=o.height;const x=Zm();(!x||x&&e==="fixed")&&(f=o.offsetLeft,p=o.offsetTop)}const g=Jd(s);if(g<=0){const x=s.ownerDocument,_=x.body,T=getComputedStyle(_),C=x.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,M=Math.abs(s.clientWidth-_.clientWidth-C);M<=Ex&&(a-=M)}else g<=Ex&&(a+=g);return{width:a,height:c,x:f,y:p}}const vD=new Set(["absolute","fixed"]);function xD(n,e){const t=So(n,!0,e==="fixed"),s=t.top+n.clientTop,o=t.left+n.clientLeft,a=rs(n)?ka(n):Zr(1),c=n.clientWidth*a.x,f=n.clientHeight*a.y,p=o*a.x,g=s*a.y;return{width:c,height:f,x:p,y:g}}function Sx(n,e,t){let s;if(e==="viewport")s=yD(n,t);else if(e==="document")s=gD(ss(n));else if(gr(e))s=xD(e,t);else{const o=OE(n);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return bd(s)}function VE(n,e){const t=Ai(n);return t===e||!gr(t)||Ua(t)?!1:yr(t).position==="fixed"||VE(t,e)}function wD(n,e){const t=e.get(n);if(t)return t;let s=cc(n,[],!1).filter(f=>gr(f)&&Xa(f)!=="body"),o=null;const a=yr(n).position==="fixed";let c=a?Ai(n):n;for(;gr(c)&&!Ua(c);){const f=yr(c),p=Jm(c);!p&&f.position==="fixed"&&(o=null),(a?!p&&!o:!p&&f.position==="static"&&!!o&&vD.has(o.position)||Sc(c)&&!p&&VE(n,c))?s=s.filter(x=>x!==c):o=f,c=Ai(c)}return e.set(n,s),s}function _D(n){let{element:e,boundary:t,rootBoundary:s,strategy:o}=n;const c=[...t==="clippingAncestors"?Yd(e)?[]:wD(e,this._c):[].concat(t),s],f=c[0],p=c.reduce((g,x)=>{const _=Sx(e,x,o);return g.top=Ln(_.top,g.top),g.right=ki(_.right,g.right),g.bottom=ki(_.bottom,g.bottom),g.left=Ln(_.left,g.left),g},Sx(e,f,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function ED(n){const{width:e,height:t}=jE(n);return{width:e,height:t}}function SD(n,e,t){const s=rs(e),o=ss(e),a=t==="fixed",c=So(n,!0,a,e);let f={scrollLeft:0,scrollTop:0};const p=Zr(0);function g(){p.x=Jd(o)}if(s||!s&&!a)if((Xa(e)!=="body"||Sc(o))&&(f=Xd(e)),s){const C=So(e,!0,a,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else o&&g();a&&!s&&o&&g();const x=o&&!s&&!a?ME(o,f):Zr(0),_=c.left+f.scrollLeft-p.x-x.x,T=c.top+f.scrollTop-p.y-x.y;return{x:_,y:T,width:c.width,height:c.height}}function Yf(n){return yr(n).position==="static"}function Tx(n,e){if(!rs(n)||yr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ss(n)===t&&(t=t.ownerDocument.body),t}function LE(n,e){const t=zn(n);if(Yd(n))return t;if(!rs(n)){let o=Ai(n);for(;o&&!Ua(o);){if(gr(o)&&!Yf(o))return o;o=Ai(o)}return t}let s=Tx(n,e);for(;s&&iD(s)&&Yf(s);)s=Tx(s,e);return s&&Ua(s)&&Yf(s)&&!Jm(s)?t:s||uD(n)||t}const TD=async function(n){const e=this.getOffsetParent||LE,t=this.getDimensions,s=await t(n.floating);return{reference:SD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function bD(n){return yr(n).direction==="rtl"}const ID={convertOffsetParentRelativeRectToViewportRelativeRect:pD,getDocumentElement:ss,getClippingRect:_D,getOffsetParent:LE,getElementRects:TD,getClientRects:mD,getDimensions:ED,getScale:ka,isElement:gr,isRTL:bD};function FE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function CD(n,e){let t=null,s;const o=ss(n);function a(){var f;clearTimeout(s),(f=t)==null||f.disconnect(),t=null}function c(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),a();const g=n.getBoundingClientRect(),{left:x,top:_,width:T,height:C}=g;if(f||e(),!T||!C)return;const M=Ou(_),b=Ou(o.clientWidth-(x+T)),R=Ou(o.clientHeight-(_+C)),O=Ou(x),U={rootMargin:-M+"px "+-b+"px "+-R+"px "+-O+"px",threshold:Ln(0,ki(1,p))||1};let $=!0;function J(G){const N=G[0].intersectionRatio;if(N!==p){if(!$)return c();N?c(!1,N):s=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!FE(g,n.getBoundingClientRect())&&c(),$=!1}try{t=new IntersectionObserver(J,{...U,root:o.ownerDocument})}catch{t=new IntersectionObserver(J,U)}t.observe(n)}return c(!0),a}function ND(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,g=eg(n),x=o||a?[...g?cc(g):[],...cc(e)]:[];x.forEach(O=>{o&&O.addEventListener("scroll",t,{passive:!0}),a&&O.addEventListener("resize",t)});const _=g&&f?CD(g,t):null;let T=-1,C=null;c&&(C=new ResizeObserver(O=>{let[F]=O;F&&F.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var U;(U=C)==null||U.observe(e)})),t()}),g&&!p&&C.observe(g),C.observe(e));let M,b=p?So(n):null;p&&R();function R(){const O=So(n);b&&!FE(b,O)&&t(),b=O,M=requestAnimationFrame(R)}return t(),()=>{var O;x.forEach(F=>{o&&F.removeEventListener("scroll",t),a&&F.removeEventListener("resize",t)}),_?.(),(O=C)==null||O.disconnect(),C=null,p&&cancelAnimationFrame(M)}}const kD=Z2,AD=eD,RD=Y2,PD=nD,DD=X2,bx=Q2,jD=tD,OD=(n,e,t)=>{const s=new Map,o={platform:ID,...t},a={...o.platform,_c:s};return K2(n,e,{...o,platform:a})};var MD=typeof document<"u",VD=function(){},Ju=MD?I.useLayoutEffect:VD;function Id(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Id(n[s],e[s]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=t;s--!==0;){const a=o[s];if(!(a==="_owner"&&n.$$typeof)&&!Id(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function UE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ix(n,e){const t=UE(n);return Math.round(e*t)/t}function Xf(n){const e=I.useRef(n);return Ju(()=>{e.current=n}),e}function LD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:c}={},transform:f=!0,whileElementsMounted:p,open:g}=n,[x,_]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,C]=I.useState(s);Id(T,s)||C(s);const[M,b]=I.useState(null),[R,O]=I.useState(null),F=I.useCallback(q=>{q!==G.current&&(G.current=q,b(q))},[]),U=I.useCallback(q=>{q!==N.current&&(N.current=q,O(q))},[]),$=a||M,J=c||R,G=I.useRef(null),N=I.useRef(null),E=I.useRef(x),k=p!=null,D=Xf(p),j=Xf(o),L=Xf(g),P=I.useCallback(()=>{if(!G.current||!N.current)return;const q={placement:e,strategy:t,middleware:T};j.current&&(q.platform=j.current),OD(G.current,N.current,q).then(he=>{const fe={...he,isPositioned:L.current!==!1};ge.current&&!Id(E.current,fe)&&(E.current=fe,Ec.flushSync(()=>{_(fe)}))})},[T,e,t,j,L]);Ju(()=>{g===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,_(q=>({...q,isPositioned:!1})))},[g]);const ge=I.useRef(!1);Ju(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Ju(()=>{if($&&(G.current=$),J&&(N.current=J),$&&J){if(D.current)return D.current($,J,P);P()}},[$,J,P,D,k]);const De=I.useMemo(()=>({reference:G,floating:N,setReference:F,setFloating:U}),[F,U]),we=I.useMemo(()=>({reference:$,floating:J}),[$,J]),xe=I.useMemo(()=>{const q={position:t,left:0,top:0};if(!we.floating)return q;const he=Ix(we.floating,x.x),fe=Ix(we.floating,x.y);return f?{...q,transform:"translate("+he+"px, "+fe+"px)",...UE(we.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:he,top:fe}},[t,f,we.floating,x.x,x.y]);return I.useMemo(()=>({...x,update:P,refs:De,elements:we,floatingStyles:xe}),[x,P,De,we,xe])}const FD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:o}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?bx({element:s.current,padding:o}).fn(t):{}:s?bx({element:s,padding:o}).fn(t):{}}}},UD=(n,e)=>({...kD(n),options:[n,e]}),zD=(n,e)=>({...AD(n),options:[n,e]}),BD=(n,e)=>({...jD(n),options:[n,e]}),$D=(n,e)=>({...RD(n),options:[n,e]}),HD=(n,e)=>({...PD(n),options:[n,e]}),WD=(n,e)=>({...DD(n),options:[n,e]}),qD=(n,e)=>({...FD(n),options:[n,e]});var GD="Arrow",zE=I.forwardRef((n,e)=>{const{children:t,width:s=10,height:o=5,...a}=n;return h.jsx(dt.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});zE.displayName=GD;var KD=zE;function QD(n){const[e,t]=I.useState(void 0);return un(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,f;if("borderBoxSize"in a){const p=a.borderBoxSize,g=Array.isArray(p)?p[0]:p;c=g.inlineSize,f=g.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var tg="Popper",[BE,$E]=Kd(tg),[YD,HE]=BE(tg),WE=n=>{const{__scopePopper:e,children:t}=n,[s,o]=I.useState(null);return h.jsx(YD,{scope:e,anchor:s,onAnchorChange:o,children:t})};WE.displayName=tg;var qE="PopperAnchor",GE=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...o}=n,a=HE(qE,t),c=I.useRef(null),f=Ct(e,c),p=I.useRef(null);return I.useEffect(()=>{const g=p.current;p.current=s?.current||c.current,g!==p.current&&a.onAnchorChange(p.current)}),s?null:h.jsx(dt.div,{...o,ref:f})});GE.displayName=qE;var ng="PopperContent",[XD,JD]=BE(ng),KE=I.forwardRef((n,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:_="partial",hideWhenDetached:T=!1,updatePositionStrategy:C="optimized",onPlaced:M,...b}=n,R=HE(ng,t),[O,F]=I.useState(null),U=Ct(e,z=>F(z)),[$,J]=I.useState(null),G=QD($),N=G?.width??0,E=G?.height??0,k=s+(a!=="center"?"-"+a:""),D=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},j=Array.isArray(g)?g:[g],L=j.length>0,P={padding:D,boundary:j.filter(ej),altBoundary:L},{refs:ge,floatingStyles:De,placement:we,isPositioned:xe,middlewareData:q}=LD({strategy:"fixed",placement:k,whileElementsMounted:(...z)=>ND(...z,{animationFrame:C==="always"}),elements:{reference:R.anchor},middleware:[UD({mainAxis:o+E,alignmentAxis:c}),p&&zD({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?BD():void 0,...P}),p&&$D({...P}),HD({...P,apply:({elements:z,rects:Z,availableWidth:ne,availableHeight:se})=>{const{width:ue,height:Oe}=Z.reference,Qe=z.floating.style;Qe.setProperty("--radix-popper-available-width",`${ne}px`),Qe.setProperty("--radix-popper-available-height",`${se}px`),Qe.setProperty("--radix-popper-anchor-width",`${ue}px`),Qe.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),$&&qD({element:$,padding:f}),tj({arrowWidth:N,arrowHeight:E}),T&&WD({strategy:"referenceHidden",...P})]}),[he,fe]=XE(we),H=Eo(M);un(()=>{xe&&H?.()},[xe,H]);const re=q.arrow?.x,_e=q.arrow?.y,ve=q.arrow?.centerOffset!==0,[Pe,Me]=I.useState();return un(()=>{O&&Me(window.getComputedStyle(O).zIndex)},[O]),h.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...De,transform:xe?De.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(XD,{scope:t,placedSide:he,onArrowChange:J,arrowX:re,arrowY:_e,shouldHideArrow:ve,children:h.jsx(dt.div,{"data-side":he,"data-align":fe,...b,ref:U,style:{...b.style,animation:xe?void 0:"none"}})})})});KE.displayName=ng;var QE="PopperArrow",ZD={top:"bottom",right:"left",bottom:"top",left:"right"},YE=I.forwardRef(function(e,t){const{__scopePopper:s,...o}=e,a=JD(QE,s),c=ZD[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(KD,{...o,ref:t,style:{...o.style,display:"block"}})})});YE.displayName=QE;function ej(n){return n!==null}var tj=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:s,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,f=c?0:n.arrowWidth,p=c?0:n.arrowHeight,[g,x]=XE(t),_={start:"0%",center:"50%",end:"100%"}[x],T=(o.arrow?.x??0)+f/2,C=(o.arrow?.y??0)+p/2;let M="",b="";return g==="bottom"?(M=c?_:`${T}px`,b=`${-p}px`):g==="top"?(M=c?_:`${T}px`,b=`${s.floating.height+p}px`):g==="right"?(M=`${-p}px`,b=c?_:`${C}px`):g==="left"&&(M=`${s.floating.width+p}px`,b=c?_:`${C}px`),{data:{x:M,y:b}}}});function XE(n){const[e,t="center"]=n.split("-");return[e,t]}var nj=WE,rj=GE,sj=KE,ij=YE,oj="Portal",rg=I.forwardRef((n,e)=>{const{container:t,...s}=n,[o,a]=I.useState(!1);un(()=>a(!0),[]);const c=t||o&&globalThis?.document?.body;return c?h2.createPortal(h.jsx(dt.div,{...s,ref:e}),c):null});rg.displayName=oj;var aj=eE[" useInsertionEffect ".trim().toString()]||un;function Wp({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[o,a,c]=lj({defaultProp:e,onChange:t}),f=n!==void 0,p=f?n:o;{const x=I.useRef(n!==void 0);I.useEffect(()=>{const _=x.current;_!==f&&console.warn(`${s} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,s])}const g=I.useCallback(x=>{if(f){const _=cj(x)?x(n):x;_!==n&&c.current?.(_)}else a(x)},[f,n,a,c]);return[p,g]}function lj({defaultProp:n,onChange:e}){const[t,s]=I.useState(n),o=I.useRef(t),a=I.useRef(e);return aj(()=>{a.current=e},[e]),I.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,s,a]}function cj(n){return typeof n=="function"}function uj(n){const e=I.useRef({value:n,previous:n});return I.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var JE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dj="VisuallyHidden",hj=I.forwardRef((n,e)=>h.jsx(dt.span,{...n,ref:e,style:{...JE,...n.style}}));hj.displayName=dj;var fj=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ga=new WeakMap,Mu=new WeakMap,Vu={},Jf=0,ZE=function(n){return n&&(n.host||ZE(n.parentNode))},pj=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=ZE(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},mj=function(n,e,t,s){var o=pj(e,Array.isArray(n)?n:[n]);Vu[t]||(Vu[t]=new WeakMap);var a=Vu[t],c=[],f=new Set,p=new Set(o),g=function(_){!_||f.has(_)||(f.add(_),g(_.parentNode))};o.forEach(g);var x=function(_){!_||p.has(_)||Array.prototype.forEach.call(_.children,function(T){if(f.has(T))x(T);else try{var C=T.getAttribute(s),M=C!==null&&C!=="false",b=(ga.get(T)||0)+1,R=(a.get(T)||0)+1;ga.set(T,b),a.set(T,R),c.push(T),b===1&&M&&Mu.set(T,!0),R===1&&T.setAttribute(t,"true"),M||T.setAttribute(s,"true")}catch(O){console.error("aria-hidden: cannot operate on ",T,O)}})};return x(e),f.clear(),Jf++,function(){c.forEach(function(_){var T=ga.get(_)-1,C=a.get(_)-1;ga.set(_,T),a.set(_,C),T||(Mu.has(_)||_.removeAttribute(s),Mu.delete(_)),C||_.removeAttribute(t)}),Jf--,Jf||(ga=new WeakMap,ga=new WeakMap,Mu=new WeakMap,Vu={})}},e1=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),o=fj(n);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),mj(s,o,t,"aria-hidden")):function(){return null}},Wr=function(){return Wr=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Wr.apply(this,arguments)};function t1(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function gj(n,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return n.concat(a||Array.prototype.slice.call(e))}var Zu="right-scroll-bar-position",ed="width-before-scroll-bar",yj="with-scroll-bars-hidden",vj="--removed-body-scroll-bar-size";function Zf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function xj(n,e){var t=I.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var o=t.value;o!==s&&(t.value=s,t.callback(s,o))}}}})[0];return t.callback=e,t.facade}var wj=typeof window<"u"?I.useLayoutEffect:I.useEffect,Cx=new WeakMap;function _j(n,e){var t=xj(null,function(s){return n.forEach(function(o){return Zf(o,s)})});return wj(function(){var s=Cx.get(t);if(s){var o=new Set(s),a=new Set(n),c=t.current;o.forEach(function(f){a.has(f)||Zf(f,null)}),a.forEach(function(f){o.has(f)||Zf(f,c)})}Cx.set(t,n)},[n]),t}function Ej(n){return n}function Sj(n,e){e===void 0&&(e=Ej);var t=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,s);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(a){for(s=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(f){return a(f)},filter:function(){return t}}},assignMedium:function(a){s=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(a),c=t}var p=function(){var x=c;c=[],x.forEach(a)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(x){c.push(x),g()},filter:function(x){return c=c.filter(x),t}}}};return o}function Tj(n){n===void 0&&(n={});var e=Sj(null);return e.options=Wr({async:!0,ssr:!1},n),e}var n1=function(n){var e=n.sideCar,t=t1(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return I.createElement(s,Wr({},t))};n1.isSideCarExport=!0;function bj(n,e){return n.useMedium(e),n1}var r1=Tj(),ep=function(){},Zd=I.forwardRef(function(n,e){var t=I.useRef(null),s=I.useState({onScrollCapture:ep,onWheelCapture:ep,onTouchMoveCapture:ep}),o=s[0],a=s[1],c=n.forwardProps,f=n.children,p=n.className,g=n.removeScrollBar,x=n.enabled,_=n.shards,T=n.sideCar,C=n.noRelative,M=n.noIsolation,b=n.inert,R=n.allowPinchZoom,O=n.as,F=O===void 0?"div":O,U=n.gapMode,$=t1(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=T,G=_j([t,e]),N=Wr(Wr({},$),o);return I.createElement(I.Fragment,null,x&&I.createElement(J,{sideCar:r1,removeScrollBar:g,shards:_,noRelative:C,noIsolation:M,inert:b,setCallbacks:a,allowPinchZoom:!!R,lockRef:t,gapMode:U}),c?I.cloneElement(I.Children.only(f),Wr(Wr({},N),{ref:G})):I.createElement(F,Wr({},N,{className:p,ref:G}),f))});Zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zd.classNames={fullWidth:ed,zeroRight:Zu};var Ij=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cj(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Ij();return e&&n.setAttribute("nonce",e),n}function Nj(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function kj(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Aj=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Cj())&&(Nj(e,t),kj(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Rj=function(){var n=Aj();return function(e,t){I.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},s1=function(){var n=Rj(),e=function(t){var s=t.styles,o=t.dynamic;return n(s,o),null};return e},Pj={left:0,top:0,right:0,gap:0},tp=function(n){return parseInt(n||"",10)||0},Dj=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[tp(t),tp(s),tp(o)]},jj=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Pj;var e=Dj(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},Oj=s1(),Aa="data-scroll-locked",Mj=function(n,e,t,s){var o=n.left,a=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(yj,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zu,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(ed,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ed," .").concat(ed,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(vj,": ").concat(f,`px;
  }
`)},Nx=function(){var n=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(n)?n:0},Vj=function(){I.useEffect(function(){return document.body.setAttribute(Aa,(Nx()+1).toString()),function(){var n=Nx()-1;n<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,n.toString())}},[])},Lj=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,o=s===void 0?"margin":s;Vj();var a=I.useMemo(function(){return jj(o)},[o]);return I.createElement(Oj,{styles:Mj(a,!e,o,t?"":"!important")})},qp=!1;if(typeof window<"u")try{var Lu=Object.defineProperty({},"passive",{get:function(){return qp=!0,!0}});window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{qp=!1}var ya=qp?{passive:!1}:!1,Fj=function(n){return n.tagName==="TEXTAREA"},i1=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Fj(n)&&t[e]==="visible")},Uj=function(n){return i1(n,"overflowY")},zj=function(n){return i1(n,"overflowX")},kx=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=o1(n,s);if(o){var a=a1(n,s),c=a[1],f=a[2];if(c>f)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},Bj=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},$j=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},o1=function(n,e){return n==="v"?Uj(e):zj(e)},a1=function(n,e){return n==="v"?Bj(e):$j(e)},Hj=function(n,e){return n==="h"&&e==="rtl"?-1:1},Wj=function(n,e,t,s,o){var a=Hj(n,window.getComputedStyle(e).direction),c=a*s,f=t.target,p=e.contains(f),g=!1,x=c>0,_=0,T=0;do{if(!f)break;var C=a1(n,f),M=C[0],b=C[1],R=C[2],O=b-R-a*M;(M||O)&&o1(n,f)&&(_+=O,T+=M);var F=f.parentNode;f=F&&F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?F.host:F}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(x&&Math.abs(_)<1||!x&&Math.abs(T)<1)&&(g=!0),g},Fu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Ax=function(n){return[n.deltaX,n.deltaY]},Rx=function(n){return n&&"current"in n?n.current:n},qj=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Gj=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Kj=0,va=[];function Qj(n){var e=I.useRef([]),t=I.useRef([0,0]),s=I.useRef(),o=I.useState(Kj++)[0],a=I.useState(s1)[0],c=I.useRef(n);I.useEffect(function(){c.current=n},[n]),I.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var b=gj([n.lockRef.current],(n.shards||[]).map(Rx),!0).filter(Boolean);return b.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var f=I.useCallback(function(b,R){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var O=Fu(b),F=t.current,U="deltaX"in b?b.deltaX:F[0]-O[0],$="deltaY"in b?b.deltaY:F[1]-O[1],J,G=b.target,N=Math.abs(U)>Math.abs($)?"h":"v";if("touches"in b&&N==="h"&&G.type==="range")return!1;var E=kx(N,G);if(!E)return!0;if(E?J=N:(J=N==="v"?"h":"v",E=kx(N,G)),!E)return!1;if(!s.current&&"changedTouches"in b&&(U||$)&&(s.current=J),!J)return!0;var k=s.current||J;return Wj(k,R,b,k==="h"?U:$)},[]),p=I.useCallback(function(b){var R=b;if(!(!va.length||va[va.length-1]!==a)){var O="deltaY"in R?Ax(R):Fu(R),F=e.current.filter(function(J){return J.name===R.type&&(J.target===R.target||R.target===J.shadowParent)&&qj(J.delta,O)})[0];if(F&&F.should){R.cancelable&&R.preventDefault();return}if(!F){var U=(c.current.shards||[]).map(Rx).filter(Boolean).filter(function(J){return J.contains(R.target)}),$=U.length>0?f(R,U[0]):!c.current.noIsolation;$&&R.cancelable&&R.preventDefault()}}},[]),g=I.useCallback(function(b,R,O,F){var U={name:b,delta:R,target:O,should:F,shadowParent:Yj(O)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function($){return $!==U})},1)},[]),x=I.useCallback(function(b){t.current=Fu(b),s.current=void 0},[]),_=I.useCallback(function(b){g(b.type,Ax(b),b.target,f(b,n.lockRef.current))},[]),T=I.useCallback(function(b){g(b.type,Fu(b),b.target,f(b,n.lockRef.current))},[]);I.useEffect(function(){return va.push(a),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:T}),document.addEventListener("wheel",p,ya),document.addEventListener("touchmove",p,ya),document.addEventListener("touchstart",x,ya),function(){va=va.filter(function(b){return b!==a}),document.removeEventListener("wheel",p,ya),document.removeEventListener("touchmove",p,ya),document.removeEventListener("touchstart",x,ya)}},[]);var C=n.removeScrollBar,M=n.inert;return I.createElement(I.Fragment,null,M?I.createElement(a,{styles:Gj(o)}):null,C?I.createElement(Lj,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Yj(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Xj=bj(r1,Qj);var sg=I.forwardRef(function(n,e){return I.createElement(Zd,Wr({},n,{ref:e,sideCar:Xj}))});sg.classNames=Zd.classNames;var Jj=[" ","Enter","ArrowUp","ArrowDown"],Zj=[" ","Enter"],To="Select",[eh,th,e4]=m2(To),[Ja]=Kd(To,[e4,$E]),nh=$E(),[t4,Di]=Ja(To),[n4,r4]=Ja(To),l1=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:o,onOpenChange:a,value:c,defaultValue:f,onValueChange:p,dir:g,name:x,autoComplete:_,disabled:T,required:C,form:M}=n,b=nh(e),[R,O]=I.useState(null),[F,U]=I.useState(null),[$,J]=I.useState(!1),G=y2(g),[N,E]=Wp({prop:s,defaultProp:o??!1,onChange:a,caller:To}),[k,D]=Wp({prop:c,defaultProp:f,onChange:p,caller:To}),j=I.useRef(null),L=R?M||!!R.closest("form"):!0,[P,ge]=I.useState(new Set),De=Array.from(P).map(we=>we.props.value).join(";");return h.jsx(nj,{...b,children:h.jsxs(t4,{required:C,scope:e,trigger:R,onTriggerChange:O,valueNode:F,onValueNodeChange:U,valueNodeHasChildren:$,onValueNodeHasChildrenChange:J,contentId:Na(),value:k,onValueChange:D,open:N,onOpenChange:E,dir:G,triggerPointerDownPosRef:j,disabled:T,children:[h.jsx(eh.Provider,{scope:e,children:h.jsx(n4,{scope:n.__scopeSelect,onNativeOptionAdd:I.useCallback(we=>{ge(xe=>new Set(xe).add(we))},[]),onNativeOptionRemove:I.useCallback(we=>{ge(xe=>{const q=new Set(xe);return q.delete(we),q})},[]),children:t})}),L?h.jsxs(A1,{"aria-hidden":!0,required:C,tabIndex:-1,name:x,autoComplete:_,value:k,onChange:we=>D(we.target.value),disabled:T,form:M,children:[k===void 0?h.jsx("option",{value:""}):null,Array.from(P)]},De):null]})})};l1.displayName=To;var c1="SelectTrigger",u1=I.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...o}=n,a=nh(t),c=Di(c1,t),f=c.disabled||s,p=Ct(e,c.onTriggerChange),g=th(t),x=I.useRef("touch"),[_,T,C]=P1(b=>{const R=g().filter(U=>!U.disabled),O=R.find(U=>U.value===c.value),F=D1(R,b,O);F!==void 0&&c.onValueChange(F.value)}),M=b=>{f||(c.onOpenChange(!0),C()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return h.jsx(rj,{asChild:!0,...a,children:h.jsx(dt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":R1(c.value)?"":void 0,...o,ref:p,onClick:mt(o.onClick,b=>{b.currentTarget.focus(),x.current!=="mouse"&&M(b)}),onPointerDown:mt(o.onPointerDown,b=>{x.current=b.pointerType;const R=b.target;R.hasPointerCapture(b.pointerId)&&R.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(M(b),b.preventDefault())}),onKeyDown:mt(o.onKeyDown,b=>{const R=_.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&T(b.key),!(R&&b.key===" ")&&Jj.includes(b.key)&&(M(),b.preventDefault())})})})});u1.displayName=c1;var d1="SelectValue",h1=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:o,children:a,placeholder:c="",...f}=n,p=Di(d1,t),{onValueNodeHasChildrenChange:g}=p,x=a!==void 0,_=Ct(e,p.onValueNodeChange);return un(()=>{g(x)},[g,x]),h.jsx(dt.span,{...f,ref:_,style:{pointerEvents:"none"},children:R1(p.value)?h.jsx(h.Fragment,{children:c}):a})});h1.displayName=d1;var s4="SelectIcon",f1=I.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...o}=n;return h.jsx(dt.span,{"aria-hidden":!0,...o,ref:e,children:s||"▼"})});f1.displayName=s4;var i4="SelectPortal",p1=n=>h.jsx(rg,{asChild:!0,...n});p1.displayName=i4;var bo="SelectContent",m1=I.forwardRef((n,e)=>{const t=Di(bo,n.__scopeSelect),[s,o]=I.useState();if(un(()=>{o(new DocumentFragment)},[]),!t.open){const a=s;return a?Ec.createPortal(h.jsx(g1,{scope:n.__scopeSelect,children:h.jsx(eh.Slot,{scope:n.__scopeSelect,children:h.jsx("div",{children:n.children})})}),a):null}return h.jsx(y1,{...n,ref:e})});m1.displayName=bo;var dr=10,[g1,ji]=Ja(bo),o4="SelectContentImpl",a4=Fa("SelectContent.RemoveScroll"),y1=I.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:f,sideOffset:p,align:g,alignOffset:x,arrowPadding:_,collisionBoundary:T,collisionPadding:C,sticky:M,hideWhenDetached:b,avoidCollisions:R,...O}=n,F=Di(bo,t),[U,$]=I.useState(null),[J,G]=I.useState(null),N=Ct(e,z=>$(z)),[E,k]=I.useState(null),[D,j]=I.useState(null),L=th(t),[P,ge]=I.useState(!1),De=I.useRef(!1);I.useEffect(()=>{if(U)return e1(U)},[U]),NE();const we=I.useCallback(z=>{const[Z,...ne]=L().map(Oe=>Oe.ref.current),[se]=ne.slice(-1),ue=document.activeElement;for(const Oe of z)if(Oe===ue||(Oe?.scrollIntoView({block:"nearest"}),Oe===Z&&J&&(J.scrollTop=0),Oe===se&&J&&(J.scrollTop=J.scrollHeight),Oe?.focus(),document.activeElement!==ue))return},[L,J]),xe=I.useCallback(()=>we([E,U]),[we,E,U]);I.useEffect(()=>{P&&xe()},[P,xe]);const{onOpenChange:q,triggerPointerDownPosRef:he}=F;I.useEffect(()=>{if(U){let z={x:0,y:0};const Z=se=>{z={x:Math.abs(Math.round(se.pageX)-(he.current?.x??0)),y:Math.abs(Math.round(se.pageY)-(he.current?.y??0))}},ne=se=>{z.x<=10&&z.y<=10?se.preventDefault():U.contains(se.target)||q(!1),document.removeEventListener("pointermove",Z),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ne,{capture:!0})}}},[U,q,he]),I.useEffect(()=>{const z=()=>q(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[q]);const[fe,H]=P1(z=>{const Z=L().filter(ue=>!ue.disabled),ne=Z.find(ue=>ue.ref.current===document.activeElement),se=D1(Z,z,ne);se&&setTimeout(()=>se.ref.current.focus())}),re=I.useCallback((z,Z,ne)=>{const se=!De.current&&!ne;(F.value!==void 0&&F.value===Z||se)&&(k(z),se&&(De.current=!0))},[F.value]),_e=I.useCallback(()=>U?.focus(),[U]),ve=I.useCallback((z,Z,ne)=>{const se=!De.current&&!ne;(F.value!==void 0&&F.value===Z||se)&&j(z)},[F.value]),Pe=s==="popper"?Gp:v1,Me=Pe===Gp?{side:f,sideOffset:p,align:g,alignOffset:x,arrowPadding:_,collisionBoundary:T,collisionPadding:C,sticky:M,hideWhenDetached:b,avoidCollisions:R}:{};return h.jsx(g1,{scope:t,content:U,viewport:J,onViewportChange:G,itemRefCallback:re,selectedItem:E,onItemLeave:_e,itemTextRefCallback:ve,focusSelectedItem:xe,selectedItemText:D,position:s,isPositioned:P,searchRef:fe,children:h.jsx(sg,{as:a4,allowPinchZoom:!0,children:h.jsx(Km,{asChild:!0,trapped:F.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:mt(o,z=>{F.trigger?.focus({preventScroll:!0}),z.preventDefault()}),children:h.jsx(Gm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:h.jsx(Pe,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:z=>z.preventDefault(),...O,...Me,onPlaced:()=>ge(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:mt(O.onKeyDown,z=>{const Z=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!Z&&z.key.length===1&&H(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let se=L().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(z.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ue=z.target,Oe=se.indexOf(ue);se=se.slice(Oe+1)}setTimeout(()=>we(se)),z.preventDefault()}})})})})})})});y1.displayName=o4;var l4="SelectItemAlignedPosition",v1=I.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...o}=n,a=Di(bo,t),c=ji(bo,t),[f,p]=I.useState(null),[g,x]=I.useState(null),_=Ct(e,N=>x(N)),T=th(t),C=I.useRef(!1),M=I.useRef(!0),{viewport:b,selectedItem:R,selectedItemText:O,focusSelectedItem:F}=c,U=I.useCallback(()=>{if(a.trigger&&a.valueNode&&f&&g&&b&&R&&O){const N=a.trigger.getBoundingClientRect(),E=g.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),D=O.getBoundingClientRect();if(a.dir!=="rtl"){const ue=D.left-E.left,Oe=k.left-ue,Qe=N.left-Oe,Nt=N.width+Qe,mn=Math.max(Nt,E.width),dn=window.innerWidth-dr,Nn=lx(Oe,[dr,Math.max(dr,dn-mn)]);f.style.minWidth=Nt+"px",f.style.left=Nn+"px"}else{const ue=E.right-D.right,Oe=window.innerWidth-k.right-ue,Qe=window.innerWidth-N.right-Oe,Nt=N.width+Qe,mn=Math.max(Nt,E.width),dn=window.innerWidth-dr,Nn=lx(Oe,[dr,Math.max(dr,dn-mn)]);f.style.minWidth=Nt+"px",f.style.right=Nn+"px"}const j=T(),L=window.innerHeight-dr*2,P=b.scrollHeight,ge=window.getComputedStyle(g),De=parseInt(ge.borderTopWidth,10),we=parseInt(ge.paddingTop,10),xe=parseInt(ge.borderBottomWidth,10),q=parseInt(ge.paddingBottom,10),he=De+we+P+q+xe,fe=Math.min(R.offsetHeight*5,he),H=window.getComputedStyle(b),re=parseInt(H.paddingTop,10),_e=parseInt(H.paddingBottom,10),ve=N.top+N.height/2-dr,Pe=L-ve,Me=R.offsetHeight/2,z=R.offsetTop+Me,Z=De+we+z,ne=he-Z;if(Z<=ve){const ue=j.length>0&&R===j[j.length-1].ref.current;f.style.bottom="0px";const Oe=g.clientHeight-b.offsetTop-b.offsetHeight,Qe=Math.max(Pe,Me+(ue?_e:0)+Oe+xe),Nt=Z+Qe;f.style.height=Nt+"px"}else{const ue=j.length>0&&R===j[0].ref.current;f.style.top="0px";const Qe=Math.max(ve,De+b.offsetTop+(ue?re:0)+Me)+ne;f.style.height=Qe+"px",b.scrollTop=Z-ve+b.offsetTop}f.style.margin=`${dr}px 0`,f.style.minHeight=fe+"px",f.style.maxHeight=L+"px",s?.(),requestAnimationFrame(()=>C.current=!0)}},[T,a.trigger,a.valueNode,f,g,b,R,O,a.dir,s]);un(()=>U(),[U]);const[$,J]=I.useState();un(()=>{g&&J(window.getComputedStyle(g).zIndex)},[g]);const G=I.useCallback(N=>{N&&M.current===!0&&(U(),F?.(),M.current=!1)},[U,F]);return h.jsx(u4,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:G,children:h.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:h.jsx(dt.div,{...o,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});v1.displayName=l4;var c4="SelectPopperPosition",Gp=I.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:o=dr,...a}=n,c=nh(t);return h.jsx(sj,{...c,...a,ref:e,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gp.displayName=c4;var[u4,ig]=Ja(bo,{}),Kp="SelectViewport",x1=I.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...o}=n,a=ji(Kp,t),c=ig(Kp,t),f=Ct(e,a.onViewportChange),p=I.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(eh.Slot,{scope:t,children:h.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:mt(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:T}=c;if(T?.current&&_){const C=Math.abs(p.current-x.scrollTop);if(C>0){const M=window.innerHeight-dr*2,b=parseFloat(_.style.minHeight),R=parseFloat(_.style.height),O=Math.max(b,R);if(O<M){const F=O+C,U=Math.min(M,F),$=F-U;_.style.height=U+"px",_.style.bottom==="0px"&&(x.scrollTop=$>0?$:0,_.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});x1.displayName=Kp;var w1="SelectGroup",[d4,h4]=Ja(w1),f4=I.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,o=Na();return h.jsx(d4,{scope:t,id:o,children:h.jsx(dt.div,{role:"group","aria-labelledby":o,...s,ref:e})})});f4.displayName=w1;var _1="SelectLabel",p4=I.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,o=h4(_1,t);return h.jsx(dt.div,{id:o.id,...s,ref:e})});p4.displayName=_1;var Cd="SelectItem",[m4,E1]=Ja(Cd),S1=I.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:o=!1,textValue:a,...c}=n,f=Di(Cd,t),p=ji(Cd,t),g=f.value===s,[x,_]=I.useState(a??""),[T,C]=I.useState(!1),M=Ct(e,F=>p.itemRefCallback?.(F,s,o)),b=Na(),R=I.useRef("touch"),O=()=>{o||(f.onValueChange(s),f.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(m4,{scope:t,value:s,disabled:o,textId:b,isSelected:g,onItemTextChange:I.useCallback(F=>{_(U=>U||(F?.textContent??"").trim())},[]),children:h.jsx(eh.ItemSlot,{scope:t,value:s,disabled:o,textValue:x,children:h.jsx(dt.div,{role:"option","aria-labelledby":b,"data-highlighted":T?"":void 0,"aria-selected":g&&T,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:M,onFocus:mt(c.onFocus,()=>C(!0)),onBlur:mt(c.onBlur,()=>C(!1)),onClick:mt(c.onClick,()=>{R.current!=="mouse"&&O()}),onPointerUp:mt(c.onPointerUp,()=>{R.current==="mouse"&&O()}),onPointerDown:mt(c.onPointerDown,F=>{R.current=F.pointerType}),onPointerMove:mt(c.onPointerMove,F=>{R.current=F.pointerType,o?p.onItemLeave?.():R.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mt(c.onPointerLeave,F=>{F.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:mt(c.onKeyDown,F=>{p.searchRef?.current!==""&&F.key===" "||(Zj.includes(F.key)&&O(),F.key===" "&&F.preventDefault())})})})})});S1.displayName=Cd;var zl="SelectItemText",T1=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:o,...a}=n,c=Di(zl,t),f=ji(zl,t),p=E1(zl,t),g=r4(zl,t),[x,_]=I.useState(null),T=Ct(e,O=>_(O),p.onItemTextChange,O=>f.itemTextRefCallback?.(O,p.value,p.disabled)),C=x?.textContent,M=I.useMemo(()=>h.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:b,onNativeOptionRemove:R}=g;return un(()=>(b(M),()=>R(M)),[b,R,M]),h.jsxs(h.Fragment,{children:[h.jsx(dt.span,{id:p.textId,...a,ref:T}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ec.createPortal(a.children,c.valueNode):null]})});T1.displayName=zl;var b1="SelectItemIndicator",I1=I.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return E1(b1,t).isSelected?h.jsx(dt.span,{"aria-hidden":!0,...s,ref:e}):null});I1.displayName=b1;var Qp="SelectScrollUpButton",C1=I.forwardRef((n,e)=>{const t=ji(Qp,n.__scopeSelect),s=ig(Qp,n.__scopeSelect),[o,a]=I.useState(!1),c=Ct(e,s.onScrollButtonChange);return un(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=p.scrollTop>0;a(g)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?h.jsx(k1,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});C1.displayName=Qp;var Yp="SelectScrollDownButton",N1=I.forwardRef((n,e)=>{const t=ji(Yp,n.__scopeSelect),s=ig(Yp,n.__scopeSelect),[o,a]=I.useState(!1),c=Ct(e,s.onScrollButtonChange);return un(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<g;a(x)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?h.jsx(k1,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});N1.displayName=Yp;var k1=I.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...o}=n,a=ji("SelectScrollButton",t),c=I.useRef(null),f=th(t),p=I.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return I.useEffect(()=>()=>p(),[p]),un(()=>{f().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),h.jsx(dt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:mt(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:mt(o.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:mt(o.onPointerLeave,()=>{p()})})}),g4="SelectSeparator",y4=I.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return h.jsx(dt.div,{"aria-hidden":!0,...s,ref:e})});y4.displayName=g4;var Xp="SelectArrow",v4=I.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,o=nh(t),a=Di(Xp,t),c=ji(Xp,t);return a.open&&c.position==="popper"?h.jsx(ij,{...o,...s,ref:e}):null});v4.displayName=Xp;var x4="SelectBubbleInput",A1=I.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const o=I.useRef(null),a=Ct(s,o),c=uj(e);return I.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==e&&x){const _=new Event("change",{bubbles:!0});x.call(f,e),f.dispatchEvent(_)}},[c,e]),h.jsx(dt.select,{...t,style:{...JE,...t.style},ref:a,defaultValue:e})});A1.displayName=x4;function R1(n){return n===""||n===void 0}function P1(n){const e=Eo(n),t=I.useRef(""),s=I.useRef(0),o=I.useCallback(c=>{const f=t.current+c;e(f),(function p(g){t.current=g,window.clearTimeout(s.current),g!==""&&(s.current=window.setTimeout(()=>p(""),1e3))})(f)},[e]),a=I.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,o,a]}function D1(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=w4(n,Math.max(a,0));o.length===1&&(c=c.filter(g=>g!==t));const p=c.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function w4(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var _4=l1,E4=u1,S4=h1,T4=f1,b4=p1,I4=m1,C4=x1,N4=S1,k4=T1,A4=I1,R4=C1,P4=N1;function D4({...n}){return h.jsx(_4,{"data-slot":"select",...n})}function j4({...n}){return h.jsx(S4,{"data-slot":"select-value",...n})}function O4({className:n,size:e="default",children:t,...s}){return h.jsxs(E4,{"data-slot":"select-trigger","data-size":e,className:Bn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s,children:[t,h.jsx(T4,{asChild:!0,children:h.jsx(sE,{className:"size-4 opacity-50"})})]})}function M4({className:n,children:e,position:t="popper",...s}){return h.jsx(b4,{children:h.jsxs(I4,{"data-slot":"select-content",className:Bn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[h.jsx(V4,{}),h.jsx(C4,{className:Bn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),h.jsx(L4,{})]})})}function Px({className:n,children:e,...t}){return h.jsxs(N4,{"data-slot":"select-item",className:Bn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[h.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:h.jsx(A4,{children:h.jsx(MR,{className:"size-4"})})}),h.jsx(k4,{children:e})]})}function V4({className:n,...e}){return h.jsx(R4,{"data-slot":"select-scroll-up-button",className:Bn("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(zR,{className:"size-4"})})}function L4({className:n,...e}){return h.jsx(P4,{"data-slot":"select-scroll-down-button",className:Bn("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(sE,{className:"size-4"})})}function F4({onClose:n,onCreate:e,folderStructure:t}){const[s,o]=I.useState(""),[a,c]=I.useState(""),f=(x,_=[])=>{const T=[];return x.forEach(C=>{const M=[..._,C.name],b=M.length>1?M.join(" > "):C.name;T.push({folder:C,path:M,displayName:b}),C.subfolders.length>0&&T.push(...f(C.subfolders,M))}),T},p=f(t),g=()=>{if(s.trim()&&a){const x=p.find(_=>_.folder.id===a);x&&(e({title:s.trim(),folderPath:x.path,folderId:a}),n())}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 relative",children:[h.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-red-500"})}),h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Criar"})}),h.jsx("div",{className:"mb-6",children:h.jsxs("button",{className:"w-full flex items-center justify-center px-6 py-4 bg-blue-200 rounded-xl mb-4",children:[h.jsx(Fn,{className:"w-6 h-6 text-gray-600 mr-3"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Nota"})]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{children:h.jsxs(D4,{value:a,onValueChange:c,children:[h.jsx(O4,{className:"w-full h-12 bg-gray-300 border-0 rounded-xl text-gray-700 font-medium",children:h.jsx(j4,{placeholder:"Escolher Pasta"})}),h.jsx(M4,{className:"bg-white",children:p.length>0?p.map(x=>h.jsx(Px,{value:x.folder.id,children:x.displayName},x.folder.id)):h.jsx(Px,{value:"no-folders",disabled:!0,children:"Nenhuma pasta disponível"})})]})}),h.jsx("div",{children:h.jsx(tr,{type:"text",value:s,onChange:x=>o(x.target.value),placeholder:"Digite o título da Nota",className:"w-full h-12 bg-gray-300 border-0 rounded-xl text-gray-700 font-medium placeholder:text-gray-600"})})]}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx(In,{onClick:g,className:"px-8 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",disabled:!s.trim()||!a,children:"CONTINUAR"})})]})})}function U4({onClose:n,onCreate:e}){const[t,s]=I.useState(""),[o,a]=I.useState("#ff6b6b"),c=["#ff6b6b","#ff8e3c","#ffcc5c","#96ceb4","#6fcf97","#4ecdc4","#45b7d1","#5b8ff9","#786fa6","#f8b500","#e056fd","#ff6b9d"],f=()=>{t.trim()&&(e({title:t.trim(),color:o}),n())};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 relative",children:[h.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-red-500"})}),h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Editar"})}),h.jsx("div",{className:"mb-6",children:h.jsxs("button",{className:"w-full flex items-center justify-center px-6 py-4 bg-blue-200 rounded-xl mb-4",children:[h.jsx(Dp,{className:"w-6 h-6 text-gray-600 mr-3"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Marcador"})]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{children:h.jsx(tr,{type:"text",value:t,onChange:p=>s(p.target.value),placeholder:"Digite o Nome do Marcador",className:"w-full h-12 bg-gray-300 border-0 rounded-xl text-gray-700 font-medium placeholder:text-gray-600"})}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx("div",{className:"h-full rounded-lg cursor-pointer",style:{background:`linear-gradient(to right, ${c.join(", ")})`},onClick:p=>{const g=p.currentTarget.getBoundingClientRect(),_=(p.clientX-g.left)/g.width,T=Math.round(_*(c.length-1));a(c[Math.max(0,Math.min(T,c.length-1))])}})}),h.jsx("div",{className:"p-2",children:h.jsx(Op,{className:"w-6 h-6",style:{color:o},fill:o})})]})]}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx(In,{onClick:f,className:"px-8 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",disabled:!t.trim(),children:"CONTINUAR"})})]})})}function z4({bookmarks:n,onClose:e,onDeleteBookmark:t}){return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[80vh] relative flex flex-col",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors z-10",children:h.jsx(Ft,{className:"w-5 h-5 text-red-500"})}),h.jsxs("div",{className:"text-center p-6 border-b border-gray-200 flex-shrink-0",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Meus Marcadores"}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.length," ",n.length===1?"marcador salvo":"marcadores salvos"]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Op,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhum marcador salvo"}),h.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Crie seu primeiro marcador usando o botão Plus"})]}):h.jsx("div",{className:"space-y-3",children:n.map(s=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors group",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Op,{className:"w-5 h-5",style:{color:s.color},fill:s.color}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900",children:s.title}),h.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),h.jsx("button",{onClick:()=>t(s.id),className:"p-2 rounded-full opacity-0 group-hover:opacity-100 hover:bg-red-100 transition-all",title:"Excluir marcador",children:h.jsx(mr,{className:"w-4 h-4 text-red-500"})})]},s.id))})}),h.jsx("div",{className:"p-6 border-t border-gray-200 flex-shrink-0 text-center",children:h.jsx("button",{onClick:e,className:"px-8 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",children:"FECHAR"})})]})})}function B4({onClose:n,onCreate:e}){const[t,s]=I.useState(""),[o,a]=I.useState(new Date),[c,f]=I.useState({hour:"08",minute:"30"}),[p,g]=I.useState(new Date),x=["JANEIRO","FEVEREIRO","MARÇO","ABRIL","MAIO","JUNHO","JULHO","AGOSTO","SETEMBRO","OUTUBRO","NOVEMBRO","DEZEMBRO"],_=["dom","seg","ter","qua","qui","sex","sáb"],T=$=>{const J=$.getFullYear(),G=$.getMonth(),N=new Date(J,G,1),k=new Date(J,G+1,0).getDate(),D=N.getDay(),j=[];for(let L=0;L<D;L++)j.push(null);for(let L=1;L<=k;L++)j.push(L);return j},C=()=>{g($=>new Date($.getFullYear(),$.getMonth()-1,1))},M=()=>{g($=>new Date($.getFullYear(),$.getMonth()+1,1))},b=$=>{const J=new Date(p.getFullYear(),p.getMonth(),$);a(J)},R=()=>{t.trim()&&(e({title:t.trim(),date:o,time:`${c.hour}:${c.minute}`}),n())},O=$=>{const J=new Date;return $===J.getDate()&&p.getMonth()===J.getMonth()&&p.getFullYear()===J.getFullYear()},F=$=>$===o.getDate()&&p.getMonth()===o.getMonth()&&p.getFullYear()===o.getFullYear(),U=T(p);return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 relative max-h-[90vh] overflow-y-auto",children:[h.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors z-10",children:h.jsx(Ft,{className:"w-5 h-5 text-red-500"})}),h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Criar"})}),h.jsx("div",{className:"mb-6",children:h.jsxs("button",{className:"w-full flex items-center justify-center px-6 py-4 bg-blue-200 rounded-xl mb-4",children:[h.jsx(Vp,{className:"w-6 h-6 text-gray-600 mr-3"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"To-do"})]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{children:h.jsx(tr,{value:t,onChange:$=>s($.target.value),placeholder:"Digite o título da tarefa...",className:"w-full h-12 bg-gray-300 border-0 rounded-xl text-gray-700 font-medium placeholder:text-gray-500",autoFocus:!0})}),h.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("button",{onClick:C,className:"p-1 hover:bg-gray-100 rounded",children:h.jsx(iE,{className:"w-4 h-4 text-gray-600"})}),h.jsxs("h3",{className:"font-medium text-gray-900",children:[x[p.getMonth()]," ",p.getFullYear()]}),h.jsx("button",{onClick:M,className:"p-1 hover:bg-gray-100 rounded",children:h.jsx(_d,{className:"w-4 h-4 text-gray-600"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:_.map($=>h.jsx("div",{className:"text-xs text-center text-gray-500 py-1 font-medium",children:$},$))}),h.jsx("div",{className:"grid grid-cols-7 gap-1",children:U.map(($,J)=>h.jsx("button",{onClick:()=>$&&b($),disabled:!$,className:`
                    h-8 text-sm rounded flex items-center justify-center transition-colors
                    ${$?F($)?"bg-blue-500 text-white font-medium":O($)?"bg-blue-100 text-blue-600 font-medium":"hover:bg-gray-100 text-gray-700":"invisible"}
                  `,children:$},J))})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(oE,{className:"w-5 h-5 text-gray-500"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tr,{type:"number",min:"0",max:"23",value:c.hour,onChange:$=>f(J=>({...J,hour:$.target.value.padStart(2,"0")})),className:"w-16 h-10 text-center bg-gray-100 border border-gray-300 rounded text-sm font-medium"}),h.jsx("span",{className:"text-gray-500 font-medium",children:":"}),h.jsx(tr,{type:"number",min:"0",max:"59",step:"5",value:c.minute,onChange:$=>f(J=>({...J,minute:$.target.value.padStart(2,"0")})),className:"w-16 h-10 text-center bg-gray-100 border border-gray-300 rounded text-sm font-medium"})]})]})]}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx(In,{onClick:R,disabled:!t.trim(),className:"px-8 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"CONTINUAR"})})]})})}function $4({onClose:n,completedTodos:e,onDeleteCompleted:t,onRestoreCompleted:s}){return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tarefas Concluídas"}),h.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-gray-500"})})]}),h.jsx("div",{className:"p-6",children:e.length>0?h.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto",children:e.map(o=>h.jsxs("div",{className:`${o.color} rounded-lg p-4 text-white relative opacity-80`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h3",{className:"font-medium text-white line-through",children:o.title}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("button",{onClick:()=>s(o.id),className:"w-6 h-6 flex items-center justify-center hover:bg-white/20 rounded transition-colors",title:"Restaurar tarefa",children:h.jsx(Ca,{className:"w-4 h-4 text-white"})}),h.jsx("button",{onClick:()=>t(o.id),className:"w-6 h-6 flex items-center justify-center hover:bg-white/20 rounded transition-colors",title:"Excluir permanentemente",children:h.jsx(mr,{className:"w-4 h-4 text-white"})})]})]}),h.jsxs("p",{className:"text-sm text-white/80 mb-3",children:["Concluída em ",o.date.toLocaleDateString("pt-BR")," às ",o.time]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-white/70",children:"Concluída"}),h.jsx("div",{className:"w-5 h-5 bg-white/30 rounded flex items-center justify-center",children:h.jsx(Ca,{className:"w-3 h-3 text-white"})})]})]},o.id))}):h.jsxs("div",{className:"text-center text-gray-600 py-8",children:[h.jsx(Ca,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{className:"text-sm",children:"Nenhuma tarefa concluída ainda."})]})}),e.length>0&&h.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:h.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[e.length," tarefa",e.length!==1?"s":""," concluída",e.length!==1?"s":""]})})]})})}function H4({onClose:n,onWordCreated:e}){const[t,s]=I.useState(""),[o,a]=I.useState(""),c=()=>{t.trim()&&o.trim()&&(e(t.trim(),o.trim()),n())},f=p=>{p.key==="Enter"&&p.ctrlKey&&c()};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Criar"}),h.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-red-500"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("div",{className:"bg-gray-200 rounded-lg p-4 border-2 border-gray-300",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-400 rounded flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xs",children:"📚"})}),h.jsx("span",{className:"font-medium text-gray-900",children:"Palavras"})]})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 uppercase tracking-wide",children:"PALAVRA"}),h.jsx(tr,{value:t,onChange:p=>s(p.target.value),placeholder:"Digite sua palavra",className:"w-full h-10 bg-gray-100 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-0",onKeyPress:f,autoFocus:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 uppercase tracking-wide",children:"SIGNIFICADO"}),h.jsx("textarea",{value:o,onChange:p=>a(p.target.value),placeholder:"Digite o Significado da palavra",className:"w-full h-32 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",onKeyPress:f})]}),h.jsx("div",{className:"flex justify-center pt-4",children:h.jsx(In,{onClick:c,disabled:!t.trim()||!o.trim(),className:"px-8 py-2 bg-black hover:bg-gray-800 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"CRIAR"})})]})]})})}function W4(n,e){return I.useReducer((t,s)=>e[t][s]??t,n)}var rh=n=>{const{present:e,children:t}=n,s=q4(e),o=typeof t=="function"?t({present:s.isPresent}):I.Children.only(t),a=Ct(s.ref,G4(o));return typeof t=="function"||s.isPresent?I.cloneElement(o,{ref:a}):null};rh.displayName="Presence";function q4(n){const[e,t]=I.useState(),s=I.useRef(null),o=I.useRef(n),a=I.useRef("none"),c=n?"mounted":"unmounted",[f,p]=W4(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const g=Uu(s.current);a.current=f==="mounted"?g:"none"},[f]),un(()=>{const g=s.current,x=o.current;if(x!==n){const T=a.current,C=Uu(g);n?p("MOUNT"):C==="none"||g?.display==="none"?p("UNMOUNT"):p(x&&T!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),un(()=>{if(e){let g;const x=e.ownerDocument.defaultView??window,_=C=>{const b=Uu(s.current).includes(CSS.escape(C.animationName));if(C.target===e&&b&&(p("ANIMATION_END"),!o.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",g=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},T=C=>{C.target===e&&(a.current=Uu(s.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{x.clearTimeout(g),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:I.useCallback(g=>{s.current=g?getComputedStyle(g):null,t(g)},[])}}function Uu(n){return n?.animationName||"none"}function G4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var sh="Dialog",[j1]=Kd(sh),[K4,vr]=j1(sh),O1=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,f=I.useRef(null),p=I.useRef(null),[g,x]=Wp({prop:s,defaultProp:o??!1,onChange:a,caller:sh});return h.jsx(K4,{scope:e,triggerRef:f,contentRef:p,contentId:Na(),titleId:Na(),descriptionId:Na(),open:g,onOpenChange:x,onOpenToggle:I.useCallback(()=>x(_=>!_),[x]),modal:c,children:t})};O1.displayName=sh;var M1="DialogTrigger",Q4=I.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,o=vr(M1,t),a=Ct(e,o.triggerRef);return h.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":lg(o.open),...s,ref:a,onClick:mt(n.onClick,o.onOpenToggle)})});Q4.displayName=M1;var og="DialogPortal",[Y4,V1]=j1(og,{forceMount:void 0}),L1=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:o}=n,a=vr(og,e);return h.jsx(Y4,{scope:e,forceMount:t,children:I.Children.map(s,c=>h.jsx(rh,{present:t||a.open,children:h.jsx(rg,{asChild:!0,container:o,children:c})}))})};L1.displayName=og;var Nd="DialogOverlay",F1=I.forwardRef((n,e)=>{const t=V1(Nd,n.__scopeDialog),{forceMount:s=t.forceMount,...o}=n,a=vr(Nd,n.__scopeDialog);return a.modal?h.jsx(rh,{present:s||a.open,children:h.jsx(J4,{...o,ref:e})}):null});F1.displayName=Nd;var X4=Fa("DialogOverlay.RemoveScroll"),J4=I.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,o=vr(Nd,t);return h.jsx(sg,{as:X4,allowPinchZoom:!0,shards:[o.contentRef],children:h.jsx(dt.div,{"data-state":lg(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Io="DialogContent",U1=I.forwardRef((n,e)=>{const t=V1(Io,n.__scopeDialog),{forceMount:s=t.forceMount,...o}=n,a=vr(Io,n.__scopeDialog);return h.jsx(rh,{present:s||a.open,children:a.modal?h.jsx(Z4,{...o,ref:e}):h.jsx(eO,{...o,ref:e})})});U1.displayName=Io;var Z4=I.forwardRef((n,e)=>{const t=vr(Io,n.__scopeDialog),s=I.useRef(null),o=Ct(e,t.contentRef,s);return I.useEffect(()=>{const a=s.current;if(a)return e1(a)},[]),h.jsx(z1,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:mt(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&a.preventDefault()}),onFocusOutside:mt(n.onFocusOutside,a=>a.preventDefault())})}),eO=I.forwardRef((n,e)=>{const t=vr(Io,n.__scopeDialog),s=I.useRef(!1),o=I.useRef(!1);return h.jsx(z1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||t.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;t.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),z1=I.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,f=vr(Io,t),p=I.useRef(null),g=Ct(e,p);return NE(),h.jsxs(h.Fragment,{children:[h.jsx(Km,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:h.jsx(Gm,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":lg(f.open),...c,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(tO,{titleId:f.titleId}),h.jsx(rO,{contentRef:p,descriptionId:f.descriptionId})]})]})}),ag="DialogTitle",B1=I.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,o=vr(ag,t);return h.jsx(dt.h2,{id:o.titleId,...s,ref:e})});B1.displayName=ag;var $1="DialogDescription",H1=I.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,o=vr($1,t);return h.jsx(dt.p,{id:o.descriptionId,...s,ref:e})});H1.displayName=$1;var W1="DialogClose",q1=I.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,o=vr(W1,t);return h.jsx(dt.button,{type:"button",...s,ref:e,onClick:mt(n.onClick,()=>o.onOpenChange(!1))})});q1.displayName=W1;function lg(n){return n?"open":"closed"}var G1="DialogTitleWarning",[bO,K1]=f2(G1,{contentName:Io,titleName:ag,docsSlug:"dialog"}),tO=({titleId:n})=>{const e=K1(G1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},nO="DialogDescriptionWarning",rO=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K1(nO).contentName}}.`;return I.useEffect(()=>{const o=n.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},sO=O1,iO=L1,oO=F1,aO=U1,lO=B1,cO=H1,uO=q1;function np({...n}){return h.jsx(sO,{"data-slot":"dialog",...n})}function dO({...n}){return h.jsx(iO,{"data-slot":"dialog-portal",...n})}function hO({className:n,...e}){return h.jsx(oO,{"data-slot":"dialog-overlay",className:Bn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function rp({className:n,children:e,...t}){return h.jsxs(dO,{"data-slot":"dialog-portal",children:[h.jsx(hO,{}),h.jsxs(aO,{"data-slot":"dialog-content",className:Bn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,h.jsxs(uO,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[h.jsx(Ft,{}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sp({className:n,...e}){return h.jsx("div",{"data-slot":"dialog-header",className:Bn("flex flex-col gap-2 text-center sm:text-left",n),...e})}function ip({className:n,...e}){return h.jsx(lO,{"data-slot":"dialog-title",className:Bn("text-lg leading-none font-semibold",n),...e})}function op({className:n,...e}){return h.jsx(cO,{"data-slot":"dialog-description",className:Bn("text-muted-foreground text-sm",n),...e})}function fO({isOpen:n,onClose:e,trashItems:t,setTrashItems:s,folderStructure:o,setFolderStructure:a}){const[c,f]=I.useState([]),[p,g]=I.useState(null);if(!n)return null;const x=O=>{f(F=>F.includes(O)?F.filter(U=>U!==O):[...F,O])},_=()=>{c.length===t.length?f([]):f(t.map(O=>O.id))},T=O=>{const F=(U,$,J=0)=>{if(J>=$.length)return U;const G=$[J];let N=U.find(E=>E.name===G);return N||(N={id:`folder-${Date.now()}-${Math.random()}`,name:G,subfolders:[],notes:[]},U.push(N)),J===$.length-1?O.type==="note"?N.notes.some(k=>k.id===O.id)||N.notes.push({id:O.id,title:O.title,content:O.content}):O.type==="folder"&&!N.subfolders.some(k=>k.id===O.folderId)&&O.folderId&&N.subfolders.push({id:O.folderId,name:O.title,subfolders:O.subfolders||[],notes:O.notes||[]}):N.subfolders=F(N.subfolders,$,J+1),U};a(U=>{const $=[...U];return O.originalPath.length===0?O.type==="note"?$.some(G=>G.notes.some(N=>N.id===O.id))||($.length===0?$.push({id:`folder-${Date.now()}`,name:"Notas",subfolders:[],notes:[{id:O.id,title:O.title,content:O.content}]}):$[0].notes.push({id:O.id,title:O.title,content:O.content})):O.type==="folder"&&O.folderId&&($.some(G=>G.id===O.folderId)||$.push({id:O.folderId,name:O.title,subfolders:O.subfolders||[],notes:O.notes||[]})):F($,O.originalPath),$}),s(U=>U.filter($=>$.id!==O.id)),f(U=>U.filter($=>$!==O.id))},C=O=>{s(F=>F.filter(U=>U.id!==O)),f(F=>F.filter(U=>U!==O))},M=()=>{c.forEach(O=>{const F=t.find(U=>U.id===O);F&&T(F)})},b=()=>{s(O=>O.filter(F=>!c.includes(F.id))),f([])},R=O=>new Date(O).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});return h.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("h1",{className:"text-xl",children:"Lixeira"}),t.length>0&&h.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[c.length===t.length?h.jsx(Ca,{className:"w-4 h-4"}):h.jsx(X0,{className:"w-4 h-4"}),c.length===t.length?"Desmarcar todos":"Selecionar todos"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[c.length>0&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:[h.jsx(Y0,{className:"w-4 h-4"}),"Restaurar (",c.length,")"]}),h.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:[h.jsx(mr,{className:"w-4 h-4"}),"Excluir Permanentemente (",c.length,")"]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:h.jsx(Ft,{className:"w-6 h-6"})})]})]}),h.jsx("div",{className:"flex-1 overflow-auto p-6",children:t.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[h.jsx(mr,{className:"w-16 h-16 mb-4 text-gray-300"}),h.jsx("p",{className:"text-lg",children:"A lixeira está vazia"}),h.jsx("p",{className:"text-sm",children:"Os itens excluídos aparecerão aqui"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(O=>h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 relative border border-gray-200",children:[h.jsx("button",{onClick:()=>x(O.id),className:"absolute top-3 left-3 p-1 hover:bg-gray-200 rounded",children:c.includes(O.id)?h.jsx(Ca,{className:"w-4 h-4 text-blue-500"}):h.jsx(X0,{className:"w-4 h-4 text-gray-400"})}),h.jsx("button",{onClick:()=>g(p===O.id?null:O.id),className:"absolute top-3 right-3 p-1 hover:bg-gray-200 rounded",children:h.jsx(lE,{className:"w-4 h-4 text-gray-500"})}),h.jsxs("div",{className:"mt-8 mb-8 text-center",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2 px-8",children:O.title}),h.jsx("p",{className:"text-xs text-gray-500",children:O.originalPath.length>0?O.originalPath.join(" > "):"Raiz"}),h.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Excluído em ",R(O.deletedAt)]})]}),h.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between",children:[h.jsx("button",{onClick:()=>T(O),className:"p-1 hover:bg-gray-200 rounded",title:"Restaurar",children:h.jsx(Y0,{className:"w-4 h-4 text-blue-500"})}),h.jsx("button",{onClick:()=>C(O.id),className:"p-1 hover:bg-gray-200 rounded",title:"Excluir Permanentemente",children:h.jsx(mr,{className:"w-4 h-4 text-red-500"})})]}),p===O.id&&h.jsxs("div",{className:"absolute inset-0 bg-white rounded-lg border-2 border-blue-500 p-4 z-10 max-h-80 overflow-auto",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:O.title}),h.jsx("button",{onClick:()=>g(null),className:"p-1 hover:bg-gray-100 rounded",children:h.jsx(Ft,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:O.content||"Sem conteúdo"})]})]},O.id))})})]})}function Dx({folderStructure:n,setFolderStructure:e,bookmarks:t,setBookmarks:s,trashItems:o,setTrashItems:a,todoItems:c,setTodoItems:f,onFolderClick:p,onNavigateToNote:g,onNavigateToFolder:x}){const[_,T]=I.useState(!1),[C,M]=I.useState([]),[b,R]=I.useState(1),[O,F]=I.useState(null),[U,$]=I.useState(!1),[J,G]=I.useState(!1),[N,E]=I.useState(!1),[k,D]=I.useState(""),[j,L]=I.useState(null),[P,ge]=I.useState(null),[De,we]=I.useState(!1),[xe,q]=I.useState(!1),[he,fe]=I.useState(!1),[H,re]=I.useState(null),[_e,ve]=I.useState(!1),[Pe,Me]=I.useState(null),[z,Z]=I.useState(!1),[ne,se]=I.useState(!1),[ue,Oe]=I.useState(!1),[Qe,Nt]=I.useState(!1),[mn,dn]=I.useState(!1),[Nn,Os]=I.useState(!1),[Et,ht]=I.useState(!1),qt=I.useRef(null),xr=(()=>{const Y=[],ce=(me,Ae)=>{me.forEach(Se=>{const st=[...Ae,Se.name];Se.notes.forEach(tt=>{const Ut=[{date:tt.createdAt,type:"created"},{date:tt.modifiedAt,type:"modified"},{date:tt.lastOpenedAt,type:"opened"}].filter(zt=>zt.date);if(Ut.length>0){const zt=Ut.sort((zi,Bs)=>new Date(Bs.date).getTime()-new Date(zi.date).getTime())[0];Y.push({id:tt.id,title:tt.title,content:tt.content,path:st,timestamp:zt.date,type:zt.type})}}),Se.subfolders.length>0&&ce(Se.subfolders,st)})};return ce(n,[]),Y.sort((me,Ae)=>new Date(Ae.timestamp).getTime()-new Date(me.timestamp).getTime()).slice(0,10)})();I.useEffect(()=>{const Y=localStorage.getItem("stride-streak-data");if(Y)try{const ce=JSON.parse(Y);if(M(ce.selectedRestDays||[]),R(ce.currentStreak||1),F(ce.lastActiveDate||null),ce.lastActiveDate){const me=new Date(ce.lastActiveDate),Ae=new Date,Se=Math.floor((Ae.getTime()-me.getTime())/(1e3*60*60*24));if(Se>1){const st=ce.selectedRestDays||[];let tt=0;for(let Ut=1;Ut<=Se;Ut++){const zt=new Date(Ae);zt.setDate(zt.getDate()-Ut),st.includes(zt.getDay())||tt++}tt>1&&(R(1),F(null))}}}catch(ce){console.error("Erro ao carregar dados das ofensivas:",ce)}},[]),I.useEffect(()=>{const Y={selectedRestDays:C,currentStreak:b,lastActiveDate:O};localStorage.setItem("stride-streak-data",JSON.stringify(Y))},[C,b,O]);const Oi=()=>{const Y=new Date,ce=Y.toDateString(),me=Y.getDay();if(C.includes(me)||O===ce)return;const Ae=tt=>C.includes(tt.getDay());let Se=new Date(Y);for(Se.setDate(Se.getDate()-1);Ae(Se);)Se.setDate(Se.getDate()-1);const st=Se.toDateString();O&&O===st?(R(tt=>tt+1),F(ce)):(R(1),F(ce))};I.useEffect(()=>{Oi()},[C]),I.useEffect(()=>{const Y=new Date().toDateString();xr.some(me=>new Date(me.timestamp).toDateString()===Y)&&Oi()},[xr]);const wr=Y=>{M(ce=>ce.includes(Y)?ce.filter(me=>me!==Y):ce.length<2?[...ce,Y]:ce)},Mi=()=>{T(!_)},Ms=Y=>{const ce=new Date,me=new Date(Y.date),[Ae,Se]=Y.time.split(":").map(Number);me.setHours(Ae,Se,0,0);const st=me.getTime()-ce.getTime(),tt=st/(1e3*60*60);return st<0?"bg-red-500":tt<=24?"bg-yellow-500":"bg-gray-500"},_r=()=>{E(!0)},Vi=()=>{if(k&&k.trim()){const Y=k.trim();if(n.some(me=>me.name===Y)){alert("Já existe uma pasta com este nome. Escolha um nome diferente.");return}const ce={id:Date.now().toString(),name:Y,subfolders:[],notes:[]};e(me=>[...me,ce]),D(""),E(!1)}},is=()=>{D(""),E(!1)},nr=(Y,ce)=>{Y.preventDefault(),Y.stopPropagation(),ge({x:Y.clientX,y:Y.clientY,folderIndex:ce})},os=()=>{ge(null)},Er=Y=>{if(confirm("Tem certeza que deseja mover esta pasta para a lixeira?")){const ce=n[Y];if(ce){const me={id:`folder-${Date.now()}`,title:ce.name,content:`Pasta com ${ce.notes.length} nota(s) e ${ce.subfolders.length} subpasta(s)`,type:"folder",originalPath:[],deletedAt:new Date().toISOString(),folderId:ce.id,subfolders:ce.subfolders,notes:ce.notes};a(Ae=>[...Ae,me]),e(Ae=>Ae.filter((Se,st)=>st!==Y))}}os()},Vs=Y=>{const ce=n[Y],me={...ce,id:Date.now().toString(),name:`${ce.name} - Cópia`};e(Ae=>[...Ae,me]),os()},Li=Y=>{L(Y),D(n[Y].name),G(!0),os()},gn=()=>{if(j!==null&&k&&k.trim()){const Y=k.trim(),ce=n[j].name;if(Y!==ce){if(n.some(me=>me.name===Y)){alert("Já existe uma pasta com este nome. Escolha um nome diferente.");return}e(me=>{const Ae=[...me];return Ae[j]={...Ae[j],name:Y},Ae})}D(""),L(null),G(!1)}},Ls=()=>{D(""),L(null),G(!1)},Sr=()=>{qt.current&&qt.current.scrollBy({left:-300,behavior:"smooth"})},Fs=()=>{qt.current&&qt.current.scrollBy({left:300,behavior:"smooth"})},$n=(Y,ce=[])=>{const me=[];return Y.forEach(Ae=>{const Se=[...ce,Ae.name];me.push({folder:Ae,path:Se}),Ae.subfolders.length>0&&me.push(...$n(Ae.subfolders,Se))}),me},Hn=$n(n).sort((Y,ce)=>Y.folder.isPinned&&!ce.folder.isPinned?-1:!Y.folder.isPinned&&ce.folder.isPinned?1:Y.folder.name.toLowerCase().localeCompare(ce.folder.name.toLowerCase())),ct=(Y,ce,me)=>{if(ce.length===0)return Y;const[Ae,...Se]=ce;return Y.map(st=>st.name===Ae?Se.length===0?{...st,...me}:{...st,subfolders:ct(st.subfolders,Se,me)}:st)},Us=(Y,ce)=>{if(ce.length===0)return Y;const[me,...Ae]=ce;return Ae.length===0?Y.filter(Se=>Se.name!==me):Y.map(Se=>Se.name===me?{...Se,subfolders:Us(Se.subfolders,Ae)}:Se)},Tr=(Y,ce)=>{const me=ct(n,ce,{isPinned:!Y.isPinned});e(me),re(null)},br=(Y,ce)=>{if(confirm(`Tem certeza que deseja mover a pasta "${Y.name}" e todo seu conteúdo para a lixeira?`)){const me={id:`folder-${Date.now()}`,title:Y.name,content:`Pasta com ${Y.notes.length} nota(s) e ${Y.subfolders.length} subpasta(s)`,type:"folder",originalPath:ce.slice(0,-1),deletedAt:new Date().toISOString(),folderId:Y.id,subfolders:Y.subfolders,notes:Y.notes};a(Se=>[...Se,me]);const Ae=Us(n,ce);e(Ae)}re(null)},Ao=(Y,ce)=>{Me({folder:Y,path:ce}),D(Y.name),ve(!0),re(null)},Fi=()=>{if(Pe&&k&&k.trim()){const Y=k.trim();if(Y!==Pe.folder.name){const ce=Pe.path.slice(0,-1);let me=n;for(const st of ce){const tt=me.find(Ut=>Ut.name===st);tt&&(me=tt.subfolders)}if(me.some(st=>st.name===Y&&st.id!==Pe.folder.id)){alert("Já existe uma pasta com este nome neste local. Escolha um nome diferente.");return}const Se=ct(n,Pe.path,{name:Y});e(Se)}D(""),Me(null),ve(!1)}},Wn=()=>{D(""),Me(null),ve(!1)},Ro=()=>{re(null)},as=()=>{$(!1),E(!0)},Ir=()=>{$(!1),Z(!0)},Cr=(Y,ce,me)=>{const Ae=(Se,st)=>Se.map(tt=>{if(tt.id===st){const Ut=new Date().toISOString(),zt={id:Date.now().toString(),title:me,content:"",createdAt:Ut,modifiedAt:Ut,lastOpenedAt:Ut};return{...tt,notes:[...tt.notes,zt]}}return{...tt,subfolders:Ae(tt.subfolders,st)}});e(Se=>Ae(Se,ce))},Po=Y=>{Cr(Y.folderPath,Y.folderId,Y.title),Z(!1)},rr=()=>{$(!1),se(!0)},qn=Y=>{const ce={id:Date.now().toString(),title:Y.title,color:Y.color,createdAt:new Date().toISOString()};s(me=>[ce,...me]),se(!1)},zs=Y=>{s(ce=>ce.filter(me=>me.id!==Y))},yn=()=>{$(!1),dn(!0)},Do=Y=>{const ce={id:Date.now().toString(),title:Y.title,task:Y.title,date:Y.date,time:Y.time,color:Ms({title:Y.title,task:Y.title,date:Y.date,time:Y.time,createdAt:new Date().toISOString()}),completed:!1,createdAt:new Date().toISOString()};f(me=>[ce,...me]),dn(!1)},jo=Y=>{f(ce=>ce.map(me=>me.id===Y?{...me,completed:!me.completed}:me))},Ui=Y=>{confirm("Tem certeza que deseja excluir esta tarefa?")&&f(ce=>ce.filter(me=>me.id!==Y))},vn=c.filter(Y=>!Y.completed),ls=c.filter(Y=>Y.completed),Oo=Y=>{f(ce=>ce.map(me=>me.id===Y?{...me,completed:!1}:me))},Mo=Y=>{confirm("Tem certeza que deseja excluir permanentemente esta tarefa?")&&f(ce=>ce.filter(me=>me.id!==Y))},Vo=()=>{$(!1),ht(!0)},cs=(Y,ce)=>{const me=localStorage.getItem("stride-dictionary-entries");let Ae=[];if(me&&me!=="null"&&me!=="[]")try{Ae=JSON.parse(me)}catch(tt){console.error("Erro ao carregar entradas do dicionário:",tt)}const Se={id:Date.now().toString(),word:Y,definition:ce,isPinned:!1,originalOrder:Ae.length},st=[...Ae,Se];localStorage.setItem("stride-dictionary-entries",JSON.stringify(st)),ht(!1),q(!0)};return h.jsxs("div",{className:"min-h-screen bg-white flex flex-col pb-20",onClick:os,children:[h.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 relative",children:[h.jsx("h1",{className:"text-center text-xl font-semibold text-gray-900",children:"Pastas"}),h.jsx("div",{className:"absolute right-6 top-1/2 transform -translate-y-1/2",children:h.jsx(nP,{className:"w-5 h-5 text-gray-600"})})]}),h.jsxs("div",{className:"flex-1 px-6 py-8",children:[h.jsxs("div",{className:"mb-8 relative",children:[h.jsx("button",{onClick:Sr,className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-2 z-10 w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center hover:bg-gray-500 transition-colors",children:h.jsx(iE,{className:"w-4 h-4 text-white"})}),h.jsx("button",{onClick:Fs,className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-2 z-10 w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center hover:bg-gray-500 transition-colors",children:h.jsx(_d,{className:"w-4 h-4 text-white"})}),h.jsx("div",{ref:qt,className:"overflow-x-auto scrollbar-hide mx-6",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:h.jsxs("div",{className:"flex gap-4 pb-2",style:{width:"max-content"},children:[h.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[h.jsx("button",{onClick:_r,className:"w-28 h-28 bg-gray-300 rounded-2xl flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 mb-2 cursor-pointer hover:bg-gray-200 hover:scale-105",children:h.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm",children:h.jsx(Yl,{className:"w-6 h-6 text-gray-600"})})}),h.jsxs("p",{className:"text-xs text-gray-600 text-center leading-tight w-28",children:["Clique no + para criar",h.jsx("br",{}),"uma pasta"]})]}),n.map((Y,ce)=>h.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[h.jsxs("div",{onClick:()=>p(Y.name),onContextMenu:me=>nr(me,ce),className:"w-28 h-28 bg-gray-300 rounded-2xl flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 mb-2 cursor-pointer relative group hover:scale-105",children:[h.jsx("div",{className:"w-16 h-12 bg-gray-600 rounded-sm relative",children:h.jsx("div",{className:"w-4 h-2 bg-gray-600 rounded-t-sm absolute -top-1 left-1"})}),h.jsx("button",{onClick:me=>{me.stopPropagation(),nr(me,ce)},className:"absolute top-2 right-2 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-50",children:h.jsx(Xu,{className:"w-4 h-4 text-gray-600"})})]}),h.jsx("p",{className:"text-xs text-gray-900 text-center font-medium leading-tight w-28",children:Y.name})]},Y.id))]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Notas Recentes"}),h.jsxs("div",{className:"space-y-3",children:[xr.length>0?h.jsx("div",{className:"max-h-[240px] overflow-y-auto space-y-3 pr-2 recent-notes-scroll",children:xr.map(Y=>h.jsxs("div",{onClick:()=>g(Y.path,Y.id),className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer group",children:[h.jsx(Fn,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:Y.title}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full flex-shrink-0 ml-2 ${Y.type==="created"?"bg-green-100 text-green-600":Y.type==="modified"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:Y.type==="created"?"Nova":Y.type==="modified"?"Editada":"Aberta"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:Y.path.join(" → ")}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(Y.timestamp).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]},Y.id))}):h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Fn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),h.jsx("p",{className:"text-sm",children:"Nenhuma nota recente"}),h.jsx("p",{className:"text-xs mt-1",children:"Crie suas primeiras notas!"})]}),h.jsx("div",{className:"bg-gray-100 rounded-lg p-6 mt-6 cursor-pointer transition-all duration-300 hover:bg-gray-50 pb-6",onClick:Mi,children:h.jsx("div",{className:"text-center",children:_?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Escolha quais dias da semana você deseja descansar"}),h.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Máximo de 2 dias (",C.length,"/2 selecionados)"]}),h.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:[{label:"S",day:1,name:"Segunda"},{label:"T",day:2,name:"Terça"},{label:"Q",day:3,name:"Quarta"},{label:"Q",day:4,name:"Quinta"},{label:"S",day:5,name:"Sexta"},{label:"S",day:6,name:"Sábado"},{label:"D",day:0,name:"Domingo"}].map((Y,ce)=>{const me=C.includes(Y.day),Ae=me||C.length<2;return h.jsx("button",{onClick:Se=>{Se.stopPropagation(),Ae&&wr(Y.day)},title:`${Y.name}${Ae?"":" - Limite atingido"}`,disabled:!Ae,className:`w-10 h-10 rounded-full text-sm font-medium transition-all duration-200 flex items-center justify-center ${me?"bg-gray-800 text-white shadow-md":Ae?"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50 cursor-pointer":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"}`,children:Y.label},ce)})}),h.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx(J0,{className:"w-5 h-5 text-gray-600"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-3xl font-semibold text-gray-800",children:b}),h.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[b===1?"dia":"dias"," de ofensiva"]})]})]})]}):h.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx(J0,{className:"w-5 h-5 text-gray-600"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-3xl font-semibold text-gray-800",children:b}),h.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[b===1?"dia":"dias"," de ofensiva"]}),C.includes(new Date().getDay())&&h.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:"🛌 Hoje é descanso"}),C.includes(new Date().getDay())&&h.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:"🛌 Dia de descanso hoje"})]})]})})})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"To-Do"}),h.jsxs("div",{className:"bg-gray-300 rounded-lg p-6 min-h-[400px] relative",children:[h.jsx("button",{onClick:()=>dn(!0),className:"absolute top-4 right-4 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-shadow",children:h.jsx(Yl,{className:"w-5 h-5 text-gray-600"})}),h.jsx("div",{className:"mt-8",children:vn.length>0?h.jsx("div",{className:"space-y-3 max-h-[280px] overflow-y-auto pr-2 todos-scroll",children:vn.map(Y=>h.jsxs("div",{className:`${Y.color} rounded-lg p-4 text-white relative`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h3",{className:"font-medium text-white",children:Y.title}),h.jsx("button",{onClick:()=>Ui(Y.id),className:"w-6 h-6 flex items-center justify-center hover:bg-white/20 rounded transition-colors",children:h.jsx(Xu,{className:"w-4 h-4 text-white"})})]}),h.jsxs("p",{className:"text-sm text-white/80 mb-3",children:[Y.date.toLocaleDateString("pt-BR")," ","às ",Y.time]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-white/70",children:"Pendente"}),h.jsx("button",{onClick:()=>jo(Y.id),className:"w-5 h-5 border border-white/50 rounded flex items-center justify-center hover:bg-white/20 transition-colors"})]})]},Y.id))}):h.jsxs("div",{className:"text-center text-gray-600 mt-16",children:[h.jsx(Vp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{className:"text-sm",children:"Nenhuma tarefa criada ainda."}),h.jsx("p",{className:"text-xs mt-1",children:"Clique no + para criar sua primeira tarefa!"})]})}),h.jsx("button",{onClick:()=>Os(!0),className:`absolute bottom-4 right-4 w-8 h-8 rounded flex items-center justify-center transition-all ${ls.length>0?"bg-green-500 hover:bg-green-600 shadow-md cursor-pointer":"bg-gray-500 cursor-default"}`,disabled:ls.length===0,children:h.jsx(Ca,{className:"w-5 h-5 text-white"})})]})]})]})]}),De&&h.jsx(rx,{folderStructure:n,onClose:()=>we(!1),onNavigateToNote:g,onNavigateToFolder:x}),xe&&h.jsx(ax,{onClose:()=>q(!1)}),he&&h.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col",onClick:Ro,children:[h.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pastas"}),h.jsx("button",{onClick:()=>fe(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-gray-500"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto folders-scroll",children:h.jsx("div",{className:"p-6",children:Hn.length>0?h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-6",children:Hn.map(({folder:Y,path:ce},me)=>h.jsxs("div",{className:"flex flex-col items-center relative group",children:[h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>{ce.length===1?p(Y.name):x(ce),fe(!1)},className:"w-24 h-24 bg-gray-300 rounded-2xl flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 mb-3 cursor-pointer hover:scale-105 hover:bg-gray-200",children:[h.jsx("div",{className:"w-12 h-9 bg-gray-600 rounded-sm relative",children:h.jsx("div",{className:"w-3 h-1.5 bg-gray-600 rounded-t-sm absolute -top-0.5 left-1"})}),Y.isPinned&&h.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:h.jsx(Ed,{className:"w-3 h-3 text-white"})})]}),h.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),re({x:Ae.clientX,y:Ae.clientY,folder:Y,path:ce})},className:"absolute top-1 right-1 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-50",children:h.jsx(Xu,{className:"w-4 h-4 text-gray-600"})})]}),h.jsx("p",{className:"text-xs text-gray-900 text-center font-medium leading-tight w-24 break-words",children:Y.name}),ce.length>1&&h.jsx("p",{className:"text-xs text-gray-500 text-center leading-tight w-24 break-words mt-1",children:ce.slice(0,-1).join(" > ")})]},`${Y.id}-${me}`))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(oc,{className:"w-8 h-8 text-gray-400"})}),h.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhuma pasta encontrada"}),h.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Crie sua primeira pasta para começar a organizar suas notas"})]})})}),H&&h.jsxs("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg py-2 z-50",style:{left:H.x,top:H.y},onClick:Y=>Y.stopPropagation(),children:[h.jsx("button",{onClick:()=>Tr(H.folder,H.path),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:H.folder.isPinned?h.jsxs(h.Fragment,{children:[h.jsx(dE,{className:"w-4 h-4 mr-3"}),"Desfixar"]}):h.jsxs(h.Fragment,{children:[h.jsx(Ed,{className:"w-4 h-4 mr-3"}),"Fixar"]})}),h.jsxs("button",{onClick:()=>Ao(H.folder,H.path),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(uP,{className:"w-4 h-4 mr-3"}),"Renomear"]}),h.jsx("hr",{className:"border-gray-200 my-1"}),h.jsxs("button",{onClick:()=>br(H.folder,H.path),className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-gray-100 w-full text-left",children:[h.jsx(mr,{className:"w-4 h-4 mr-3"}),"Excluir"]})]})]}),P&&h.jsxs("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg py-2 z-50",style:{left:P.x,top:P.y},onClick:Y=>Y.stopPropagation(),children:[h.jsxs("button",{onClick:()=>Li(P.folderIndex),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(Fn,{className:"w-4 h-4 mr-3"}),"Renomear"]}),h.jsxs("button",{onClick:()=>Vs(P.folderIndex),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(jp,{className:"w-4 h-4 mr-3"}),"Duplicar"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(ac,{className:"w-4 h-4 mr-3"}),"Copiar Link"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(aE,{className:"w-4 h-4 mr-3"}),"Exportar como"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(hE,{className:"w-4 h-4 mr-3"}),"Salvar"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[h.jsx(Mp,{className:"w-4 h-4 mr-3"}),"Mover para"]}),h.jsx("hr",{className:"border-gray-200 my-1"}),h.jsxs("button",{onClick:()=>Er(P.folderIndex),className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-gray-100 w-full text-left",children:[h.jsx(mr,{className:"w-4 h-4 mr-3"}),"Excluir"]})]}),h.jsx(np,{open:N,onOpenChange:E,children:h.jsxs(rp,{className:"sm:max-w-md",children:[h.jsxs(sp,{children:[h.jsx(ip,{children:"Criar Nova Pasta"}),h.jsx(op,{children:"Digite o nome da nova pasta que você deseja criar."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"folderName",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Nome da pasta"}),h.jsx(tr,{id:"folderName",value:k,onChange:Y=>D(Y.target.value),placeholder:"Digite o nome da pasta...",className:"w-full",onKeyPress:Y=>{Y.key==="Enter"&&Vi()},autoFocus:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(In,{variant:"outline",onClick:is,className:"px-4 py-2",children:"Cancelar"}),h.jsx(In,{onClick:Vi,className:"px-4 py-2 bg-gray-800 hover:bg-gray-900 text-white",disabled:!k.trim(),children:"Criar Pasta"})]})]})]})}),h.jsx(np,{open:J,onOpenChange:G,children:h.jsxs(rp,{className:"sm:max-w-md",children:[h.jsxs(sp,{children:[h.jsx(ip,{children:"Renomear Pasta"}),h.jsx(op,{children:"Digite o novo nome para a pasta selecionada."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"renameFolderName",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Nome da pasta"}),h.jsx(tr,{id:"renameFolderName",value:k,onChange:Y=>D(Y.target.value),placeholder:"Digite o novo nome da pasta...",className:"w-full",onKeyPress:Y=>{Y.key==="Enter"&&gn()},autoFocus:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(In,{variant:"outline",onClick:Ls,className:"px-4 py-2",children:"Cancelar"}),h.jsx(In,{onClick:gn,className:"px-4 py-2 bg-gray-800 hover:bg-gray-900 text-white",disabled:!k.trim(),children:"Renomear"})]})]})]})}),h.jsx(np,{open:_e,onOpenChange:ve,children:h.jsxs(rp,{className:"sm:max-w-md",children:[h.jsxs(sp,{children:[h.jsx(ip,{children:"Renomear Pasta"}),h.jsx(op,{children:"Digite o novo nome para a pasta selecionada."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"renameFolderFromModalName",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Nome da pasta"}),h.jsx(tr,{id:"renameFolderFromModalName",value:k,onChange:Y=>D(Y.target.value),placeholder:"Digite o novo nome da pasta...",className:"w-full",onKeyPress:Y=>{Y.key==="Enter"&&Fi()},autoFocus:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(In,{variant:"outline",onClick:Wn,className:"px-4 py-2",children:"Cancelar"}),h.jsx(In,{onClick:Fi,className:"px-4 py-2 bg-gray-800 hover:bg-gray-900 text-white",disabled:!k.trim(),children:"Renomear"})]})]})]})}),U&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 relative",children:[h.jsx("button",{onClick:()=>$(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Ft,{className:"w-5 h-5 text-red-500"})}),h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Criar"})}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:as,className:"w-full flex items-center px-6 py-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors",children:[h.jsx(Mp,{className:"w-6 h-6 text-gray-600 mr-4"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Pasta"})]}),h.jsxs("button",{onClick:Ir,className:"w-full flex items-center px-6 py-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors",children:[h.jsx(Fn,{className:"w-6 h-6 text-gray-600 mr-4"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Nota"})]}),h.jsxs("button",{onClick:rr,className:"w-full flex items-center px-6 py-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors",children:[h.jsx(Dp,{className:"w-6 h-6 text-gray-600 mr-4"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Marcador"})]}),h.jsxs("button",{onClick:yn,className:"w-full flex items-center px-6 py-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors",children:[h.jsx(Vp,{className:"w-6 h-6 text-gray-600 mr-4"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"To-do"})]}),h.jsxs("button",{onClick:Vo,className:"w-full flex items-center px-6 py-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors",children:[h.jsx(DR,{className:"w-6 h-6 text-gray-600 mr-4"}),h.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Palavras"})]})]}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx("button",{onClick:()=>$(!1),className:"px-8 py-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-colors font-medium",children:"Cancelar"})})]})}),De&&h.jsx(rx,{folderStructure:n,onClose:()=>we(!1),onNavigateToNote:g,onNavigateToFolder:x}),xe&&h.jsx(ax,{onClose:()=>q(!1)}),z&&h.jsx(F4,{folderStructure:n,onClose:()=>Z(!1),onCreate:Po}),ne&&h.jsx(U4,{onClose:()=>se(!1),onCreate:qn}),ue&&h.jsx(z4,{bookmarks:t,onClose:()=>Oe(!1),onDeleteBookmark:zs}),mn&&h.jsx(B4,{onClose:()=>dn(!1),onCreate:Do}),Nn&&h.jsx($4,{onClose:()=>Os(!1),completedTodos:ls,onDeleteCompleted:Mo,onRestoreCompleted:Oo}),Et&&h.jsx(H4,{onClose:()=>ht(!1),onWordCreated:cs}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-400 px-6 py-4 z-50",children:h.jsxs("div",{className:"flex items-center justify-center space-x-8 max-w-md mx-auto",children:[h.jsx("button",{onClick:()=>we(!0),className:"p-3 rounded-full hover:bg-gray-300 transition-colors",children:h.jsx(_c,{className:"w-6 h-6 text-gray-600"})}),h.jsx("button",{onClick:()=>q(!0),className:"p-3 rounded-full hover:bg-gray-300 transition-colors",children:h.jsx(Fn,{className:"w-6 h-6 text-gray-600"})}),h.jsx("button",{onClick:()=>fe(!0),className:"p-3 rounded-full hover:bg-gray-300 transition-colors",children:h.jsx(oc,{className:"w-6 h-6 text-gray-600"})}),h.jsx("button",{onClick:()=>$(!0),className:"p-3 rounded-full bg-white shadow-md hover:shadow-lg transition-shadow",children:h.jsx(Yl,{className:"w-6 h-6 text-gray-600"})}),h.jsx("button",{className:"p-3 rounded-full hover:bg-gray-300 transition-colors",children:h.jsx(kR,{className:"w-6 h-6 text-gray-600"})}),h.jsx("button",{onClick:()=>Nt(!0),className:"p-3 rounded-full hover:bg-gray-300 transition-colors",title:"Lixeira",children:h.jsx(mr,{className:"w-6 h-6 text-gray-600"})}),h.jsx("button",{onClick:()=>Oe(!0),className:"p-3 rounded-full hover:bg-gray-300 transition-colors",title:"Meus Marcadores",children:h.jsx(Dp,{className:"w-6 h-6 text-gray-600"})})]})}),h.jsx(fO,{isOpen:Qe,onClose:()=>Nt(!1),trashItems:o,setTrashItems:a,folderStructure:n,setFolderStructure:e})]})}function pO({text:n,onNavigateToNote:e}){const[t,s]=I.useState(null),o=a=>{const c=[];let f=a,p=0;const g=[{type:"dictionary",regex:/<dictionary id="([^"]*)">(.*?)<\/dictionary>/,render:(x,_,T)=>{const[,C,M]=x;return{before:_,element:h.jsx("span",{"data-interactive":"true",className:"bg-gray-600 text-gray-100 px-1 py-0.5 rounded cursor-help border-b-2 border-dotted border-gray-400",onMouseEnter:b=>{const O=JSON.parse(localStorage.getItem("stride-dictionary-entries")||"[]").find(F=>F.id===C);if(O){const F=b.currentTarget.getBoundingClientRect();s({content:O.definition,position:{x:F.left+F.width/2,y:F.top}})}},onMouseLeave:()=>s(null),children:M},p++),after:T}}},{type:"link",regex:/<link noteId="([^"]*)" noteTitle="([^"]*)">(.*?)<\/link>/,render:(x,_,T)=>{const[,C,M,b]=x;return{before:_,element:h.jsx("button",{"data-interactive":"true",className:"underline text-blue-400 cursor-pointer hover:text-blue-300 decoration-2 decoration-blue-400 underline-offset-2 z-50 relative bg-transparent border-none p-0 m-0 font-inherit leading-inherit inline",onMouseDown:R=>{R.preventDefault(),R.stopPropagation()},onClick:R=>{R.preventDefault(),R.stopPropagation(),R.stopImmediatePropagation(),e&&typeof e=="function"&&e(C)},onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),R.stopPropagation(),e&&typeof e=="function"&&e(C))},title:`Ir para: ${M}`,type:"button",children:b},p++),after:T}}},{type:"highlight",regex:/<highlight color="([^"]*)">(.*?)<\/highlight>/,render:(x,_,T)=>{const[,C,M]=x;return{before:_,element:h.jsx("span",{style:{backgroundColor:C,padding:"2px 4px",borderRadius:"3px",boxShadow:`0 0 0 1px ${C}40`},className:"text-gray-900",children:M},p++),after:T}}},{type:"bold",regex:/\*\*(.*?)\*\*/,render:(x,_,T)=>{const[,C]=x;return{before:_,element:h.jsx("strong",{className:"font-bold text-white",children:C},p++),after:T}}},{type:"italic",regex:/\*(.*?)\*/,render:(x,_,T)=>{const[,C]=x;return{before:_,element:h.jsx("em",{className:"italic text-gray-200",children:C},p++),after:T}}}];for(;f.length>0;){let x=null;for(const _ of g){const T=f.match(_.regex);T&&T.index!==void 0&&(!x||T.index<x.index)&&(x={index:T.index,pattern:_,match:T})}if(x){const{index:_,pattern:T,match:C}=x;_>0&&c.push(h.jsx("span",{children:f.substring(0,_)},p++));const M="",b=f.substring(_+C[0].length),R=T.render(C,M,b);c.push(R.element),f=b}else{f.length>0&&c.push(h.jsx("span",{children:f},p++));break}}return c};return h.jsxs("div",{className:"relative h-full",children:[h.jsx("div",{className:"whitespace-pre-wrap text-gray-300 leading-relaxed text-base h-full",children:n.split(`
`).map((a,c)=>h.jsx("div",{className:"min-h-[1.5rem]",children:a.length>0?o(a):" "},c))}),t&&h.jsxs("div",{className:"fixed bg-gray-800 text-white px-3 py-2 rounded-lg shadow-lg text-sm max-w-xs z-50 pointer-events-none",style:{left:t.position.x,top:t.position.y-10,transform:"translateX(-50%) translateY(-100%)"},children:[t.content,h.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]})}function mO({onClose:n}){return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:n,children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Formatação de Texto"}),h.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded",children:h.jsx(Ft,{className:"w-5 h-5 text-gray-500"})})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[h.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Como usar"}),h.jsx("p",{className:"text-blue-800 text-sm",children:"Selecione qualquer texto na nota para ver as opções de formatação. Use o botão de visualização (👁️) para ver como ficará o texto formatado."})]}),h.jsxs("div",{className:"grid gap-4",children:[h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-gray-100 rounded",children:h.jsx(nE,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Negrito"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Ctrl+B ou botão na toolbar"})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[h.jsx("p",{className:"text-gray-600",children:"Exemplo: "}),h.jsxs("p",{className:"text-gray-800",children:["Este texto está em ",h.jsx("strong",{children:"negrito"}),"."]})]})]}),h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-gray-100 rounded",children:h.jsx(uE,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Itálico"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Ctrl+I ou botão na toolbar"})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[h.jsx("p",{className:"text-gray-600",children:"Exemplo: "}),h.jsxs("p",{className:"text-gray-800",children:["Este texto está em ",h.jsx("em",{children:"itálico"}),"."]})]})]}),h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-yellow-100 rounded",children:h.jsx(cE,{className:"w-4 h-4 text-yellow-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Grifar"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Selecione uma cor da paleta"})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[h.jsx("p",{className:"text-gray-600",children:"Exemplo: "}),h.jsxs("p",{className:"text-gray-800",children:["Este texto está",h.jsx("span",{className:"bg-yellow-300 px-1 rounded text-gray-900",children:" grifado em amarelo"}),", este está",h.jsx("span",{className:"bg-green-300 px-1 rounded text-gray-900",children:" grifado em verde"}),"."]})]})]}),h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-blue-100 rounded",children:h.jsx(ac,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Vincular a Nota"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Conecta texto a outras notas"})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[h.jsx("p",{className:"text-gray-600",children:"Exemplo: "}),h.jsxs("p",{className:"text-gray-800",children:["Veja mais detalhes em",h.jsx("span",{className:"underline text-blue-600 cursor-pointer",children:"minha outra nota"}),"."]})]})]}),h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h.jsx("div",{className:"p-2 bg-green-100 rounded",children:h.jsx(rE,{className:"w-4 h-4 text-green-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Adicionar ao Dicionário"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Cria definições para termos"})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[h.jsx("p",{className:"text-gray-600",children:"Exemplo: "}),h.jsxs("p",{className:"text-gray-800",children:["Este é um",h.jsx("span",{className:"bg-gray-300 px-1 rounded border-b-2 border-dotted border-gray-500 cursor-help",children:"termo técnico"}),"(passe o mouse para ver a definição)."]})]})]})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[h.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"💡 Dicas"}),h.jsxs("ul",{className:"text-green-800 text-sm space-y-1",children:[h.jsx("li",{children:"• Use Ctrl+B para negrito e Ctrl+I para itálico rapidamente"}),h.jsx("li",{children:"• Clique em links sublinhados para navegar entre notas"}),h.jsx("li",{children:"• Passe o mouse sobre termos grifados para ver definições"}),h.jsx("li",{children:"• Use o botão 👁️ para alternar entre edição e visualização"})]})]})]}),h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Entendi"})})]})})}function gO({onColorSelect:n,onClose:e,position:t}){const s=["#FFE066","#66FFE0","#66B3FF","#B366FF","#FF66B3","#FF6666","#66FF66","#FFA366"];return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-30",onClick:e}),h.jsx("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-40",style:{left:t.x,top:t.y+10,transform:"translateX(-50%)"},children:h.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.map((o,a)=>h.jsx("button",{onClick:()=>{n(o),e()},className:"w-8 h-8 rounded-full border-2 border-gray-300 hover:border-gray-500 transition-colors",style:{backgroundColor:o},title:`Grifar com cor ${a+1}`},a))})})]})}function yO({onNoteSelect:n,onClose:e,folderStructure:t,currentNoteId:s}){const[o,a]=I.useState(""),[c,f]=I.useState([]),p=(b,R=[])=>{let O=[];for(const F of b){const U=[...R,F.name];F.notes.forEach($=>{$.id!==s&&O.push({note:$,path:U})}),O=[...O,...p(F.subfolders,U)]}return O},g=()=>{let b=t.find(R=>R.name===c[0]);if(!b)return null;for(let R=1;R<c.length;R++)if(b=b.subfolders.find(O=>O.name===c[R]),!b)return null;return b},x=p(t),_=o?x.filter(({note:b})=>b.title.toLowerCase().includes(o.toLowerCase())||b.content.toLowerCase().includes(o.toLowerCase())):[],T=c.length>0?g():null,C=c.length===0?t:T?.subfolders||[],M=T?T.notes.filter(b=>b.id!==s):[];return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden flex flex-col",onClick:b=>b.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Vincular a uma nota"}),h.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded",children:h.jsx(Ft,{className:"w-5 h-5 text-gray-500"})})]}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx(_c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),h.jsx("input",{type:"text",placeholder:"Buscar notas...",value:o,onChange:b=>a(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.length>0&&h.jsxs("div",{className:"flex items-center space-x-2 mb-4 text-sm text-gray-600",children:[h.jsx("button",{onClick:()=>f([]),className:"hover:text-blue-600",children:"Início"}),c.map((b,R)=>h.jsxs("span",{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"/"}),h.jsx("button",{onClick:()=>f(c.slice(0,R+1)),className:"hover:text-blue-600",children:b})]},R))]}),h.jsx("div",{className:"flex-1 overflow-y-auto folders-scroll",children:o?h.jsx("div",{className:"space-y-2",children:_.length>0?_.map(({note:b,path:R})=>h.jsx("button",{onClick:()=>{n(b.id,b.title),e()},className:"w-full p-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Fn,{className:"w-4 h-4 text-blue-600"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-gray-900",children:b.title}),h.jsx("div",{className:"text-sm text-gray-500",children:R.join(" / ")}),b.content&&h.jsxs("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:[b.content.substring(0,100),"..."]})]})]})},b.id)):h.jsxs("div",{className:"text-center py-8 text-gray-500",children:['Nenhuma nota encontrada para "',o,'"']})}):h.jsxs("div",{className:"space-y-2",children:[C.map(b=>h.jsx("button",{onClick:()=>f([...c,b.name]),className:"w-full p-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(eP,{className:"w-4 h-4 text-gray-600"}),h.jsx("span",{className:"font-medium text-gray-900",children:b.name}),h.jsxs("span",{className:"text-sm text-gray-500",children:["(",b.notes.length," notas, ",b.subfolders.length," pastas)"]})]})},b.id)),M.map(b=>h.jsx("button",{onClick:()=>{n(b.id,b.title),e()},className:"w-full p-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Fn,{className:"w-4 h-4 text-blue-600"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-gray-900",children:b.title}),b.content&&h.jsxs("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:[b.content.substring(0,100),"..."]})]})]})},b.id)),C.length===0&&M.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:c.length===0?"Nenhuma pasta encontrada":"Pasta vazia"})]})}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-600",children:"💡 Dica: Use a busca para encontrar notas rapidamente ou navegue pelas pastas"})})]})})}function vO({word:n,onAdd:e,onClose:t}){const[s,o]=I.useState(""),a=c=>{c.preventDefault(),s.trim()&&(e(s.trim()),t())};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:c=>c.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Adicionar ao Dicionário"}),h.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:h.jsx(Ft,{className:"w-5 h-5 text-gray-500"})})]}),h.jsxs("form",{onSubmit:a,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palavra"}),h.jsx("input",{type:"text",value:n,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Definição"}),h.jsx("textarea",{value:s,onChange:c=>o(c.target.value),placeholder:"Digite a definição da palavra...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 min-h-[100px] resize-vertical text-gray-900 placeholder:text-gray-500",required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Adicionar"})]})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-600",children:"💡 Esta definição aparecerá em um tooltip ao passar o mouse sobre a palavra na nota."})})]})})}function xO({value:n,onChange:e,placeholder:t,folderStructure:s,noteId:o,onNavigateToNote:a}){const c=I.useRef(null),[f,p]=I.useState(null),[g,x]=I.useState(!1),[_,T]=I.useState({x:0,y:0}),[C,M]=I.useState(!1),[b,R]=I.useState(!1),[O,F]=I.useState(!1),[U,$]=I.useState(!1),[J,G]=I.useState(!n),N=I.useCallback(()=>{const D=c.current;if(!D)return;const j=D.selectionStart,L=D.selectionEnd;if(j===L){x(!1),p(null);return}const P=n.substring(j,L);p({start:j,end:L,text:P});const ge=D.getBoundingClientRect(),De=window.pageYOffset||document.documentElement.scrollTop,we=window.pageXOffset||document.documentElement.scrollLeft;T({x:ge.left+we+ge.width/2,y:ge.top+De-60}),x(!0)},[n]),E=(D,j)=>{if(!f)return;const{start:L,end:P,text:ge}=f,De=n.substring(0,L),we=n.substring(P);let xe="";switch(D){case"bold":xe=`**${ge}**`;break;case"italic":xe=`*${ge}*`;break;case"highlight":xe=`<highlight color="${j.color}">${ge}</highlight>`;break;case"link":xe=`<link noteId="${j.noteId}" noteTitle="${j.noteTitle}">${ge}</link>`;break;case"dictionary":const he={id:Date.now().toString(),word:ge,definition:j.definition},H=[...JSON.parse(localStorage.getItem("stride-dictionary-entries")||"[]"),he];localStorage.setItem("stride-dictionary-entries",JSON.stringify(H)),xe=`<dictionary id="${he.id}">${ge}</dictionary>`;break}const q=De+xe+we;e(q),k(),setTimeout(()=>{c.current?.focus();const he=L+xe.length;c.current?.setSelectionRange(he,he)},100)},k=()=>{x(!1),p(null),M(!1),R(!1),F(!1)};return I.useEffect(()=>{!n&&!J&&G(!0)},[n,J]),h.jsxs("div",{className:"relative w-full h-full",children:[h.jsxs("div",{className:"absolute top-2 right-2 z-50 flex space-x-2",children:[h.jsx("button",{onClick:()=>$(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-gray-300 hover:text-white transition-colors",title:"Ajuda sobre formatação",children:h.jsx($R,{className:"w-4 h-4"})}),n&&h.jsx("button",{onClick:()=>{const D=!J;G(D),D&&setTimeout(()=>c.current?.focus(),0)},className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-gray-300 hover:text-white transition-colors",title:J?"Visualizar formatação":"Editar texto",children:J?h.jsx(lE,{className:"w-4 h-4"}):h.jsx(xP,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"relative w-full h-full",children:[h.jsx("textarea",{ref:c,value:n,onChange:D=>{e(D.target.value)},onSelect:N,onMouseUp:N,onKeyUp:N,onKeyDown:D=>{(D.ctrlKey||D.metaKey)&&(D.key==="b"?(D.preventDefault(),f&&E("bold")):D.key==="i"&&(D.preventDefault(),f&&E("italic")))},onFocus:()=>G(!0),onBlur:()=>{setTimeout(()=>{!C&&!b&&!O&&!U&&(G(!1),x(!1))},200)},onClick:()=>G(!0),placeholder:t,className:`w-full h-full border-none outline-none resize-none text-base leading-relaxed z-20 relative ${J?"bg-transparent text-gray-300":"bg-transparent text-transparent pointer-events-none"}`,style:{minHeight:"calc(100vh - 200px)",fontFamily:"inherit"},spellCheck:!1}),!J&&n&&h.jsx("div",{className:"absolute inset-0 cursor-text z-30",style:{minHeight:"calc(100vh - 200px)",fontSize:"inherit",lineHeight:"inherit",fontFamily:"inherit",padding:"0",pointerEvents:"auto"},children:h.jsx("div",{className:"w-full h-full",onClick:D=>{const j=D.target;j.closest('[data-interactive="true"]')||j.closest('span[class*="cursor-pointer"]')||j.closest('span[class*="cursor-help"]')||(G(!0),setTimeout(()=>c.current?.focus(),0))},children:h.jsx(pO,{text:n,onNavigateToNote:a})})}),!n&&h.jsx("div",{className:"absolute inset-0 pointer-events-none text-gray-500 text-base z-10",style:{lineHeight:"inherit",padding:"0"},onClick:()=>{G(!0),setTimeout(()=>c.current?.focus(),0)},children:t})]}),g&&f&&h.jsxs("div",{className:"fixed bg-gray-900 border border-gray-600 rounded-lg shadow-xl px-3 py-2 z-40 flex items-center space-x-1",style:{left:_.x,top:_.y,transform:"translateX(-50%)"},children:[h.jsx("button",{onClick:()=>E("bold"),className:"p-2 hover:bg-gray-700 rounded-md text-white transition-colors group",title:"Negrito (Ctrl+B)",children:h.jsx(nE,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})}),h.jsx("div",{className:"w-px h-6 bg-gray-600"}),h.jsx("button",{onClick:()=>E("italic"),className:"p-2 hover:bg-gray-700 rounded-md text-white transition-colors group",title:"Itálico (Ctrl+I)",children:h.jsx(uE,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})}),h.jsx("div",{className:"w-px h-6 bg-gray-600"}),h.jsx("button",{onClick:()=>M(!0),className:"p-2 hover:bg-gray-700 rounded-md text-yellow-400 hover:text-yellow-300 transition-colors group",title:"Grifar texto",children:h.jsx(cE,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})}),h.jsx("div",{className:"w-px h-6 bg-gray-600"}),h.jsx("button",{onClick:()=>R(!0),className:"p-2 hover:bg-gray-700 rounded-md text-blue-400 hover:text-blue-300 transition-colors group",title:"Vincular a outra nota",children:h.jsx(ac,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})}),h.jsx("div",{className:"w-px h-6 bg-gray-600"}),h.jsx("button",{onClick:()=>F(!0),className:"p-2 hover:bg-gray-700 rounded-md text-green-400 hover:text-green-300 transition-colors group",title:"Adicionar ao dicionário",children:h.jsx(rE,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})})]}),C&&h.jsx(gO,{onColorSelect:D=>E("highlight",{color:D}),onClose:()=>M(!1),position:_}),b&&h.jsx(yO,{onNoteSelect:(D,j)=>E("link",{noteId:D,noteTitle:j}),onClose:()=>R(!1),folderStructure:s,currentNoteId:o}),O&&f&&h.jsx(vO,{word:f.text,onAdd:D=>E("dictionary",{definition:D}),onClose:()=>F(!1)}),U&&h.jsx(mO,{onClose:()=>$(!1)})]})}const wO=({text:n,highlight:e})=>{if(!e.trim())return h.jsx("span",{children:n});const t=new RegExp(`(${e})`,"gi"),s=n.split(t);return h.jsx("span",{children:s.map((o,a)=>t.test(o)?h.jsx("span",{className:"bg-yellow-600 text-black px-1 rounded",children:o},a):h.jsx("span",{children:o},a))})};function _O({selectedFolderPath:n,setSelectedFolderPath:e,folderStructure:t,setFolderStructure:s,trashItems:o,setTrashItems:a,onNavigateToNoteById:c,onBack:f}){const[p,g]=I.useState([]),[x,_]=I.useState(null),[T,C]=I.useState(null),[M,b]=I.useState(""),[R,O]=I.useState(null);I.useRef(null);const F=()=>{if(n.length===0)return null;let z=t,Z=null;for(const ne of n){if(Z=z.find(se=>se.name===ne)||null,!Z)return null;z=Z.subfolders}return Z},U=(z,Z)=>{s(ne=>{if(z.length===0)return ne;const se=(ue,Oe)=>ue.map(Qe=>Qe.name===Oe[0]?Oe.length===1?Z(Qe):{...Qe,subfolders:se(Qe.subfolders,Oe.slice(1))}:Qe);return se(ne,z)})};I.useEffect(()=>{const z=F();if(z&&z.notes.length===0&&p.length===0){const Z={id:Date.now().toString(),title:"Nova Nota",content:""};U(n,ne=>({...ne,notes:[...ne.notes,Z]})),g([Z]),_(Z.id)}},[n]),I.useEffect(()=>{const z=F();if(z&&z.notes.length>0){const Z=z.notes.reduce((ne,se)=>!ne.lastOpenedAt&&!se.lastOpenedAt?ne:ne.lastOpenedAt?se.lastOpenedAt&&new Date(se.lastOpenedAt)>new Date(ne.lastOpenedAt)?se:ne:se);Z.lastOpenedAt&&Date.now()-new Date(Z.lastOpenedAt).getTime()<2e3&&(console.log("Abrindo nota automaticamente após navegação por link:",Z.title),setTimeout(()=>{g(se=>se.find(ue=>ue.id===Z.id)?se.map(ue=>ue.id===Z.id?Z:ue):[...se,Z]),_(Z.id)},100))}},[n,t]);const $=()=>{const z=new Date().toISOString(),Z={id:Date.now().toString(),title:"Nova Nota",content:"",createdAt:z,modifiedAt:z,lastOpenedAt:z};U(n,ne=>({...ne,notes:[...ne.notes,Z]})),g(ne=>ne.find(se=>se.id===Z.id)?ne:[...ne,Z]),_(Z.id)},J=()=>{const z=prompt("Nome da nova pasta:");if(z&&z.trim()){const Z=z.trim(),ne=F();if(ne){if(ne.subfolders.some(ue=>ue.name===Z)){alert("Já existe uma pasta com este nome. Escolha um nome diferente.");return}const se={id:Date.now().toString(),name:Z,subfolders:[],notes:[]};U(n,ue=>({...ue,subfolders:[...ue.subfolders,se]})),console.log("Pasta criada com sucesso:",Z)}else console.error("Pasta atual não encontrada. Path:",n),alert("Erro: Pasta atual não encontrada. Tente navegar novamente para esta pasta.")}},G=z=>{const Z=new Date().toISOString();U(n,se=>({...se,notes:se.notes.map(ue=>ue.id===z.id?{...ue,lastOpenedAt:Z}:ue)}));const ne={...z,lastOpenedAt:Z};g(se=>se.find(ue=>ue.id===z.id)?se.map(ue=>ue.id===z.id?ne:ue):[...se,ne]),_(z.id)},N=z=>{g(Z=>{const ne=Z.filter(se=>se.id!==z);return x===z&&_(ne.length>0?ne[ne.length-1].id:null),ne})},E=(z,Z)=>{const ne=new Date().toISOString();U(n,se=>({...se,notes:se.notes.map(ue=>ue.id===z?{...ue,content:Z,modifiedAt:ne}:ue)})),g(se=>se.map(ue=>ue.id===z?{...ue,content:Z,modifiedAt:ne}:ue))},k=(z,Z)=>{const ne=new Date().toISOString();U(n,se=>({...se,notes:se.notes.map(ue=>ue.id===z?{...ue,title:Z,modifiedAt:ne}:ue)})),g(se=>se.map(ue=>ue.id===z?{...ue,title:Z,modifiedAt:ne}:ue))},D=(z,Z)=>{z.preventDefault(),z.stopPropagation(),C({x:z.clientX,y:z.clientY,noteId:Z,type:"note"})},j=(z,Z)=>{z.preventDefault(),z.stopPropagation(),C({x:z.clientX,y:z.clientY,folderId:Z,type:"folder"})},L=()=>{C(null)},P=z=>{if(confirm("Tem certeza que deseja mover esta nota para a lixeira?")){const ne=F()?.notes.find(se=>se.id===z);if(ne){const se={id:ne.id,title:ne.title,content:ne.content,type:"note",originalPath:[...n],deletedAt:new Date().toISOString()};a(ue=>[...ue,se]),U(n,ue=>({...ue,notes:ue.notes.filter(Oe=>Oe.id!==z)})),g(ue=>{const Oe=ue.filter(Qe=>Qe.id!==z);return x===z&&_(Oe.length>0?Oe[Oe.length-1].id:null),Oe})}}L()},ge=z=>{const Z=F();if(Z){const ne=Z.notes.find(se=>se.id===z);if(ne){const se=new Date().toISOString(),ue={id:Date.now().toString(),title:`${ne.title} - Cópia`,content:ne.content,createdAt:se,modifiedAt:se,lastOpenedAt:se};U(n,Oe=>({...Oe,notes:[...Oe.notes,ue]}))}}L()},De=z=>{if(confirm("Tem certeza que deseja mover esta pasta e todo seu conteúdo para a lixeira?")){const ne=F()?.subfolders.find(se=>se.name===z);if(ne){const se={id:`folder-${Date.now()}`,title:ne.name,content:`Pasta com ${ne.notes.length} nota(s) e ${ne.subfolders.length} subpasta(s)`,type:"folder",originalPath:[...n],deletedAt:new Date().toISOString(),folderId:ne.id,subfolders:ne.subfolders,notes:ne.notes};a(ue=>[...ue,se]),U(n,ue=>({...ue,subfolders:ue.subfolders.filter(Oe=>Oe.name!==z)}))}}L()},we=z=>{const Z=prompt("Novo nome da pasta:",z);if(Z&&Z.trim()&&Z.trim()!==z){const ne=Z.trim(),se=F();if(se&&se.subfolders.some(ue=>ue.name===ne&&ue.name!==z)){alert("Já existe uma pasta com este nome. Escolha um nome diferente.");return}U(n,ue=>({...ue,subfolders:ue.subfolders.map(Oe=>Oe.name===z?{...Oe,name:ne}:Oe)}))}L()},xe=z=>{e(Z=>[...Z,z])},q=z=>{e(Z=>Z.slice(0,z+1))},he=(z,Z)=>{const ne=[],se=(ue,Oe)=>{ue.forEach(Qe=>{const Nt=[...Oe,Qe.name];Qe.name.toLowerCase().includes(Z.toLowerCase())&&ne.push({type:"folder",item:Qe,path:Oe}),Qe.notes.forEach(mn=>{(mn.title.toLowerCase().includes(Z.toLowerCase())||mn.content.toLowerCase().includes(Z.toLowerCase()))&&ne.push({type:"note",item:mn,path:Nt})}),se(Qe.subfolders,Nt)})};return se(z,[]),ne},fe=()=>M.trim()?he(t,M):[],H=z=>{if(b(""),z.type==="note"){const Z=z.path,ne=z.item;e(Z),setTimeout(()=>{g(se=>se.find(ue=>ue.id===ne.id)?se:[...se,ne]),_(ne.id)},100)}else{const Z=z.item,ne=[...z.path,Z.name];e(ne)}},re=z=>{console.log("handleNoteNavigation chamado com noteId:",z);const Z=F();if(Z){const ne=Z.notes.find(se=>se.id===z);if(ne){console.log("Nota encontrada na pasta atual, abrindo diretamente:",ne.title),G(ne);return}}console.log("Nota não encontrada na pasta atual, navegando via onNavigateToNoteById"),c(z)},_e=F(),ve=p.find(z=>z.id===x),Pe=fe(),Me=M.trim().length>0;return h.jsxs("div",{className:"min-h-screen bg-gray-800 text-white flex",onClick:L,children:[h.jsxs("div",{className:"w-72 bg-gray-900 border-r border-gray-700",children:[h.jsxs("div",{className:"p-4 border-b border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h2",{className:"font-medium text-gray-200",children:"Pastas & Notas"}),h.jsx(In,{onClick:f,variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-gray-700",title:n.length===1?"Voltar para HomePage":"Voltar um nível",children:"←"})]}),h.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-400 overflow-x-auto",children:[h.jsx("button",{onClick:f,className:"hover:text-white transition-colors",title:"Voltar para HomePage",children:h.jsx(iP,{className:"w-4 h-4"})}),n.map((z,Z)=>h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(_d,{className:"w-3 h-3"}),h.jsx("button",{onClick:()=>q(Z),className:"hover:text-white transition-colors truncate",children:z})]},Z))]})]}),h.jsx("div",{className:"p-4 border-b border-gray-700",children:h.jsxs("div",{className:"relative",children:[h.jsx(_c,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Pesquisar pastas e notas...",value:M,onChange:z=>b(z.target.value),className:"w-full pl-10 pr-3 py-2 bg-gray-800 border border-gray-600 rounded text-sm text-white placeholder-gray-400 focus:outline-none focus:border-gray-500"})]})}),Me?h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Resultados da pesquisa"}),h.jsxs("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded",children:[Pe.length," ",Pe.length===1?"resultado":"resultados"]})]}),Pe.length===0?h.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum resultado encontrado"}):h.jsx("div",{className:"space-y-2",children:Pe.map((z,Z)=>h.jsxs("div",{onClick:()=>H(z),className:"flex items-center px-3 py-2 hover:bg-gray-800 cursor-pointer rounded transition-colors duration-200 hover:bg-blue-800/30",children:[z.type==="folder"?h.jsx(oc,{className:"w-4 h-4 mr-2 text-gray-400"}):h.jsx(Fn,{className:"w-4 h-4 mr-2 text-gray-400"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm text-gray-300 truncate",children:h.jsx(wO,{text:z.type==="folder"?z.item.name:z.item.title,highlight:M})}),h.jsx("div",{className:"text-xs text-gray-500 truncate",children:z.type==="note"?`Em: ${z.path.length>0?z.path.join(" > "):"Pasta Raiz"}`:`Localização: ${z.path.length>0?z.path.join(" > "):"Nível Raiz"}`})]})]},Z))})]})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-4 border-b border-gray-700 space-y-2",children:[h.jsxs("button",{onClick:J,className:"flex items-center w-full px-3 py-2 text-sm text-gray-300 hover:bg-gray-800 rounded",children:[h.jsx(Mp,{className:"w-4 h-4 mr-2"}),"Nova pasta"]}),h.jsxs("button",{onClick:$,className:"flex items-center w-full px-3 py-2 text-sm text-gray-300 hover:bg-gray-800 rounded",children:[h.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Nova nota"]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:_e&&h.jsxs("div",{className:"p-4",children:[_e.subfolders.map(z=>h.jsx("div",{className:"select-none group mb-2",children:h.jsxs("div",{onClick:()=>xe(z.name),onContextMenu:Z=>j(Z,z.name),className:"flex items-center px-3 py-2 hover:bg-gray-800 cursor-pointer rounded",children:[h.jsx(oc,{className:"w-4 h-4 mr-2 text-gray-400"}),h.jsx("span",{className:"text-sm text-gray-300 truncate flex-1",children:z.name}),h.jsx(_d,{className:"w-3 h-3 text-gray-500"})]})},z.id)),_e.notes.map(z=>h.jsx("div",{className:"select-none group mb-1",children:h.jsxs("div",{onClick:()=>G(z),onContextMenu:Z=>D(Z,z.id),className:`flex items-center px-3 py-2 hover:bg-gray-800 cursor-pointer rounded ${x===z.id?"bg-gray-800":""}`,children:[h.jsx(Fn,{className:"w-3 h-3 mr-2 text-gray-500"}),h.jsx("span",{className:"text-sm text-gray-400 truncate",children:z.title})]})},z.id))]})})]})]}),h.jsxs("div",{className:"flex-1 flex flex-col",children:[p.length>0&&h.jsx("div",{className:"flex border-b border-gray-700 bg-gray-900",children:p.map(z=>h.jsxs("div",{className:`flex items-center px-4 py-2 border-r border-gray-700 cursor-pointer group max-w-xs ${x===z.id?"bg-gray-800":"hover:bg-gray-800"}`,onClick:()=>_(z.id),children:[h.jsx(Fn,{className:"w-4 h-4 mr-2 text-gray-400"}),h.jsx("input",{type:"text",value:z.title,onChange:Z=>k(z.id,Z.target.value),className:"bg-transparent text-sm text-gray-300 truncate border-none outline-none mr-2 flex-1",onFocus:Z=>Z.target.select()}),h.jsx("button",{onClick:Z=>{Z.stopPropagation(),N(z.id)},className:"opacity-0 group-hover:opacity-100 hover:bg-gray-700 p-1 rounded",children:h.jsx(Ft,{className:"w-3 h-3 text-gray-400"})})]},z.id))}),h.jsx("div",{className:"flex-1 flex flex-col",children:ve?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"p-6 border-b border-gray-700",children:h.jsx("input",{type:"text",value:ve.title,onChange:z=>k(ve.id,z.target.value),className:"text-2xl font-medium bg-transparent text-white border-none outline-none w-full",placeholder:"Título da nota"})}),h.jsx("div",{className:"flex-1 p-6",children:h.jsx(xO,{value:ve.content,onChange:z=>E(ve.id,z),placeholder:"Digite algo para criar uma nota |",folderStructure:t,noteId:ve.id,onNavigateToNote:re})})]}):h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Selecione uma nota ou crie uma nova"})})})]}),T&&h.jsxs("div",{className:"fixed bg-gray-800 border border-gray-600 rounded-lg shadow-lg py-2 z-50",style:{left:T.x,top:T.y},onClick:z=>z.stopPropagation(),children:[T.type==="note"&&T.noteId&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 w-full text-left",children:[h.jsx(ac,{className:"w-4 h-4 mr-3"}),"Copiar Link"]}),h.jsxs("button",{onClick:()=>ge(T.noteId),className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 w-full text-left",children:[h.jsx(jp,{className:"w-4 h-4 mr-3"}),"Duplicar"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 w-full text-left",children:[h.jsx(aE,{className:"w-4 h-4 mr-3"}),"Exportar como"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 w-full text-left",children:[h.jsx(hE,{className:"w-4 h-4 mr-3"}),"Salvar"]}),h.jsx("hr",{className:"border-gray-600 my-1"}),h.jsxs("button",{onClick:()=>P(T.noteId),className:"flex items-center px-4 py-2 text-sm text-red-400 hover:bg-gray-700 w-full text-left",children:[h.jsx(mr,{className:"w-4 h-4 mr-3"}),"Excluir"]})]}),T.type==="folder"&&T.folderId&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>we(T.folderId),className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 w-full text-left",children:[h.jsx(Fn,{className:"w-4 h-4 mr-3"}),"Renomear"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 w-full text-left",children:[h.jsx(jp,{className:"w-4 h-4 mr-3"}),"Duplicar"]}),h.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 w-full text-left",children:[h.jsx(ac,{className:"w-4 h-4 mr-3"}),"Copiar Link"]}),h.jsx("hr",{className:"border-gray-600 my-1"}),h.jsxs("button",{onClick:()=>De(T.folderId),className:"flex items-center px-4 py-2 text-sm text-red-400 hover:bg-gray-700 w-full text-left",children:[h.jsx(mr,{className:"w-4 h-4 mr-3"}),"Excluir pasta"]})]})]})]})}function EO(){const[n,e]=I.useState("home"),[t,s]=I.useState([]),[o,a]=I.useState([]),[c,f]=I.useState([]),[p,g]=I.useState([]),[x,_]=I.useState([]);I.useEffect(()=>{const b=localStorage.getItem("stride-folder-structure");if(b)try{const U=JSON.parse(b);a(U)}catch(U){console.error("Erro ao carregar estrutura de pastas do localStorage:",U)}const R=localStorage.getItem("stride-bookmarks");if(R)try{const U=JSON.parse(R);f(U)}catch(U){console.error("Erro ao carregar marcadores do localStorage:",U)}const O=localStorage.getItem("stride-trash-items");if(O)try{const U=JSON.parse(O);g(U)}catch(U){console.error("Erro ao carregar itens da lixeira do localStorage:",U)}const F=localStorage.getItem("stride-todo-items");if(F)try{const U=JSON.parse(F).map($=>({...$,date:new Date($.date)}));_(U)}catch(U){console.error("Erro ao carregar TODOs do localStorage:",U)}},[]),I.useEffect(()=>{localStorage.setItem("stride-folder-structure",JSON.stringify(o))},[o]),I.useEffect(()=>{localStorage.setItem("stride-bookmarks",JSON.stringify(c))},[c]),I.useEffect(()=>{localStorage.setItem("stride-trash-items",JSON.stringify(p))},[p]),I.useEffect(()=>{localStorage.setItem("stride-todo-items",JSON.stringify(x))},[x]),I.useEffect(()=>{const b=()=>{const O=Date.now()-1296e6;g(F=>F.filter(U=>new Date(U.deletedAt).getTime()>O))};b();const R=setInterval(b,3600*1e3);return()=>clearInterval(R)},[]);const T=b=>{const R=(O,F)=>{for(const U of O){const $=[...F,U.name],J=U.notes.find(N=>N.id===b);if(J)return{note:J,path:$};const G=R(U.subfolders,$);if(G)return G}return null};return R(o,[])},C=b=>{console.log("navigateToNoteById chamado com noteId:",b),console.log("Estrutura de pastas atual:",o);const R=T(b);console.log("Resultado da busca por nota:",R),R?(console.log("Nota encontrada, navegando para:",R.path),M(R.path,b),s(R.path),e("notes"),console.log("Navegação concluída")):(console.error("Nota não encontrada com ID:",b),alert(`Nota não encontrada (ID: ${b}). A nota pode ter sido movida ou excluída.`))},M=(b,R)=>{const O=(F,U,$)=>{if(U.length===0)return F;const[J,...G]=U;return F.map(N=>N.name===J?G.length===0?{...N,notes:N.notes.map(E=>E.id===$?{...E,lastOpenedAt:new Date().toISOString()}:E)}:{...N,subfolders:O(N.subfolders,G,$)}:N)};a(F=>O(F,b,R))};return n==="home"?h.jsx(Dx,{folderStructure:o,setFolderStructure:a,bookmarks:c,setBookmarks:f,trashItems:p,setTrashItems:g,todoItems:x,setTodoItems:_,onFolderClick:b=>{s([b]),e("notes")},onNavigateToNote:(b,R)=>{M(b,R),s(b),e("notes")},onNavigateToFolder:b=>{s(b),e("notes")}}):n==="notes"?h.jsx(_O,{selectedFolderPath:t,setSelectedFolderPath:s,folderStructure:o,setFolderStructure:a,trashItems:p,setTrashItems:g,onNavigateToNoteById:C,onBack:()=>{t.length===1?(s([]),e("home")):s(b=>b.slice(0,-1))}}):h.jsx(Dx,{folderStructure:o,setFolderStructure:a,bookmarks:c,setBookmarks:f,trashItems:p,setTrashItems:g,todoItems:x,setTodoItems:_,onFolderClick:b=>{s([b]),e("notes")},onNavigateToNote:(b,R)=>{M(b,R),s(b),e("notes")},onNavigateToFolder:b=>{s(b),e("notes")}})}cT.createRoot(document.getElementById("root")).render(h.jsx(EO,{}));
